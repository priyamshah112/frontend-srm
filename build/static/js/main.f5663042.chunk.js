(this["webpackJsonpsrm-frontend"]=this["webpackJsonpsrm-frontend"]||[]).push([[0],{101:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAABHNCSVQICAgIfAhkiAAADmBJREFUeJztXd9TG8cdXymxi5GNg2UKAaPGMmCSOjaeTpzgOA+Z2M7E8XTajOvpS0L70BH/xZm3/Al0+lSlT53O0IdGmejIZDp2SKxMSwSOxSAkEsfCyFjCkoGT5YbtA3fH3pfdu71fuhPOZ4YZEKfd7+1397vfX/tdhHYZBAEHJycyYa/pcAMBrwkwA1HMRQ4fbDnUFv5ZuLu77UhLy54Ws21UylKp9HBjNZ+vZANr9fXzv32x5AatbsDXzBLFXCQaPdgfjYb7iI/HHexiFCGEarUnte8WVucLC+V5PzPPd8yaThWGBl/uOEWsGj3mjFrowrC9Slkqff3fe6kLF47dsdC+a/AFs1LX8wMDL3WdPHhon7LXwAFVmVJcelRYr9WlfL6SxffWShc/OLXO248o5iKhULC1s/NADxCjNAaOKv3NfLb4uZl+diWmU4UhjHFM/oGIYYxjudyDt0QxF3GLBkHAwelUYahSlq7q0SJJ9RE36fAtMrPFYcbAxDDGselUYUgQcNAL2pLxdGi5UL3Mou+pYRqDSeoKSsbTIa9pJDE1tThIrLgdTNuVJsLkRCYsSfURGpOmU4Uhr+kzQjKeDrGYtlyoXvaaPsdAiJSmYxJEMp4O5XIP3tot76NiciITpom8XO7BW17TZheCgIM0SfGwtHHFa9pMg9ibNDLeK6XBLUxNLQ6CCRnDGMeaZi97WNq4Ahk1NbU46DVdboIm6jOzxWGv6WIiGU+HgGjYlauJBWKV+Vv5SMbToaYg1GVQ9jJ/jQOhSKiMamrNyAEAsRiTpPqI1zQhUcxFnrb9iRe+YhhN9PnNA+E1gE3mDcN+YhQ/CGe1N3vYT4wyB7jCGsYwqO0kEtmOhnTc5IB7mOt2GOzwadf6zAKOn2sTHRh9u8LH5wVkyaRuIY53IAg46LlWs0sAx9Jx56/rs+EpA5RSvNvJszwNE4klo5OT+U9sUeoSkvF0KPD8/h3ebr9lKCGE0NmzR+eWC9W+zu4Dowih8aFXukcRQt/YbthTG0EHyXg6lJktDhPaKTPpRhE3flOIHB1baB84RKMtiGIuQgn88ULN9/D6PRDaKQ4ta4fAS+G5z08QcJASK9uxgpRZCj/zK9NIfcCy4iYPjL1GHAJw2agDLkn1kelUYcjIg5JIZDsIKeGrCDbUDk2nucFV5aWXghaFrZSlq1ZdXJRQPMYeh+LliWRtYfhlVUGL39LMY4CWJ+KVqIeLg/sdLX/RYTQiHkSLx3nllJbzEs0tEFtL0iFALclNk4EW7nGrLxN08E0a8gteiQW3VxREIpHtIPv0Kv+PXF2GmiokukE0agDFX6P6hUFCL8Q/lCi6D5OKhRfeCigKGu1xsLRvOAzuCUM+6IW6Lq8qzwbLDyYLOQZMcQw0I09EoNdiCCHt6vJi74IThvyfarlHowf7kXxcM58vLTSYRgSVGa+85V98dfdzJB9RJY7NNgzwOCy5utUQCXEifjSfr2R5Gp6cyIRPnOkZ7uw+0EN+XilLpcXc6sI/P+6eGRsLbPK0Ff1FuA/Jk6W49KjA8x03cOlS/wrGWP07kch2XLrUv8Lz3cmJTLin79DA4ImfnyQ/V6oB/DC9PMNzNrm6Wltta29BCKHxo71tMwih7f6hf8qoMYOzwCRiD0sbV3hsBj+IQAWkKORJbCG2EMPx4DnmKo8vfe+WVUa1QVYjlMMHGkJ0CDbM5sEe75ckSMeAkb1jdTz0tG3dxcNDHLDBVGKWC9XLopiLKKtHFHOR6VRhiHbYTI9APzFLXilYjx5CEdD4LpcL1ctTU4uDyl4jirkI42yyrsFPtqvRSsmYCm2J0lwyPOIhkch28J6qaDZmwbwUntgY5Wwyk2FMnjC5yCDMrLMTeiVobqxmYhacgGaNd+DxpzKaKe30Bgo2bNUrDWcU/H+zMAvao1a9LHACwwAoqWSo0kjPCENIO4h2U3712vITs+QJqh0oGYSUsR0NICUWNMBpToqgnL5FLT4FxdWLL3d+aYe4b75euom2DM5xaIuQ8Dp/vp0whtdrdUn5PRlPh8iyeV09bf+y08+NGz8wDXCaU0Cz9KqrtVXy718Odp1EMiPnbt2fsUMYQgidPtOjyY0jlz5hCI8fP97OZGQjQBj5GgdB7+nt8YBjZQWQIUaTVMOsB6vrmlp7be0t7fKvo4s/VJ12QY2fO5c/ovyR/37bxQXqCzYUcE8mB5Rccd/OLduevAhpJ+nR3jbd9w4e6drfo/eAAl6XixFYrqRPP31hHhGl6rwKrx97vec1xFg9pFttfX1zw4n+SDG7t/WZVr1ng0YPOA2SOHKijI0FNonBGT/zbv87jaRLAekjdWr16KFY5PeDcufLOZVbd7g9pIqSu8trGkJT/1n6ChEbbqN9hFAjO3v26Bz5d632pOZ0n52dB7gkWyKR7eBlwPjbb383YIMmFeQ+CP934cKxO8SAjJ871/umE33yIJHIdsga2ThCaFTWXDVYWqreVX7n3T6MQE7eaukxsz7vzZt9JV1mkRrgS8c7T9glTG/zVvDhh3s+QjIjW1r2tDQiACgIOPjOO33vIXmvqtWe1KDmipAqskYRQkjP9DADcvKuzD1ghqbGxgKbGmsduj1gAo1dUUiGHipl6SrrOeg1cTsfBLrT9N6TpMuumIZJOnp9IYS0rhXaLNazss0AMt7oRaE7xg2G0epNGaXfOZlUgw3cVrrMonEXuj2suJxAfIb7JWmFu8z2zQItG5fHzwdjTVYnEXw32jMsZul+yc4sp8XBzIhT+FKYMxzBQjKeDtHK7JlxyEIxbVbiwHfiCEtt88WIWbQOjMLTgoCDtBKlVuQ8q3TrcqF6mef0hyDgYOp6foDGJIdoihkxHIyHoaQiJZ4iUQIIbTELySqr+NHM31hJHZWydFXWXhTHr1qonjR2CcOSdBCPfvnld/+GtgsvRDEXOX8+qhjKmnaVX2BWVvi51na9wv7V1drqwUP7/m6FHoS2GCZ7NTTjodx3ojxHFPzX0P3N10s3aVonQlvxrGg0PCm/1/ljxw5/hhAyjhTDRsDsMEJMkuojTrmPTCTr6NLjlMHNOO+l2z/mWM1kdrRG6TGTIAK+o0ekqwXrQV6DYVYRlsWmWz5HnYsFNDTw7o1EO2r0PqC8+PDwCxmEEKqUpd89F279By+RiUS2Y8+e4D45SRRVS49LDyq18o0b0bu8OYN2AWlQUN/4cePu8lqhkbQoJR6OdO3v2dv6TKtVGjCxNQUCgT+r//DD6ZGfsA0WP55FaGcWajKeDpm51QYWDPEi9XlyIhPG+/fuEHFmbwJyAoKAg2SszuyqkoOvO7KT1fRpMmW393TXDEKIGsJPxtOh3tNdJ1/oax8AN8OpGhHJ+OLSo8Ls7ZUZpxiYjKdDHYOH+5/vOXAEpm0jxtVK+P1tevL50kI+X8k6JRoFAQd/8+7SyaPH2vu0ofmoSsv582j02rUtGiplqTR/e3nm48mjC6z+yTDN7O2VnWEao6xcm1pYDGP+VGqIyYlMWOfmHauISVJ9JDNbHLbi87RZPAWzxkMvgUm97EwQcPDaNfQnJG9q166hv4yNBTanU4WhoVe6X5UfY15CpoMd38nnSwuq3aADg755+9ejRW2H9zY6UcxFzp3rfZNiN/HSs+M7lbJUSn2c/eTiB6fW5XeeRgihWu3JH/bt2/tXaivkLJm7df91lsVfKUtXee640isWgnXUWB2zQO0/M1scNmMWCAIOimIuYmBy6JobLE+KmeIpeneHzd9eeqNO2Ly6aj6jkotKlB2fHENsaPyMqev5ARZjK2XpqpM2m3IjHUOUaQx51kUxdn2UjGue1PYNxTONcCfDE5TjMbFisfprL+/X0rmNLnZnsXSxVvvxj+Rndirc0PqmTRi9eJ8KMl6DsXvlFZRZVas92TGjGsUkGiiiDtdqT3C9/j+MdRyvdlG6/+g9cgy4pEgjDWQQoXV8FVsF5fQLxpjfFWcFZG67qXEn87ndIhAoL5ZDFW6CFuJxa8WTY2GqD6PcALtwMwLsNGjBU6cZZnu8nTwtQWm3YckwToB21ZKTDCPbtSTJYLjfCe2nEUkwbsINhjlW2tapzCYaUc3GKAWQYXYnsWPMh5qhVTUertJmZZQCuIdZbYdUshzZt42Ol/KA/L6flQleQGerlcnnWhU2O4MNVXRHCPIB4GCbkTpO5R5SYTXRE37P63LjTsOq1HH9uhAr1wmRRHH5upoQ5JjwqN1Q0XLt/LSZBH4oJnbrfcUwO1fvWTgmrl4CACvN8Jaz8cPNBG6CZ4uAJVUbomjBfYjWqR8KTTYSRu4iqD02VCOGxEGDmcwm3e2rSgE5HqQi5YtS5KyTFFAtfVpuWiWr0igrx1dXBNNuNZi7df91nj1ttwGKulvT916BjPK6cs6OyOrm5jZ1frtczG0A5pDwT6yOcgkLxhjjp0UEKpi/vfIGjVG+GwdS6Xj8eCuvYv72yhte09VIrK3V38cYq/kaTh51chyimIvcWSxdJGeVV/d6NBIwY6su1UcqlSbw2NBOwGOMY6nreUeKnvgNtMTPpgsB0V7C6yv7nAQrIbVpndWsK/ua2VBmZRbvmonIyhFvJqaxSjI09WpigZE46fpZX7tIXc8PsPLhm25vMgudc17qaQyvaUzG0yG9kyxO5ro3BfSYRjKuUYMyOZEJGx0H8ppJAeNH3IUo5iJnftX9GiiGQkItBHJv6VHh7vJawe6RV+XMbzR6sB/U46UejsvnSwu5LwpfNfpsMoTnzFIgCDj4+yv3XyXq+DFPKcIPjO77CrXs3cd5/lhtv7paW/12bnnGakUcN+AbZpFQDlUPvtxxijhkzhpcJ6CWNcp/X1rwE4NI+JJZEBZO6LOgWZVOn9x3G03BLBaUyjIIbdWspVXSLhYfFZSy3s3CFBb+D0Vef1weWn4SAAAAAElFTkSuQmCC"},117:function(e,t,a){e.exports=a.p+"static/media/Desktop Phone number.571a53de.svg"},120:function(e,t,a){e.exports=a.p+"static/media/Phone number.0484a948.svg"},130:function(e,t,a){e.exports=a.p+"static/media/Email.3df79885.svg"},134:function(e,t,a){e.exports=a.p+"static/media/Desktop Password.5b3832cc.svg"},137:function(e,t,a){e.exports=a.p+"static/media/User.e0b3dbe7.svg"},150:function(e,t,a){e.exports=a.p+"static/media/Info.20aaefe9.svg"},151:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABAlBMVEX////btJFjY1g5PD1ycmpRUUfMpINMTEzq6uHg29NhYVbt7eRwcGhSUkjQp4VtbWVcXFAxNzpFRUVYWE7KoH3asYwvMjMpLS5ISD0wNzrTrIr29vbl5dxHR0hNTU0tMDLFxK7w8PC8mXywsKvCwr7V1dNDQzfi4uDb2sx+fnaPj4dkZmdUV1hTTkleVk6pi3LfvJ3Hx8O0s6Gjo57Y2NbQz72Ghn7ExLvr6+uXmJnKy8uHiIlaXV5ydHSXfmmHc2J1Zlnt39Tp07/cwqyiopl+gICSk5S2t7enqKl6aVuLdWNrXlS9mnyfoKHMtKHm0sPby7zRv6K+q5K2qZO7t66oqJ98FfYnAAARyElEQVR4nNWdeUObyhqHG7JDEgLYmF1jEmMWtV411dSlrVprtadn0e//Ve7MAGGYhQQCDP7+uJ57yAk8vPsw6IcPcah1MXz8/XA9vZp10vpsev1w+bgYtWI5dQwaPX6Z5rVabaempS2B/wekT788jkRf3aa6GHyZ1bYdNLc0cGj2Y/F+bdl6vE5v19hwjmo7s98Xoi81iFqDh9pqPFM725c90dfrVxe/u+vimYbsPL4rXz37kt7xgYe0ffV+ks7wuubHfEszph9FX/l6Gj34ck+XGX+8A0/tXaaD8kHEaeITzmPHd/y5VEs44uhqeyM+iHiVZMSfaU7r4g8xsbF4cb2xAZF2rhOKOJptkGHciF9EszC1CFQC2dr+KZqGocfw+KDORPNQ+rlZjSCl5ZMWiiFbEDY3opHcGoSTRHHVFqKhcA1D5wN+OhNNhemiE0Kdp7RzOTxLyuB/HXYQmqrVtPR1Isapn+EHoUO5PRU/FY8iBISMaeEp5yEaH8UYBSMuogYEEuuoV1HkUbdqU5GAi2ij0JTQRjyiSkGoI27sH8UCCKq/MMKQRwq+hBHOYgLcFtXbRFztHQlLp49xEQqriV/iSTRpcQVjGn25tyTITXv5uACBhJTEs9hMCNx0KIIwguUZrnaEBOLvuOo9UO1BBGF8qRRIyPOaaZyEQlJNuD2bduh5uCYg1fQ64QIeNzwJB/EThjo6afrLDZtQv0E/dgQ032chFgstvVd5YpbXxs0L+ln7HT9hiCsY2uFepXLEItSeczkdEQooF4PQyiHAqORyzCP5l0oOpSBNQGf6GBZh4xbw5V6YYbgHDj0j4+bjJ/wZTqZp6McQsMJIpVoaHrICtBY/4e8wCLX0LfTQJYfrmL6H2H+hI9vxNzU/NifUGs8IAooq+I0j81jlxiSMv6nZmFBrHB3bfLk9CvDJNK7tv9vxP03ckFBLPx9XloCWKzpHdQxeE0R4uQGh1kg/7Tl8OavoOfS3L85Bs+S/K0ItfXSzJKg0K0Qm1dJf93D4F0S/Hf9yW7BcqmmNw1+O+SrNVAr+cBqahnbr4rPtK5BQBxe1Lp2mH2F4OYCXSjVhurRMqDX0XzDBVFI44aEoQrOn0Z6aN896o6F5YgK4BqA7fsk5eIgPmdC0EgjO52OTL4UTVo4EEVo9jXYLL/Pl5uuRDjE0F6mG/lU6ffj89QZcPGG9lG3Crw3wSYD3Aj/QXHIvCeFXCsg0Vl+q3djXmns5vrl9MkmR0odHX59uf93svUA4yni2CStPDU2/NfEq9jEsFCuoMRXQ0yxMwsYxfr2pZrNZIeVca8VNh0gqx7fQvDkMjyBEDd1O7IAfzizCvRQlEzNnxxykbFJsto/mci7jMQhvUR6Kn/AizSVcW81chWFXkhBl2m78hK2uifiyASFfJKGICdh69KTnIiFsYoSw4aldCyA017x1ZnyFTyhiT635CDgmQhGridbTtbhsKGJ7Wwst6+fjIdT+EkD4YQwD8TAGQtj3bf2JH1BBQ91hJIAkofa1Uom/bfveTMdECHvDSvxGbH1KwYYxIkJ8uNiDVRd07HETKh9Te3ERNp5gjxP3euKfj6kUmNyi91JAqMGVt61vMRN+B4R7jRhyKSA8gj9iD8Q7QJh61uIgbKDF0627uAnhhbzE0NPk9p7RpCGGMHWcjp7wZS8nkDD1K/LpyV4riJ/wYyRoLEJTW3/HTPg9dsK4c+m32AnjrodK3ISx9zStKAFZhLH3pR8+xUwYdyqNONXQhLGHIQjECAFZNhSww/QuQsIKZcL4nTTaekETKgIIo8w1iTBhpCWRikIhJowynWJsaDYUsJZo6lNEiEQqFeSjSBFNGM3EAAJHTUXBiKfSrZwwFzXV+hZBSsUAm9/E/zqeCPJNUjzU0p9ICQW7KFL4ZRFLNGJ6GVJhA7oSjWg4pNBLBgaYhDAMvwXHnTQJYRj+pIgTJuRXYYZcEbEwjH9xhq2QK2LCqiFUuPUCd9L4F2c4CtVNc8lz0nDdFDfhd9FgS4Xpplie2SqIBnMUoptiTvpJNBam8Ip+IvMMVFiArhUa0VAuhZVrcBMmpRiaCutRFGbC2B+nrVA4RkyuCcMyYoJNGI4Rk2xCYMQQCDELbolfYqO0uRHxdiY5DRumTRsbfKU7OT03rk27U9xHE9XOONrMT5OdZky1NvJT3EcTmGZMbeKnuI8mYhmYreAzBp5Hk7GEyFHQ1eH3EISWAj4WxgCTNPey1AqEiAEmN8vYCoKIrwEnHhAkVN+I+DtACU6jjvxasYnFYOJGJrb8IeKA78BFLfkpGu+mTODqFb77B8zdtUVf99pqFQrKt/U81XHR5t/FYoLWuL1VQFrHU5uOhxah3kmiUUzCNcxoA25BAyK9h1TTmhQtxELhjzdjE3NQSxkhv/XZl0Zz6XVJqBS+ezBa7zM175Z8xc/Val80wQotMiX1fkkIGf98Ym/ua1ZI+wHdV6XqJNGe2ldLmcy4XcClfLtLfaQgoYdu5f5y8RWLY1mSqhnxf+WJp95EzQCVTpSCm7Hw7e4Txde8I/CAJCi5eiKahKPRGAFm1D5BCCHPd/9ZQn6s5Jr/7FJ4xeJr1UI8Fc3C1EmphAAzpQlN2P4f0n///pt7+fe//+A/MwjvTULgqfOk/F05TH3TgEhtyoQn6Q6h9BtNCMPQQpSS9qc6rRA0pX4mjahc6nlCnWsK8ERyJCeqbLRG/TEGmFHfKDeddkjCfH7ICUPbjKXTYRK6uIthf64a1Qyu0pxMpkMGoN4vEIQTWXIh1vezmcmJyNoxGtxnpGpVlmU141aRIDylnBS46YPSdhNm3IRSOZvN1vfr0rg/jL0L6J0N7sdyFdBZDuUGJANRuWbYMD8DCQln/Fx1A0pG1lS9Xs9W5/2TXjycvbPX+zFIBFXshsuECdX7tiudKjMGYL4zVFyIbyRhNYsJYJal+eki2jJysXgbS4YLzkztBGFpXDg4wACLLBPmdatFNyEPCkQYAmVJ1YHTqpNBNKE5OjGDjrwK6E1kGGbUooIhKgNGGALC06Uvtw/OC22V+m6DQsyaoSmPH8Otl73FvVpl00EfNUjAjArMc3Bue6pyoLIQdaf3OT8HH6K/ucoktH12PgjJY3uDicqlQ3eadFIYiODiD3ZtM57vXtOIHXXXImwDwILyCjyhpKrebuqmzI77m0MOgfVkDzx4GZSTgkCE9mvvntsmalOInenBrmnkA/QxZdkVYZhsN3VBzjcaRFoDb+uZV0E7qT1BtXd3LVKlTThqZ1ZUTBufW/dh7P4CdR1CBGn0g7Y+vb66Eg+oTNYK5KbmBNU+hxRt8D9Ke+pC7IBbcI6OmYAgVunbpErZ8mrGbL18GsRZW31pHT6QDehLwyYoYKE2CkiliPem3YGC8svBrhWsSp/5NWVDrhqrKevZU992HGbW4gMmLDOuLONMUOfASMhXleJMt5VGNwAEoA0IwrDE+hYjC88hr4asy/7isTdZk0+SsywnxRs3QGGmlPZVR7d+gX5tbhICQDufjplfI2WtRkeuroLcH/tw1VGGbKC4MphO6pqgAAj6WewC7wQRCChrYysR2fVEOWF/TSlbdm7mCkvWjbUXW09WlAeXCctM73JNUAeIcDlCdbt5HREWlhYsKG9sQuCm+M1eYcj6mlNzf10PhafMsmoFEtZ7t03CtJNJr51/b2rOvlHATQ33CT0Z9+/XA1ybDzYddENjuSm5lKF8xginxFJOm2PCjJrNkn2+F+P+ZDXgwA9gleekVuPmIuzrXELlM48QuKlBntWrD1jtqAs/gGAKN3iEYIIiCPFBf0YQ3nMJq5QRQfR7mLG+4o/Q9XzEILybRrZMz06WEcmlDHy9res+2OaEoQpYQNFnnNjDUb2nx4kvE0KBlqNMrdOgq3slljLmGCGa751DB2w8o2zw7rjHYDX2AjzxDQgFGiuDhiQDUXnAuraO69kGmpyI/xr4B8t46yB6/PLvVsmXjzpng+mAvMYS8QyqgC9HdQYuwglNCPzf+3bzEQ1+j+qrUNiSQUww3TTjfgbVxjtv3f30htWylWAe87ogbizWuQ92ApgQdlKGxEkT7kBs4wtuLkLW5IQEITxclYto8JYdfZVCdAqQtXmplHwGpRTx8RBbhWKG4fIuwWTKze+8osEtinO/JgRn514bFB6I7pV9HafnTE7WfTIYBdGSzDOiyga88F8p+E0bMgAeiMoAJ+w8YIfaXndJLdNNzVI8P62za2KAUmHwG+8M8QxKecVXMTrXziGPli0De5qyxwVw/JRTMO79E8qeRixNcC/tuwinGCFvckJ3KZv1uixOyWBX/Rb56GcdebTeUFggEs+fuph5eZMTFKPxdoljRJmVTUeBqn3Zy0/xCUqZuAh150jbA1DipxlTnEiss8Z937UCCfgp38fwxs3VtAHCpXm9wrBU9vRRiZtOmfWCfvSzlrySDT5BKe4H3fpy95vH5JSRPdMMEsdNM4wwDNiTgpLMTzaqs4uPeIaoO5WEH4bqShNy3ZTRm44COanknWywxk1xr+rrdogqRe79WZlmzNOvG4iBum4kg7NkmnEFYpsgtNm9WrZseQ2/4hDS3bf/2deWR7JxJiilSBDarTdjcvJjQm4g0hUxSDW05JFsSvYsr5wQhHbr3R7zfFxanWbMs7NFJZrAJpTgbeQuBi6dkXjSbbfeygF3Kau8ohRa4tSLfTLVnG1CyF8XXk5Q7qYNtG1flBVhKK/loxLPTevkk5pg9d6Wwa0YdiCSm4bs1ps7Oanr+ajE3c9A1vzTjQi5jy+WExTRtC1bb+7kZKwuhd6E5Or3OHiigaryKoY9QRFNGyD0btnUdX2UG4gSkWikzQi5ycaeoKiNX1fm4xre5LRmmvEgLLvHi4vN+DySTckKRHL/5cxs6DgtG/nIyVOciuie84ONTrh4ycaaoNpXbsB8F1VKTstWWjvNmKdmBqL7byYON0o0UCDZsAlR46YUyc17aNWbF4bVtdOMB6G7XARbznepyjZiaY7ibUgAmsMFZ3LykWbMMzMJ3Q+hgvfdjsqcpUUYcGTTBgjRuj47DI310wwUO9UQvfdm5dA+ETPZoMZN+UwRgtabMzlJvnxU4qQaoiAGnywwsfdloEAkmzaz9Wa3bKWynzTDJSSmC9/L3SzJZeYWN9i40Tu9YevNDkPZrwk5hKUwWxpL7GQDJyiyaQO5dK6wJyefaQaKnUxdS/uB1koZKrPaUxiIZNOGWm/25GRu9AqB0LVm2qN3IAcScw8YnKDo3fqQkBWGqm8f5ZWLMr4LbOOmzRYz2cBApF6aAa03c3Iy/KYZLqGrbRuFRSixkg2YoKimDbberMVuyV8p9CKs45vdAy8lMk5GG1Ht000baEzbjN16pbLvNCPxSv4+TngW5HvZYmyKBoHIeOOiU2RMTrL/NMMnxJdMF+ERyoyKobaH9F59vUiHYZA0A8UmxBvTzVZp3KrSFUP9TLWlcE2Y3oERJM1wCV0rNf3yqlcOfIje2q6+vTLet5jQtg6SZtApWYD7l3imeb0fq/BtrTAw6WRTmjNez+tQgJlAaYYmhG9HGeq8T7441BudvM3hq02rX7FYITrZjOeMd7uoPCMF9FGHsA5f5FPHk8GQu+e7dTEa9CeZ6kacMl0x6HKY79I+GjgblCHbfladnA5G6+1nb41O+hP0liF8Q9T3CavUgoZKE16RnzH8+6gsW6YoXQZ6AbM1GgKDogD1GaJlsmIwCEk7+0kzsokmAYd8GwxHm75b2hudDd4mVoiuRypTCxpUT9MlP+G5S89BQ9egjueT/snZRbivzbZ60KT3c7VqkXqhUsmGCsQZ8QGvNGOZDBhtPDmFZFG/EXwBSE8n45IqWf7LgCWNSLkpEYYl6nGvbHNJEjTZ6WCxsTf6FnBfkzWjSlVjaVrEWyWMWOp6h6FsmEyWsYDLqhlosMHwbBTTO9yeAkXmbDHoA9rJHPKC68xWVahlB0cGIsIGQp9SpTrIiCVQNyf3p/3XweJsFHKMhapWq9W7GC0eBwNo4PkYKTOdzWbdbjff7YJ/uLqawjYAaHL6OICfHILYakUC9X9Xna5zud0BwwAAAABJRU5ErkJggg=="},168:function(e,t,a){e.exports=a.p+"static/media/read.57dc6f1a.svg"},171:function(e,t,a){e.exports=a.p+"static/media/Edit Button.f3f2ec61.svg"},176:function(e,t,a){e.exports=a.p+"static/media/DesktopCurriculum.1903d8aa.svg"},204:function(e,t,a){e.exports=a.p+"static/media/TaskBook.fe46ef82.svg"},205:function(e,t,a){e.exports=a.p+"static/media/unread.3bd8eeaf.svg"},208:function(e,t,a){e.exports=a.p+"static/media/location.2b2b5edc.svg"},210:function(e,t,a){e.exports=a.p+"static/media/Lunch.440c0ec5.svg"},212:function(e,t,a){e.exports=a.p+"static/media/User.e0b3dbe7.svg"},214:function(e,t,a){e.exports=a.p+"static/media/report.cfd7c24e.svg"},23:function(e,t,a){e.exports=a.p+"static/media/Back.c385b94c.svg"},237:function(e,t,a){e.exports=a.p+"static/media/DesktopEvents.2b4fbf13.svg"},244:function(e,t,a){e.exports=a.p+"static/media/Bus Details.a26ef9c1.svg"},285:function(e,t,a){e.exports=a.p+"static/media/ic_search.ecef733a.svg"},286:function(e,t,a){e.exports=a.p+"static/media/remove.cad70081.svg"},288:function(e,t,a){e.exports=a.p+"static/media/reminder.905469eb.svg"},290:function(e,t,a){e.exports=a.p+"static/media/info.111f8f6e.svg"},291:function(e,t,a){e.exports=a.p+"static/media/FileMoveIcon.735900d8.svg"},294:function(e,t,a){e.exports=a.p+"static/media/greenTick.91d83b1c.svg"},299:function(e,t,a){e.exports=a.p+"static/media/sheet.99ec286f.svg"},303:function(e,t,a){e.exports=a.p+"static/media/DesktopPayment.b44b8c66.svg"},341:function(e,t,a){},358:function(e,t,a){e.exports=a.p+"static/media/GreenTick.c997145f.svg"},359:function(e,t,a){e.exports=a.p+"static/media/Return.826abe2f.svg"},46:function(e,t,a){e.exports=a.p+"static/media/Edit.eec32b6b.svg"},483:function(e,t,a){e.exports=a.p+"static/media/DesktopHome.b46861a1.svg"},484:function(e,t,a){e.exports=a.p+"static/media/DesktopNotification.41e7b2a9.svg"},485:function(e,t,a){e.exports=a.p+"static/media/DesktopAssignment.d4f3f75c.svg"},486:function(e,t,a){e.exports=a.p+"static/media/DesktopNews.302737c6.svg"},487:function(e,t,a){e.exports=a.p+"static/media/DesktopGallery.fe28885f.svg"},488:function(e,t,a){e.exports=a.p+"static/media/DesktopTransport.66f4be2a.svg"},489:function(e,t,a){e.exports=a.p+"static/media/DesktopSyllabus.8a2a9752.svg"},490:function(e,t,a){e.exports=a.p+"static/media/DesktopTimetable.1ea02508.svg"},491:function(e,t,a){e.exports=a.p+"static/media/report_card.6d1ce208.svg"},492:function(e,t,a){e.exports=a.p+"static/media/support.78f59533.svg"},493:function(e,t,a){e.exports=a.p+"static/media/faq.6547b080.svg"},494:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAoCAYAAAB6tz31AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAL0SURBVGhD7ZgxaFpRFIb/FgQNPEgLGmqgliBZbIcgCKUihUAJZEic3LM5FeqQoY4uHRwyuWV3MhkCoRAIYigUQobEJUiohVhSoQ0IUXBoz/Vdoz59WqjnCe35ICT3GvJ43znv3P/lwft3hV8Q2HiovwtMiGBmRDAzIpgZEcyMCGZGBDMjgpkRwcyIYGZEMDMimBkRzMzU/5sWTa5jLdjCaeoIBb1nR3x7E2GfXmhalQtkchW9GkFiFZmIoRc96p/3sJPXiwFW8DYbgFevTNq42j/AblEvGZmN4NgrpDe8cKNh+b2ujFEC7D8zr+kaKk53H9+rSH8407tEt0jNOg7TJyjpbQ5mMCJIlJKrbnqoCGfYSV3gqunC0sYq4noXCGIrQ3KVkNRw55VyB/S39gY7nyQquaqzB+Qq8kdI79fR8nixtr2iN3lwXHA06Te78JPlpu+pYPcj3TwMhJJBcysRwJKHxsD5n3YbFeSF2aGnI8cGUTzBcaUN+PzYiuk9BhwWHMTyIj2yzVtcjpt/xRvUmoB7cQFRWsafqZnbwFc7WVZiC/BTQVrXN2MLUirfUiFd8Id0IRlwWLABg24cjbsJnVjBz4b+kYrySPlttlA3N+5RMzaT3ex9dR/3J26a73SZH2MOS0XxjsrGi8OCG2hQZ8KY63SmPVpqBy3b47Ykgd7sTaeqg/K/tagz6TKPJ3RmbI5KzovDgiu4vKa555nH8ri5Z3nEC1+UYQNPE51PJ2MZMXZEQ/PU6W3UyhM6/S9w/JAr5WrUbZQSXtqd3nRAvTEjXLmbCvJVShaAN9KfLMZBB+U5FYVSQtiuKBQVX3ciXI01DzsuuBPFVETyBWhuWoWprPucEoPKuv0RjoSl1RgwEM6uD5/6ox51imKHlBK8kb7Z3EXlYBUVVeyzRrgpw/SiQZ0xxPALwjTf5NR8H/1y84+9yQmDzGBE/F+IYGZEMDMimBkRzIwIZkYEMyOCmRHBzIhgZkQwMyKYGRHMjAhmBfgNeYMUBi3tQDcAAAAASUVORK5CYII="},495:function(e,t,a){e.exports=a.p+"static/media/DesktopAttendance.020fb290.svg"},496:function(e,t,a){e.exports=a.p+"static/media/Hamburger.9c12e25c.svg"},497:function(e,t,a){e.exports=a.p+"static/media/DesktopMessage.49ef9d28.svg"},498:function(e,t,a){e.exports=a.p+"static/media/parentText.a9dc6ea5.svg"},499:function(e,t,a){e.exports=a.p+"static/media/teacherText.a9dc6ea5.svg"},500:function(e,t,a){e.exports=a.p+"static/media/AdminText.b6aca761.svg"},501:function(e,t,a){e.exports=a.p+"static/media/Teacher.5a922fe2.svg"},502:function(e,t,a){e.exports=a.p+"static/media/Parent.63ac0447.svg"},503:function(e,t,a){e.exports=a.p+"static/media/Admin.8b80c1d0.svg"},504:function(e,t,a){e.exports=a.p+"static/media/User.e0b3dbe7.svg"},505:function(e,t,a){e.exports=a.p+"static/media/tick.3bd8eeaf.svg"},506:function(e,t,a){e.exports=a.p+"static/media/double-tick.57dc6f1a.svg"},507:function(e,t,a){e.exports=a.p+"static/media/smile.ae75b65c.svg"},508:function(e,t,a){e.exports=a.p+"static/media/attach.1ee18af7.svg"},510:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAABKCAYAAAAc0MJxAAAABHNCSVQICAgIfAhkiAAAAwJJREFUeJzt289r2mAYwPEn7TacG20HDuzmWAftSeihytilxd460MtOw2Pyh5T+IfbcYyFSdii4Q0/O9FAsWFJ0BVcDbmJlmMzCsksVZrU++fHm5/M9Vn3z5kMS4mvKAQCUjuTEh+23W5HI4wgwqPtL7byIRQ9ZjO1YoliJ6rrO62zjVXWQd3tfLdWQ2xnGSCOs3V19zu39NZtvJ+50TkEJitK73tvj/jq0Pdt7hH2jovQ+ar8HmpmNdHp/OqlU4szMZ70SGgoA4N3ay6+M5uH50KdePL7wqtW62WE5GS9n5BpVCDOW0Yt5aLGmQQnFovQMAIQJr4UTa8oNJw8w866dDxXWQ1AAhDVqFhQAYQEADgqAsNA3nLlcui+KlYNsNgUAUBh7uRCPLwit1s3O8vLiFyMTkKTm+sbG67SRzziZpt1qx8dnh+gjahiLI0uSmusPjOl6qjrIG4YKKRZvCiqEWOahQobFcw25nVlZjZXG5itwHLePxcpmU5/h/gUe4G4dyugFXhQvYs/n55is389qZW1pdZKHpSNqWJBuHUpHcmLSPtiywpnLpfvFonQAAf5uaNtScNCxbF0zDzLWXLV2VYb/d0w4Pf1RMTtgkLGgdCQnut3+J1Ud5CWpuW7HmH69wE+7mDPdqB+xXIEC8B+Wa1AA/sJyFQrAP1hMoESxEjX6fq9jMYHSdZ0PGhYzqKBhsYTSg4TFGiowWE5AMcFqyO2MpUkazCkoU4POwrI0SYMxXY+y2owv0p7IE1AA97CGYMK3k8aJi9MaZeiJO9blcuk+AOyfnyvvo0/mt6u1q/Ld31zPU1DDksl42e05jOeZU8/rERQygkJGUMgIChlBISMoZASFjKCQERQygkJGUMgIChlBISMoZASFjKCQERQygkJGUMgIChlBISMoZASFjKCQERQyJj+pO/2ojhOxgJr0D46+j049ZJagvl/+rNs1Ea9nCapa61TBw0/J2ZSgKL1rzuooongR29x8s7W4+HTJjll5KU271er1zmUyGS//A9sD2Vos+xjjAAAAAElFTkSuQmCC"},511:function(e,t,a){e.exports=a.p+"static/media/minimize.56481ca0.svg"},512:function(e,t,a){e.exports=a.p+"static/media/dots-menu.7083b2d5.svg"},514:function(e,t,a){e.exports=a.p+"static/media/background.3b15f3dd.svg"},515:function(e,t,a){e.exports=a.p+"static/media/footer.d9af65cb.svg"},516:function(e,t,a){e.exports=a.p+"static/media/mobileFooter.7fe8cc2b.svg"},517:function(e,t,a){e.exports=a.p+"static/media/Close.6c24d5b5.svg"},518:function(e,t,a){e.exports=a.p+"static/media/RedFlag.72378518.svg"},519:function(e,t,a){e.exports=a.p+"static/media/YellowFlag.d3f15e2c.svg"},52:function(e,t,a){e.exports=a.p+"static/media/Filled Add.b52c9a61.svg"},520:function(e,t,a){e.exports=a.p+"static/media/GreenTick.0ebc078f.svg"},535:function(e,t,a){e.exports=a.p+"static/media/Bus Route.205fb0a8.svg"},540:function(e,t,a){e.exports=a.p+"static/media/FolderIcon.bcf3776f.svg"},541:function(e,t,a){e.exports=a.p+"static/media/EditIcon.3c6bf664.svg"},542:function(e,t,a){e.exports=a.p+"static/media/DeleteIcon.ab3ccaf8.svg"},543:function(e,t,a){e.exports=a.p+"static/media/ShareIcon.38db7547.svg"},548:function(e,t,a){e.exports=a.p+"static/media/log.2b4fbf13.svg"},549:function(e,t,a){e.exports=a.p+"static/media/summary.8a2a9752.svg"},551:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAACeCAYAAAAIcpXAAAAAAXNSR0IArs4c6QAADYVJREFUeAHtXW1WGkkU7QaTkzPmg/mXM5oZsgOygpAVhKwguALJCoQVyKxAXIG4AnEF0RWEJJqTf6OJzslJlJ57u7oGRBgdgvDq+eoc7e/uevfWfVXV/aqIl5d/TyJLGhFoLDirkt0oijsaLbylNq3R7ozcuHNw8KF+S4FQZza88SC5zr7l5eVyFOWeq7P2lhgEgTYGTc2U63flylhLWfd7bBkUAv9FrjMEJSAOyqRbnlm44ToguCTK3C3HRbX5Rq5ieo1cI1cxAopNM+UauYoRUGyaKdfIVYyAYtNMuUauYgQUm2bKNXIVI6DYNFOukasYAcWmmXKNXMUIKDbNlGvkKkZAsWmmXCNXMQKKTTPlGrmKEVBsminXyFWMgGLTTLlGrmIEFJtmyjVyFSOg2DRTrpGrGAHFpplyjVzFCCg2bWhkvR5Ll5aWSnEcP3IW5cqDliVJ1I3jXpf7Tk5O9o+QBo9rWVdF7m+/PXkZx1EFM/OUsSyOIwnHkFyNdP/+w+j+/QdtzuZzdvZ9+/Pnz91x14W2P3hyHz9+XMzn76xBpSA1KuDvOEmSNtTZiOOkS0IODg46XPrEaxYWForcxnm+MFQWFu42l5Z+38Pu5uHhh00eDzkFS24BCapbBfg1/MUZoe1Pnz62SQhm5sGsPLkSVgtLS6miuc50hNP3uNLrJXu93o8m1FpzheRuBXRXUVBay8tPqlhvDBcMXhdKCpJcqOs1AK7jrwhSN8/Pf9TpTumWQeTGgIpTHrB9DKJSQqHUp851g/pcjL+7EdWKfS245TbuA/WS2LiO63aw3jo9/fomxHo5OHIdeVEVpO6DsBeHhwcdTqqFvxqYLODPu+X2339/7fwXKWx0RVG+TLWCzCbdMhSLuvfHyrdv30rwDDUQvIZlZXFxEc86TAsInhFECoZc54YfbICECpBtHB5+rHNSNKjuHbaLIGi314ua3i1fB/2MLBLWdPXw3SruXwPJ7xYX7zRPTr40QGobGm/FcX4Hz3sVkpsO4iUGiV1cfLhDYqHYFYBOhW0BdOyL0PbtvTg4+Fj+P8QOk0+3zikScW+4+t6fUGwNin2HZQFuuYznvufznMsevlrmtnhyPbGoE5+iAfQKQLf7REdv0KotTlNNdONw9bUkOX/mCV1cfFAhwfAO2yB7IxSCxZOLPugWiQXY6Lv2uiTWEw1imzelGbrsQUKh4tfwDvQcmyTYzZN5U0+fzn1Fk7u0tAzyYrrEGs1lveeJ/hkXfF3oqGJPKK5hK3oDhEPVbMzltlhPX/de8zhPLLno1lTiOLfK+o+uGK1aNKbYnz0vz7rVisYbW+dUbJUuGnV8lXnJ5++i3pebRJJLRaAPukGFsP4DoOtQbAmgVmZNrKeOBKPO3QXB69yH+r/KPDnvwj3ykkhy8TqxDqhi1nno6rCvCeVEb6bZcJqEipOTr6hzI7wQyW+xD+1a1blVqe5ZHLkECmS+BvjNe/fuFaAOKCXZvsnG03WJZh0cReeoLqIivEnz9PSkjmuPs8J43dvM7Dxx5GZAHbMv21//Wp0ZIlc8KKsWGiyALHw4vcl1ieoVRe5l1ToFO8VcgfoMD7Pg4XGpYgfXZ5iFaz1KFLl9pQ6qNgXyWsbM6qSssKWKlaxeUeTCvb1EC7nt6lqZqvUFaFCx+JrU4n50jSr+uISlGHLdF5qogNZo24PkQZMA1HAeqF4WRBZIvpdGvt8jOKA8fN48t8WQi7dPaalnFwMgocuR7BO0eYJz1bNZEHEOggH46bCH9fjlVdfM8rgYcgEUXXIWrBY/R/enM0sgJnkWCyKvY8FMEveLapLeOYshl2974OLafO3oAEtVwVWxKXPN+yyY/XfdubKUDIsg1/cRodwuXjvCxV0OapMC2HA+WCBZMLmf9S5sKA6fM69tEeT6SETUtd15ATGN5zL/fHs1jXtN4x4iyL1oSAIV8FdBw0iMoGROs9a+qEyLIDdJ0hBURv8TqIIohK7ITC6XHPEUuGd249Aliv+44pKZHRZBLlxZSmj25mdmxk/7QSDY3PK0QbX7jUZAhHIl11ujYRu3Nymxrz7u6Kz3iyB3sN4CAEeotx7NGohJn4e8Fnnt2dlZF4sCqpi0Dua+eScR5KK0p4D0ejHq3ngPAJXmDcx1n496tshz3fvltFAauQTEJx8X5V9g+P0hLBFqgwLpkiuUbpCZ3zfPpQjlXgSg1+G2fw158ZjErRzfg4vsl4sh1zVEkpIPgpP2+WxUseJoCKoV9W67/8HAFc5R5896nxhy3Veg+CUBw/o2gr5FfT4bRYyLYeaRc0RCchB3Og3DHpcSkiRyWwSEgEEJHSii6D8oSABqTB7K2H/s2gwsjMm2pBcxYsglQPyqAlIr5+ff2wQTQymrXEpMziW7sCC+V2ZhRP7TfEvJrxhyHSAumgEDn9HXTTaxb9W5aSlw9fPBuGVsFTiqH923Ko+4YS9ck5GEkZu0CAtdswMt4rwXNRlQ9XPhQ3BZAF0okDyXzNyKIte7Zihh1b0UcOqVVvf6EQYsgByrS5eMUf2tPv0y1kSRS0ighhrAKmGOi3qm3nhh4c6GDLjSWXLKeCv1muOEWH1gfR253u2H2UjJqTDlEhYHErtC0Vo+ny+QbCgZA8I4Vne+yXmQ3BbytM9xQhgYzkIXn539qM43Z6OfLk65zCZG01Wx4Gi6DQydbPnRdPN+a5WNx43hUSq//PKgDF7RbYvSaZKQX3FJJLnsK/rxr3TPbo6KZJ9jducVzsJR9awumC+6Y+aF7ljC6MNxpUokuczsoHtmo4VjdeEO0Q/O78xSweyKYeYcTNfAMcLJCmOV3YQrUUGqO/ZkiyWXGaR7Zv0GYDfYPfIEQzVbJNwbcVNLEpvNnMOCtcJ+bDbhSonb0kdEiCaX7pmEwv2lUwR5gv02CF4nATdBLj8EgMi3cMVPMVTkBerZVLF+m22Bm3juNO8pmlwaSoL9jDKZgtfddn8isGwuyKngwhbx4ARmnGAFKj3Cq9CUaG77L1dTeeAN3kQ8ud72wRll2LjxE4FBxXDbUQsEvyXJkyqZDTV6Ak4NiFbwCzwXUxB+KPL5rOe5mMdMOnz+pCmYuR9pIAkGAQA7rmJzBcsCVFxmAwvrTZKM15Xp5Nj8xspJycbNhA63+5z3xHkVdmlwbdFtJ5uoCmpcJ+EgFsfZePr+VHodyzwPpqDIZcZBYrdvQA6TbT7pgKAWVea6SSQ+R7JASg5Ek+yH6SXok3Y9if4e2EZKtnGswQYTB36jbl/Dc6o48CePMoVGLPMcHLnM9MWUTnlfRn+4ibqxhYbPv5NjcwwSRzOAwIK7hoO04k237iImfP1Jl86pCHG87I6H/18BuVEDrVmqtwq1cTrdGojagxrxF3dB+B5Cdo68e3aullGK6RAW9mHXcF4JVOJVZ/weyzenp1/o3v8KnV4N5PrfMOigMYXZ5h6C5KQCwl6BnEfoE2MRX3DPQ6TtogCgq5XAtR90/DHvyv12iEsV5Hrg2W1CamKbf2nKlApVOvfM0Q0MguegM57sz9O4VEXuKIJ8TDSOdUYd17wvp9m4226bkau4BBi5Rq5iBBSbZso1chUjoNg0U66RqxgBxaaZco1cxQgoNu3WKJfhM/ysp5jLS6bdCnLxrXeN4TP4rttimKr7qH8JC3U7VJPLCEao9R1Yq7toi2QFn/+eIXTmLQmfNN4qlFKgklySxiA6fJDfARH4oJv+BCuHhXbw2wSIzugxfKbO0NVZBrjPulCoI9eFy6S/e1sFmIiL+lIiqNj/lq4ZH+FXGTlJwqHmYwa4M5RV2jBR5vlnkxpys3hjDPvgONlkn9GK/AURBrtlCv4VERebAKyeuWpGU5L4BsT9AsTTVa/+LKCSrg+eXE7y5RtMrE9B4ArDXXO5O/zNeTSi4hrdMBXM0FinWLrqNHJyiwUABQEkp3M2NqlwLQ2u4Mnlz7BCLXWqkvUp61W2iOlusQ/T0p8/oxv2ITWMdsyCzanYCgsAVPuSBQIhOIy7+pUNLiyDT8GTi3jj91QjVcn6lO7VKZg/ef4Raj3cG8USf5+ertsrlgWCQexUeNbgGnVZUPtCJ/ffIR9ZPVoHWbtU8HXGzTLQnIqlK2eBoGJZQDhqnopnMF1QbA5lNmhyWV+O6vJ4Fzxk69hNKLzFAjHYRUJdXfj06WN77EUBHAiWXCgVIwQudnn86IFJcGeBGOwi+QYXVF2c5H4Srgk2tDXr8iCgvFcbV69OAnBWQNLZdOCqa3jOo0nuI+GaUJV7zHqS9eU0iR0kJGtwsYu0O7g/pPUAldvDK8ST5v+tVychJRvZlw4RneT6eV8THLk/U69OCnaoDatQ3fKkPN2q64xcxXQbuUauYgQUm2bKNXIVI6DYNFOukasYAcWmmXKNXMUIKDbNlGvkKkZAsWmmXCNXMQKKTTPlGrmKEVBsminXyFWMgGLTTLlGrmIEFJtmyjVyFSOg2DRTrpGrGAHFpplyjVzFCCg2zZRr5CpGQLFpplwjVzECik0z5Somd+T4XE7apdhmhaYlzzHFwyW7RpKLs+qXzrQdghG4TCwze4FczgOBffyzpAABq3MVkDjOhBj1azLuoO0PGoEG3XIjaBMs82MQ6HX+AanyGTgn5IqlAAAAAElFTkSuQmCC"},552:function(e,t,a){e.exports=a.p+"static/media/printer.32885cbe.svg"},553:function(e,t,a){e.exports=a.p+"static/media/School_Name.c399f0ab.png"},556:function(e,t,a){e.exports=a.p+"static/media/tickIcon.6fcd46e4.svg"},557:function(e,t,a){e.exports=a.p+"static/media/GrayTick.a6078b77.svg"},558:function(e,t,a){e.exports=a.p+"static/media/Prayer.a3cf2072.svg"},559:function(e,t,a){e.exports=a.p+"static/media/Notebook.ac94f8ab.svg"},560:function(e,t,a){e.exports=a.p+"static/media/Flag.385164ac.svg"},561:function(e,t,a){e.exports=a.p+"static/media/Contract.faf1b6da.svg"},562:function(e,t,a){e.exports=a.p+"static/media/Earth.4ef46dd4.svg"},563:function(e,t,a){e.exports=a.p+"static/media/GraduationHat.8b9180f3.svg"},603:function(e,t,a){e.exports=a(903)},633:function(e,t){},635:function(e,t){},645:function(e,t){},647:function(e,t){},674:function(e,t){},676:function(e,t){},677:function(e,t){},683:function(e,t){},685:function(e,t){},703:function(e,t){},705:function(e,t){},717:function(e,t){},720:function(e,t){},777:function(e,t){},778:function(e,t){},779:function(e,t){},780:function(e,t){},781:function(e,t){},802:function(e,t,a){e.exports=a.p+"static/media/Add.b883a4ed.svg"},803:function(e,t,a){},804:function(e,t,a){},81:function(e,t,a){e.exports=a.p+"static/media/download.1c983dba.svg"},903:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),c=a.n(o),i=a(8),l=a(201),s=a(61),d=a(993),m=a(94),u=a(565),p="#7B72AF",g="#1C1C1E",f="#2C2C2E",b="#D1D1D6",h="#AEAEB2",x="#F4F4F4",E="#fff",v="Avenir Medium",y="Avenir Book",j="Avenir Heavy",O=Object(u.a)({palette:{common:{deluge:"".concat("#7B72AF"),blackRussian:"".concat("#1C1C1E"),bastille:"".concat("#2C2C2E"),white:"".concat("#FFFFFF"),quartz:"".concat("#F2F0FA"),adornment:"".concat("#AEAEB2"),whiteSmoke:"".concat("#F4F4F4"),darkGray:"".concat("#F1F1F7"),lightFont:"".concat("#8E8E93")},roleCards:{roleCardUnselected:"".concat("#ECEBF3"),roleCardSelected:"".concat("#A09AC2")},mainBackground:"".concat("#F4F4F4"),primary:{main:"".concat("#7B72AF")}},typography:{fontFamily:["Avenir","Avenir Book","Avenir Black Oblique","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),h2:{fontFamily:v,fontSize:"18px"},h3:{fontSize:"2.7rem"},h4:{fontSize:"2rem"},h6:{fontFamily:v,fontSize:"14px"},body1:{fontFamily:v,fontSize:"1rem"},body2:{fontFamily:y,fontSize:"1rem"},title:{fontFamily:j,fontSize:"18px"},subtitle1:{fontFamily:j,fontSize:"14px"},subtitle2:{fontFamily:y,fontSize:"14px"}},boxHeadingContainer:{fontFamily:"Avenir",fontSize:"1.75rem",fontWeight:500,fontStyle:"normal",color:"".concat("#1C1C1E")}}),S=a(1),C=a(2),N=a(3),k=a(17),w=function(){return{type:"ADD_NOTIFICATION_COUNT"}},T=a(969),A=a(916),_=a(965),I=a(579),B=a(306),D=a(355),R=a.n(D),L=a(966),F=a(571),M=a(964),P=a(1001),z=a(247),U=a(958),Y=a(911),H=a(960),W=a(364),G=a(999),V=a(957),K=a(970),q=a(136),J=a.n(q),Q=a(93),X=a.n(Q),Z=a(967),$=a(513),ee=a.n($),te=a(915),ae=a(1e3),ne=a(215),re=a.n(ne),oe=a(968),ce=a(483),ie=a.n(ce),le=a(484),se=a.n(le),de=a(485),me=a.n(de),ue=a(237),pe=a.n(ue),ge=a(210),fe=a.n(ge),be=a(176),he=a.n(be),xe=a(214),Ee=a.n(xe),ve=a(486),ye=a.n(ve),je=a(487),Oe=a.n(je),Se=a(488),Ce=a.n(Se),Ne=a(303),ke=a.n(Ne),we=a(489),Te=a.n(we),Ae=a(490),_e=a.n(Ae),Ie=a(491),Be=a.n(Ie),De=a(492),Re=a.n(De),Le=a(493),Fe=a.n(Le),Me=a(494),Pe=a.n(Me),ze=a(495),Ue=a.n(ze),Ye=a(496),He=a.n(Ye),We=a(497),Ge=a.n(We),Ve=a(78),Ke=a.n(Ve),qe=a(906),Je=a(909),Qe=a(908),Xe=a(281),Ze=a.n(Xe),$e=function(e){return{type:"AUTH_SUCCESS",authData:e}},et=function(e){return{type:"AUTH_FAIL",error:e}},tt=function(e){return{type:"AUTH_CHANGE_PROFILE",thumbnail:e}},at=function(e){return{type:"AUTH_INITIATE_LOGOUT",isAuthenticated:e}},nt=function(e,t){return{type:"AUTH_CHECK_TIMEOUT",expirationDate:e,isAuthenticated:t}},rt=function(){return{type:"AUTH_INITIATE_ROLE_SELECTION"}},ot=Object(I.a)((function(){return{logoutContainer:{minWidth:"200px"},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"}}})),ct=Object(i.c)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onLogout:function(t){return e(at(t))}}}))((function(e){var t=ot(),a=e.onLogout,n=e.open,o=e.handleClose;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:n,onClose:o,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.logoutContainer},r.a.createElement("div",{className:t.dialogContent},r.a.createElement(Ze.a,{color:"primary"})),r.a.createElement("div",{className:t.dialogContent},r.a.createElement(m.a,{className:t.confirmationText},"Want to logout?")))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{onClick:o,color:"primary",variant:"outlined",className:t.button},"No"),r.a.createElement(z.a,{onClick:function(){a(e.isAuthenticated)},color:"primary",autoFocus:!0,variant:"contained",className:t.button},"Yes"))))})),it=a(953),lt=a(955),st=a(954),dt=a(104),mt=Object(dt.a)((function(e){var t,a,n,r,o;return{mainContent:{width:"100%",justifyContent:"center",display:"flex"},div:{marginTop:"48px"},avatar:(t={width:"95px",height:"98px"},Object(C.a)(t,e.breakpoints.down("md"),{width:"65px",height:"68px"}),Object(C.a)(t,e.breakpoints.down("sm"),{height:"67px"}),t),cardContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center",marginTop:"20px",width:"100%","& div":{margin:"5px"}},roleContainer:{textAlign:"center"},card:{backgroundColor:e.palette.roleCards.roleCardUnselected,"&:hover":{backgroundColor:e.palette.roleCards.roleCardSelected}},media:{marginTop:"5px"},cardContent:{display:"flex",flexWrap:"wrap",justifyContent:"center",flexDirection:"column"},cardContentRoot:(a={"&.MuiCardContent-root":{padding:0,height:"180px",width:"147px"}},Object(C.a)(a,e.breakpoints.down("md"),{"&.MuiCardContent-root":{padding:0,height:"120px",width:"87px"}}),Object(C.a)(a,e.breakpoints.down("sm"),{"&.MuiCardContent-root":{padding:0,height:"120px",width:"87px"}}),a),roleSelectionHeading:(n={fontWeight:900,color:e.palette.common.deluge,fontSize:"1.375rem"},Object(C.a)(n,e.breakpoints.down("md"),{fontSize:"1rem"}),Object(C.a)(n,e.breakpoints.down("sm"),{fontSize:"0.85rem"}),n),avatarTextContainer:(r={height:"67px",display:"flex",justifyContent:"center",alignItems:"center"},Object(C.a)(r,e.breakpoints.down("md"),{height:"27px"}),Object(C.a)(r,e.breakpoints.down("sm"),{height:"27px"}),r),avatarText:(o={fontWeight:500,fontStyle:"italic",fontSize:"1.375rem",color:e.palette.common.deluge},Object(C.a)(o,e.breakpoints.down("md"),{fontSize:"1rem"}),Object(C.a)(o,e.breakpoints.down("sm"),{fontSize:"0.85rem"}),o)}})),ut=Object(i.c)((function(e){return{}}),(function(e){return{}}))((function(e){var t=mt(),a=e.open,n=e.handleClose,o=r.a.createElement("div",{className:t.roleContainer},r.a.createElement("div",null,r.a.createElement(m.a,null,"LOGO")),r.a.createElement("div",{className:t.div},r.a.createElement(m.a,{className:t.roleSelectionHeading},"Which child do you want to select?")),r.a.createElement("div",{className:t.cardContainer},e.data.map((function(a){return r.a.createElement("div",{key:a.userDetails.username},r.a.createElement(it.a,{className:t.card},r.a.createElement(st.a,{onClick:function(){return e.change_child(a)}},r.a.createElement(lt.a,{classes:{root:t.cardContentRoot}},r.a.createElement("div",{className:t.cardContent},r.a.createElement("div",null,r.a.createElement("img",{src:"".concat(a.userDetails.thumbnail),alt:"".concat(a.userDetails.firstname),className:t.avatar})),r.a.createElement("div",{className:t.avatarTextContainer},r.a.createElement(m.a,{className:t.avatarText},a.userDetails.firstname)))))))}))));return r.a.createElement(qe.a,{open:a,onClose:function(){return n(!1)},maxWidth:"xs",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:t.mainContent},o))))})),pt=a(498),gt=a.n(pt),ft=a(499),bt=a.n(ft),ht=a(500),xt=a.n(ht),Et=a(501),vt=a.n(Et),yt=a(502),jt=a.n(yt),Ot=a(503),St=a.n(Ot),Ct=Object(dt.a)((function(e){var t,a,n,r,o;return{mainContent:{width:"100%",justifyContent:"center",display:"flex"},avatar:(t={width:"95px",height:"98px"},Object(C.a)(t,e.breakpoints.down("md"),{width:"65px",height:"68px"}),Object(C.a)(t,e.breakpoints.down("sm"),{height:"67px"}),t),cardContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center",marginTop:"20px",width:"100%","& div":{margin:"5px"}},roleContainer:{textAlign:"center"},card:{backgroundColor:e.palette.roleCards.roleCardUnselected,"&:hover":{backgroundColor:e.palette.roleCards.roleCardSelected}},media:{marginTop:"5px"},cardContent:{display:"flex",flexWrap:"wrap",justifyContent:"center",flexDirection:"column"},cardContentRoot:(a={"&.MuiCardContent-root":{padding:0,height:"180px",width:"147px"}},Object(C.a)(a,e.breakpoints.down("md"),{"&.MuiCardContent-root":{padding:0,height:"120px",width:"87px"}}),Object(C.a)(a,e.breakpoints.down("sm"),{"&.MuiCardContent-root":{padding:0,height:"120px",width:"87px"}}),a),roleSelectionHeading:(n={fontWeight:900,color:e.palette.common.deluge,fontSize:"1.375rem"},Object(C.a)(n,e.breakpoints.down("md"),{fontSize:"1rem"}),Object(C.a)(n,e.breakpoints.down("sm"),{fontSize:"0.85rem"}),n),avatarTextContainer:(r={height:"67px",display:"flex",justifyContent:"center",alignItems:"center"},Object(C.a)(r,e.breakpoints.down("md"),{height:"27px"}),Object(C.a)(r,e.breakpoints.down("sm"),{height:"27px"}),r),avatarText:(o={fontWeight:500,fontStyle:"italic",fontSize:"1.375rem",color:e.palette.common.deluge},Object(C.a)(o,e.breakpoints.down("md"),{fontSize:"1rem"}),Object(C.a)(o,e.breakpoints.down("sm"),{fontSize:"0.85rem"}),o),logo:{marginLeft:"24px"},cancelBtn:{float:"right",padding:"0px",color:e.palette.common.adornment}}})),Nt=Object(i.c)((function(e){return{userInfo:e.auth.userInfo}}),(function(e){return{onRoleSelection:function(t){return e(function(e){return{type:"AUTH_ROLE_SELECTION",selectedRole:e}}(t))}}}))((function(e){var t=Ct(),a=e.open,n=(e.handleClose,e.handleCloseRoleModel),o=[{roleName:"teacher",roleDisplayText:"TEACHER",maleImageSrc:"",femaleImageSrc:vt.a,textBackgroundSrc:bt.a},{roleName:"parent",roleDisplayText:"PARENT",maleImageSrc:"",femaleImageSrc:jt.a,textBackgroundSrc:gt.a},{roleName:"admin",roleDisplayText:"ADMIN",maleImageSrc:"",femaleImageSrc:St.a,textBackgroundSrc:xt.a}],c=r.a.createElement("div",{className:t.roleContainer},r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement("span",{className:t.logo},"LOGO"),r.a.createElement(W.a,{className:t.cancelBtn,onClick:n},r.a.createElement(X.a,null)))),r.a.createElement("div",{style:{marginTop:"48px"}},r.a.createElement(m.a,{className:t.roleSelectionHeading},"WHO ARE YOU?")),r.a.createElement("div",{className:t.cardContainer},e.userInfo.roles.map((function(a){var n=o.find((function(e){return e.roleName===a.name}));return r.a.createElement("div",{key:a.name},r.a.createElement(it.a,{className:t.card},r.a.createElement(st.a,{onClick:function(){return e.onRoleSelection(a.name)}},r.a.createElement(lt.a,{classes:{root:t.cardContentRoot}},r.a.createElement("div",{className:t.cardContent},r.a.createElement("div",null,r.a.createElement("img",{src:"".concat(n.femaleImageSrc),alt:"Teacher",className:t.avatar})),r.a.createElement("div",{className:t.avatarTextContainer,style:{backgroundImage:"url(".concat(n.textBackgroundSrc,")")}},r.a.createElement(m.a,{className:t.avatarText},n.roleDisplayText)))))))}))));return r.a.createElement(qe.a,{open:a,onClose:n,maxWidth:"xs",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:t.mainContent,style:{width:"100%",justifyContent:"center",display:"flex"}},c))))})),kt=a(504),wt=a.n(kt),Tt=a(166),At=a.n(Tt),_t={HOME:"Home",TASKS:"TASKS",HOMEWORKS:"HOMEWORKS",ANNOUNCEMENTS:"ANNOUNCEMENTS",EVENTS_ANNOUNCEMENTS:"Events/Announcements",HOMEWORK:"Homework",CHATS:"Chats",NEW_GROUP:"New Group"},It="Notifications",Bt="Assignment",Dt="Attendance",Rt="Events & Announcements",Lt="Planning",Ft="Transport",Mt="Gallery",Pt="Payments",zt="Date Sheet",Ut="Leave",Yt="FAQ",Ht="Support",Wt="Weekly Time Table",Gt="Diary",Vt="Student Report Card",Kt="Student Reports",qt="Bulk Upload",Jt=a(16),Qt=a(912),Xt=a(959),Zt=a(101),$t=a.n(Zt),ea=a(14),ta=a.n(ea),aa=a(118),na=a(59),ra=a(12),oa=a.n(ra),ca=a(55),ia=a(56),la=a(283),sa=a(570),da=a(566),ma=a(995),ua=null,pa=function(e){Object(sa.a)(a,e);var t=Object(da.a)(a);function a(e){var n;return Object(ca.a)(this,a),(n=t.call(this,e)).open=function(e,t,a){console.log("console",e),n.setState({openSnackBar:!0}),500===e?n.setState({error500:!0}):n.setState({error404:!0}),n.setState({success:t}),n.setState({message:a})},n.handleSnackbarClose=function(){n.setState({openSnackBar:!1})},ua=Object(la.a)(n),n.state={openSnackBar:!1,error404:!1,error500:!1},n}return Object(ia.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{open:this.state.openSnackBar,autoHideDuration:1e4,onClose:this.handleSnackbarClose,style:{fontFamily:"Avenir medium",fontSize:14}},r.a.createElement(ma.a,{onClose:this.handleSnackbarClose,severity:this.state.success?"success":"error",style:{fontFamily:"Avenir medium",fontSize:14}},this.state.message?this.state.message:this.state.error404?"Error Occured":this.state.error500?"Internal server error! Please try after some time.":"")))}}]),a}(r.a.Component);oa.a.defaults.baseURL="https://dev.srmapi.in/api/v1",oa.a.defaults.headers.common["Content-Type"]="application/json",oa.a.defaults.headers.common.Accept="application/json",oa.a.defaults.timeout=12e4,oa.a.interceptors.response.use((function(e){return console.log("interceptor response",e),e}),(function(e){console.log("interceptor response error",e,e.response),console.log(JSON.stringify(e.response));var t=e.response?e.response.status:"";return""!==t&&500!==t||ua.open(t),Promise.reject(e)})),oa.a.interceptors.request.use((function(e){return console.log("interceptor request",e),e}),(function(e){return console.log("interceptor request error",e),Promise.reject(e)}));var ga=function(){var e=null;function t(e){var t=e.params,a=e.headers,n=e.timeout,r=Object(na.a)(e,["params","headers","timeout"]),o={};if(l){var c=String(JSON.parse(localStorage.getItem("srmSelectedRole"))),i="parent";if(String(c)===String(i))var l=localStorage.getItem("srmSelected_Child_token");else l=localStorage.getItem("srmToken");o.Authorization="Bearer ".concat(l)}else{c=String(JSON.parse(localStorage.getItem("srmSelectedRole"))),i="parent";if(String(c)===String(i))var s=localStorage.getItem("srmSelected_Child_token");else s=localStorage.getItem("srmToken");o.Authorization="Bearer ".concat(s)}var d=t||{},m=(d.filter,Object(na.a)(d,["filter"]));return Object(N.a)(Object(N.a)({},r),{},{headers:Object(N.a)(Object(N.a)({},o),a),params:Object(N.a)({},m),timeout:n})}return{setAuthorizationToken:function(t){e=t},getAuthorizationToken:function(){return e},resetAuthorizationToken:function(){e=null},get:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.log(t(a)),oa.a.get(e,t(a))},post:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return oa.a.post(e,a,t(n))},put:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return oa.a.put(e,a,t(n))},patchFormData:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new FormData;return Object.keys(a).forEach((function(e){r.append(e,a[e])})),oa.a.patch(e,r,t(n))},postFormData:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new FormData;return Object.keys(a).forEach((function(e){r.append(e,a[e])})),oa.a.post(e,r,t(Object(N.a)(Object(N.a)({},n),{},{"Content-Type":"multipart/form-data"})))},remove:function(e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return oa.a.delete(e,t(a))}}}(),fa=function(e,t){return ga.get("".concat("/chats"),{params:e,headers:t})},ba="Common.apiCall",ha={GET_CONTACTS:{START:"chat.get_contacts:start",SUCCESS:"chat.get_contacts:success",FAIL:"chat.get_contacts:fail"},CREATE_CHATROOM:{START:"chat.create_chatroom:start",SUCCESS:"chat.create_chatroom:success",FAIL:"chat.create_chatroom:fail"},GET_CHAT_USERS:{START:"chat.get_chat_users:start",SUCCESS:"chat.get_chat_users:success",FAIL:"chat.get_chat_users:fail"},SEND_CHAT:{START:"chat.send_chat:start",SUCCESS:"chat.send_chat:success",FAIL:"chat.send_chat:fail"},SET_CHAT_USER:"chat.set_chat_user",UPDATE_CHAT:"chat.update_chat"},xa=function(e,t,a){return{type:ba,subtypes:ha.GET_CHAT_USERS,data:{loading:t},promise:function(){return fa(e,a)}}},Ea=function(e){return{type:ha.UPDATE_CHAT,data:e}},va=Object(Jt.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",content:'""'}}}}))(V.a),ya=Object(dt.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},ListItemText:{width:"60%"},listItem:{backgroundColor:e.palette.common.whiteSmoke,color:e.palette.common.blackRussian,"&:hover":{backgroundColor:e.palette.common.quartz},borderRadius:"10px",fontSize:"0.875rem",fontWeight:300,marginBottom:"12px",cursor:"pointer"},roleDetails:{position:"absolute",right:15,top:30},date:{color:e.palette.grey[400],fontSize:14,marginBottom:3,fontWeight:200,textTransform:"capitalize"},avatarBackground:{background:e.palette.primary.main},inputContainer:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",flexDirection:"row",width:"100%",padding:5},inputBorder:{width:"90%"}}})),ja=Object(i.c)(null,{setChatUser:function(e){return{type:ha.SET_CHAT_USER,data:e}}})((function(e){var t=e.userInfo,a=e.chatUsers,o=ya(),c=Object(n.useState)([]),i=Object(S.a)(c,2),l=i[0],s=i[1],d=Object(n.useState)(""),u=Object(S.a)(d,2),p=u[0],g=u[1];Object(n.useEffect)((function(){s(a)}),[a]);return r.a.createElement("div",null,r.a.createElement(Y.a,{className:o.inputContainer,alignItems:"flex-start"},r.a.createElement(Qt.a,{id:"search",placeholder:"Search - Name/User ID",name:"search",value:p,onChange:function(e){g(e.target.value),s(a.filter((function(t){return-1!==t.name.toLowerCase().search(e.target.value.toLowerCase())})))},className:o.inputBorder,required:!0,autoComplete:!1,disableUnderline:!0})),r.a.createElement(U.a,{className:o.root},l.map((function(a){var n=a.name,c=a.thumbnail,i={},l=a.created_at;if(void 0!=a)if("group"==a.type){n=a.group.name;var s=encodeURI(aa.useReactToPrint.group.image);c=s?"https://dev.srmapi.in/"+s:$t.a,i=o.avatarBackground}else if(void 0!=aa.useReactToPrint.members){var d=aa.useReactToPrint.members.filter((function(e){return e.id!=t.id}))[0];n=d.firstname+" "+d.lastname,c=d.thumbnail}return r.a.createElement(Y.a,{onClick:function(){return e.setChatUser(a)},alignItems:"flex-start",className:o.listItem},r.a.createElement(Xt.a,null,r.a.createElement(va,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:a.status},r.a.createElement(P.a,{alt:n,src:c,className:i}))),r.a.createElement(H.a,{className:o.ListItemText,secondaryTypographyProps:{style:{width:"60%"}},primary:n,secondary:""}),r.a.createElement("div",{className:o.roleDetails},r.a.createElement(m.a,{className:o.date},ta()(l).fromNow())))}))))})),Oa=a(4),Sa=a.n(Oa),Ca=a(7),Na=a(9),ka=a(907),wa=Object(ka.a)((function(e){return{badge:{backgroundColor:e.palette.grey[400],color:e.palette.grey[200],padding:10,boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",fontSize:20,content:'"\xd7"'},borderRadius:"50%"}}}))(V.a),Ta={centerText:{textAlign:"center",cursor:"pointer",maxWidth:75}},Aa=function(e){var t=e.user,a=e.removeContact;return console.log(t),r.a.createElement(Xt.a,{onClick:function(){return a(t)},style:Ta.centerText},r.a.createElement(wa,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:t.status="dot"},r.a.createElement(P.a,{alt:t.firstname,src:t.avatar})),r.a.createElement(m.a,{style:Ta.centerText},t.firstname," ",t.lastname))},_a=a(961),Ia=a(962),Ba=a(285),Da=a.n(Ba),Ra=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"createGroup",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/chats/group/create"),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"updateGroup",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/chat/group/update"),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchChatUsers",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/chat/users"),{params:{selectedRole:e.selectedRole}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchChats",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/chats"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:{current_role:e,get_by:"user"}})}},{key:"fetchChat",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/chats")+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"submitChat",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/chats"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}})}},{key:"newChat",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/chat/newChat"),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"markRead",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/chat/read/")+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),La=Object(Jt.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",content:'""'}}}}))(V.a),Fa=Object(dt.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},headingContainer:{display:"flex",alignItems:"center","& div":{margin:"3px"},width:"100%"},groupUser:{flexDirection:"row"},nextText:{marginTop:5},userContainer:{display:"flex",alignItems:"center",maxWidth:230,flexDirection:"row",overflow:"auto","-ms-overflow-style":"none",scrollbarWidth:"none","& ::-webkit-scrollbar":{display:"none"}},listItem:{backgroundColor:e.palette.common.whiteSmoke,color:e.palette.common.blackRussian,"&:hover":{backgroundColor:e.palette.common.quartz},borderRadius:"10px",fontSize:"0.875rem",fontWeight:300,marginBottom:"12px"},nextBtn:{float:"right",position:"absolute",right:15,cursor:"pointer",color:e.palette.primary.main,flexDirection:"row",justifyContent:"center"},nextIcon:{backgroundColor:e.palette.primary.main,borderRadius:"50%",padding:0,fontSize:10,cursor:"pointer",float:"left",width:25,marginTop:-10,color:e.palette.common.white,boxShadow:"0px 0px 0px 0px #fff",height:25},closeBtn:{backgroundColor:e.palette.background.default,float:"right",position:"absolute",right:10,borderRadius:"50%",padding:2,cursor:"pointer"},borderBottom:{borderBottom:"1px solid ".concat(e.palette.grey[400]),width:"100%",minHeight:50},inputContainer:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",flexDirection:"row",width:"100%",padding:5},emojiContainer:{height:"100%",justifyContent:"center",flexDirection:"column",marginTop:8,alignItems:"flex-end",alignContent:"flex-end",textAlign:"right",width:"10%"},inputBorder:{width:"90%"},smiley:{height:16,width:void 0,cursor:"pointer"},externalIcon:{background:p,borderRadius:"50%",width:"50px"}}})),Ma=Object(i.c)(null,{getChatUsers:xa})((function(e){var t=e.current_user_id,a=e.contacts,o=e.setGroup,c=Fa(),i=Object(n.useState)([]),l=Object(S.a)(i,2),s=l[0],d=l[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)([]),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!1),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(""),N=Object(S.a)(C,2),k=N[0],w=N[1],T=JSON.parse(localStorage.getItem("srmSelectedRole"));Object(n.useEffect)((function(){d(a)}),[a]);var A=function(e){var t=x,a=t.indexOf(e);t.splice(a,1),E(Object(Na.a)(t))},_=function(){var e=[];return e.push(t),x.forEach((function(t){e.push(t.id)})),e},I=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(a={users:_(),group_name:k}).group_name){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,n=localStorage.getItem("srmToken"),t.next=7,Ra.createGroup(a,n);case 7:200===t.sent.status&&(e.getChatUsers({current_role:T},!0,{Authorization:"Bearer ".concat(localStorage.getItem("srmToken"))}),o(!1)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[c.headingContainer,c.groupUser,c.borderBottom].join(" ")},r.a.createElement("div",{className:c.userContainer},x.map((function(e){return r.a.createElement(Aa,{user:e,removeContact:A})}))),0===x.length&&r.a.createElement("div",{onClick:function(){return o(!1)},className:c.closeBtn},r.a.createElement(_a.a,null)),x.length>0&&r.a.createElement("div",{onClick:function(){j?I():O(!0)},className:c.nextBtn},r.a.createElement(m.a,null,r.a.createElement("div",{className:c.nextIcon},r.a.createElement(Ia.a,null)),r.a.createElement("span",{className:c.nextText},j?"Done":"Next")))),j?r.a.createElement(Y.a,{className:c.inputContainer,alignItems:"flex-start"},r.a.createElement("img",{src:$t.a,alt:"Group",className:c.externalIcon}),r.a.createElement(Qt.a,{placeholder:"",name:"groupName",value:k,onChange:function(e){return w(e.target.value)},className:c.inputBorder,disableUnderline:!0}),r.a.createElement(m.a,{className:c.emojiContainer},r.a.createElement("img",{src:Da.a,className:c.smiley,alt:""}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:c.inputContainer,alignItems:"flex-start"},r.a.createElement(Qt.a,{id:"search",placeholder:"Search - Name/User ID",name:"search",value:g,onChange:function(e){f(e.target.value),d(a.filter((function(t){return-1!==t.fullName.toLowerCase().search(e.target.value.toLowerCase())})))},className:c.inputBorder,required:!0,autoComplete:!1,disableUnderline:!0})),r.a.createElement(U.a,{className:c.root},s.map((function(e){var t=e.fullName,a=e.thumbnail,n={},o=e.created_at;if(void 0!=e&&"group"==e.type){t=e.group.name;var i=encodeURI(aa.useReactToPrint.group.image);a=i?"https://dev.srmapi.in/"+i:$t.a,n=c.avatarBackground}return r.a.createElement(Y.a,{onClick:function(){return function(e){var t=x;t.indexOf(e)>=0||(t.push(e),E(Object(Na.a)(t)))}(e)},alignItems:"flex-start",className:c.listItem},r.a.createElement(Xt.a,null,r.a.createElement(La,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:e.status},r.a.createElement(P.a,{alt:t,src:a,className:n}))),r.a.createElement(H.a,{className:c.ListItemText,secondaryTypographyProps:{style:{width:"60%"}},primary:t,secondary:""}),r.a.createElement("div",{className:c.roleDetails},r.a.createElement(m.a,{className:c.date},ta()(o).fromNow())))})))))})),Pa=Object(dt.a)((function(e){return{cursorPointer:{cursor:"pointer"},root:{marginLeft:"13px",marginTop:"15px",marginRight:"13px"},headingContainer:{display:"flex",alignItems:"center","& div":{margin:"3px"},width:"100%"},headingText:{fontWeight:400,fontSize:"1rem",fontStyle:"normal",color:e.palette.common.bastille,width:"55%"},addTaskIcon:{cursor:"pointer",bottom:0},newGroup:{verticalAlign:"middle",justifyContent:"center",color:e.palette.primary.main}}})),za=Object(i.c)((function(e){var t=e.Chat;return{contacts:t.contacts,chatUsers:t.chatUsers}}))((function(e){var t=e.contacts,a=e.chatUsers,o=Pa(),c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],s=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.root},!l&&r.a.createElement("div",{className:o.headingContainer},r.a.createElement("div",null,r.a.createElement("img",{src:wt.a,alt:"User"})),r.a.createElement(m.a,{className:o.headingText}," ",_t.CHATS),r.a.createElement(At.a,{color:"primary",className:o.addTaskIcon,onClick:function(){return s(!0)}}),r.a.createElement("div",{className:o.newGrpPosition},r.a.createElement(m.a,{className:[o.newGroup].join(" ")},r.a.createElement("span",{className:o.cursorPointer,onClick:function(){return s(!0)}},_t.NEW_GROUP)))),l?r.a.createElement(Ma,{current_user_id:e.userInfo.id,contacts:t,setGroup:s}):r.a.createElement(ja,{userInfo:e.userInfo,chatUsers:a})))})),Ua=a(505),Ya=a.n(Ua),Ha=a(506),Wa=a.n(Ha),Ga=a(507),Va=a.n(Ga),Ka=a(508),qa=a.n(Ka),Ja=a(286),Qa=a.n(Ja),Xa=a(509),Za=a.n(Xa),$a=a(963),en=a(307),tn=a(46),an=a.n(tn),nn="/view",rn="/details",on="/dateSheet",cn="/home",ln="/notifications",sn="/create-notification",dn="/announcement",mn="/news",un="/assignment",pn="/homework",gn="/create-homework",fn="/attendance",bn="/attendance/upload",hn="/events",xn="/create-announcement",En="/planning",vn="/create-planning",yn="/transport",jn="/gallery",On="/gallery/upload",Sn="/gallery/move",Cn="/payments",Nn="/leave/",kn="/leave/create/",wn="/faq",Tn="/faq/create",An="/faq/edit",_n="/profile",In="/support",Bn="/support/create",Dn="/chat",Rn="/report",Ln="/report-card",Fn="/report-upload",Mn="/updategroup",Pn="/weekly-time-table",zn="/diary",Un="/settings",Yn=(Object(dt.a)((function(e){var t;return{card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",marginTop:"10px"},cardHeader:{padding:"15px 15px 0 15px"},iconButtonRoot:{padding:"8px"},titleIconSpan:{marginRight:"8px"},editIconSpan:{paddingLeft:"10px",cursor:"pointer"},titleIcon:{transform:"translateY(3px)"},cardTitle:{fontSize:"16px",fontStyle:"normal",fontWeight:500,cursor:"pointer","&:hover":{textDecoration:"underline"}},cardActions:{padding:"0 20px 20px 20px"},cardContent:{padding:"10px 15px 20px 15px","&:last-child":{paddingBottom:"20px"}},menuItem:{paddingLeft:"10px",paddingRight:"10px"},borderBottomDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"},borderBottomLastDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px"},menuTopItemMargin:{marginTop:"5px"},menuItemRoot:{padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),menuList:{width:"100% !important",padding:0},contentStyle:{color:"".concat(e.palette.common.lightFont),fontSize:"14px",fontStyle:"normal"},dateStyle:{paddingTop:"5px"},contentStatus:{color:"".concat(e.palette.common.lightFont),fontSize:"14px",fontStyle:"normal",marginRight:""},readClass:{textAlign:"right"},payBtn:{width:"113px",height:"36px"}}})),a(167)),Hn=a.n(Yn),Wn=a(385),Gn=Object(Jt.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",content:'""'}}}}))(V.a),Vn=Object(dt.a)((function(e){var t;return{root:{width:"95%",marginLeft:10,marginRight:10,marginTop:0,backgroundColor:"#F4F4F4",height:"86%"},fullScreen:{padding:10,borderRadius:10},inline:{display:"inline"},listItem:{backgroundColor:"#E7E7ED",color:e.palette.common.blackRussian,"&:hover":{backgroundColor:e.palette.common.quartz},borderRadius:"10px",fontSize:"0.875rem",fontWeight:300,marginBottom:"12px",flexDirection:"row"},owner:{background:e.palette.common.white},primary:{fontSize:10},tick:{width:10,height:void 0},time:{fontSize:12,color:e.palette.grey[600]},date:{textAlign:"center",marginBottom:15,marginTop:5},dateTextContainer:{background:"rgb(142,142,147, 0.2)",padding:5,borderRadius:5},dateText:{fontSize:12,color:"#1C1C1E"},bottomContainer:{position:"absolute",bottom:30,width:"100%"},fullBottomContainer:{bottom:10},inputContainer:{background:e.palette.common.white,borderRadius:10,flexDirection:"row",width:"100%"},fullScreenInput:{width:"97%"},emojiContainer:{height:"100%",justifyContent:"center",flexDirection:"column",marginTop:8},smiley:{height:16,width:void 0,cursor:"pointer"},inputBorder:{marginLeft:10,border:"none",flex:1},emojiPicker:{position:"absolute",bottom:80},fileInput:{opacity:0,position:"absolute"},attachmentContainer:{backgroundColor:"#E7E7ED",color:e.palette.common.blackRussian,borderRadius:10,marginTop:5,flexDirection:"row",marginBottom:5},attachmentFullScreen:{width:"97%"},attachmentText:{color:e.palette.grey[600],fontSize:12,width:"90%"},right:{justifyContent:"flex-end",textAlign:"right",position:"absolute",right:15,bottom:8},close:{width:16,height:10,cursor:"pointer"},chatList:{maxHeight:"80%",overflow:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},groupIconContainer:{height:35,width:35,borderRadius:"50%",padding:5,justifyContent:"center",verticalAlign:"middle",background:e.palette.primary.main},menuItem:{paddingLeft:"10px",paddingRight:"10px",colour:"#1C1C1E"},borderBottomDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"},borderBottomLastDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px"},menuTopItemMargin:{marginTop:"5px"},menuItemRoot:{padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),menuList:{width:"100% !important",padding:0}}}));var Kn=Object(i.c)((function(e){var t=e.auth,a=e.Chat;return{userInfo:t.userInfo,singleChatUser:a.singleChatUser}}),{updateChat:Ea})((function(e){var t=e.fullScreen,a=void 0!==t&&t,o=e.closeEmoji,c=e.userInfo,i=e.singleChatUser,l=Vn(),d=Object(n.useState)(null),u=Object(S.a)(d,2),p=(u[0],u[1]),g=Object(n.useRef)(),f=Object(n.useState)([]),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!1),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)([]),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(!0),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)("All"),z=Object(S.a)(L,2),G=(z[0],z[1],Object(n.useState)(null)),V=Object(S.a)(G,2),K=V[0],q=V[1],J=Object(n.createRef)(),Q=Object(s.g)(),X=[l.root];Object(n.useEffect)((function(){k(!1),R(!o),!o&&i.chat_type&&Z()}),[o]),Object(n.useEffect)((function(){i.school_chat_message&&x(i.school_chat_message)}),[i]);var Z=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J.current.scrollIntoView({behavior:"smooth"}),!(i.school_chat_message.length<1)){e.next=3;break}return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a&&X.push(l.fullScreen);var $=i.name,ee=i.image,te="";if("group"==i.chat_type){$=i.name;var ae=encodeURI(i.image);ee=ae?"https://dev.srmapi.in/"+ae:$t.a,l.avatarBackground,te="Group",l.groupIconContainer}Object(n.useEffect)((function(){console.log(o),!o&&i.chat_type&&Z()}),[h]);var ne=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("message",re()),A.forEach((function(e){a.append("attachment[]",e)})),i.chat_type?a.append("room_id",i.id):(a.append("users[]",c.id),a.append("users[]",i.id)),t.prev=4,n=localStorage.getItem("srmToken"),t.next=8,Ra.submitChat(a,n);case 8:200===(r=t.sent).status&&(j(""),i.chat_type||e.updateChat(r.data.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}(),re=function(){return Wn.AES.encrypt(y,"chat"+c.id).toString()},oe=function(e,t){var a="";try{var n=Wn.AES.decrypt(e,"chat"+c.id);""===(a=n.toString(Wn.enc.Utf8))&&(a=(n=Wn.AES.decrypt(e,"chat"+t.sender.id)).toString(Wn.enc.Utf8))}catch(r){console.log("Encrypt Error",r)}return a},ce=function(e){return e.document.length>0?r.a.createElement("div",null," ",JSON.parse(e.document).map((function(e){return function(e){var t=e.split(".");return["jpeg","jpg","png","gif","raw"].includes(t[t.length-1])}(e)?r.a.createElement("a",{style:{cursor:"pointer"},target:"_blank",href:"https://dev.srmapi.in/"+e},r.a.createElement("img",{src:"https://dev.srmapi.in/"+e,style:{height:70,width:void 0,alignSelf:"center"},alt:""})):r.a.createElement("a",{style:{cursor:"pointer"},target:"_blank",href:"https://dev.srmapi.in/"+e},r.a.createElement(Y.a,{alignItems:"flex-start"},r.a.createElement(m.a,{className:l.attachmentText},e.split("/")[e.split("/").length-1])))})),r.a.createElement(m.a,null,oe(e.message,e))):r.a.createElement(m.a,null,oe(e.message,e))};e.created_by&&i.id;var ie=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.currentTarget.getAttribute("value"),q(null),t.prev=2,t.t0=n,t.next="Add"===t.t0?6:"Delete"===t.t0?9:12;break;case 6:case 9:case 12:return e.setChatGroup(i),Q.push("/updateGroup"),t.abrupt("break",15);case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(2),console.log(t.t1);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}(),le=i.school_chat_message?i.school_chat_message.map((function(e){var t=ta()(e.created_at).fromNow(),a={},n="";e.sender.id===c.id?(a=l.owner,n="Me"):n=e.sender.fullName;var o;return o=0===[].length,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.date},r.a.createElement("span",{className:l.dateTextContainer},r.a.createElement("span",{className:l.dateText},t))),r.a.createElement(Y.a,{alignItems:"flex-start",className:[l.listItem,a].join(" ")},r.a.createElement(H.a,{classes:{primary:l.primary},primary:n,secondary:ce(e)}),r.a.createElement("div",{className:l.right},r.a.createElement(m.a,{className:l.time},e.time),r.a.createElement("img",{src:o?Wa.a:Ya.a,className:l.tick}))))})):null;return r.a.createElement(U.a,{className:X.join(" ")},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{alignItems:"flex-start"},r.a.createElement(Xt.a,null,r.a.createElement(Gn,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},r.a.createElement(P.a,{alt:$,src:ee}))),r.a.createElement(H.a,{primary:$,secondary:te}),"group"===i.chat_type&&r.a.createElement("div",{style:{float:"right",flexDirection:"flex-end"}},r.a.createElement(W.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){q(e.currentTarget)},classes:{root:l.iconButtonRoot}},r.a.createElement(Hn.a,null)),r.a.createElement(F.a,{id:"long-menu",anchorEl:K,classes:{paper:l.menuContainer,list:l.menuList},elevation:0,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(K),onClose:ie},r.a.createElement(M.a,{onClick:ie,classes:{root:l.menuItemRoot},disableGutters:!0,className:"".concat(l.menuItem," ").concat(l.menuTopItemMargin," "),value:"Add"},r.a.createElement("div",{className:l.borderBottomDiv},r.a.createElement(m.a,{variant:"body2"},"Add Member"))),r.a.createElement(M.a,{onClick:ie,disableGutters:!0,classes:{root:l.menuItemRoot},className:l.menuItem,value:"Delete"},r.a.createElement("div",{className:l.borderBottomDiv},r.a.createElement(m.a,{variant:"body2"},"Delete Member"))),r.a.createElement(M.a,{onClick:ie,disableGutters:!0,classes:{root:l.menuItemRoot},className:l.menuItem,value:"GroupIcon"},r.a.createElement("div",{className:l.borderBottomDiv},r.a.createElement(m.a,{variant:"body2"},"Change Group Icon"))))))),r.a.createElement("div",{className:l.chatList},le,r.a.createElement("div",{style:{float:"left",clear:"both"},ref:J})),D&&r.a.createElement("div",{className:[l.bottomContainer,a?l.fullBottomContainer:{}].join(" ")},A.map((function(e){return r.a.createElement(Y.a,{className:[l.attachmentContainer,a?l.attachmentFullScreen:{}].join(" "),alignItems:"flex-start"},r.a.createElement(m.a,{className:l.attachmentText},e.name),r.a.createElement("div",{className:l.right},r.a.createElement("img",{src:Qa.a,onClick:function(){return function(e){var t=A.indexOf(e);A.splice(t,1),_(Object(Na.a)(A))}(e)},className:l.close,alt:""})))})),r.a.createElement(Y.a,{className:[l.inputContainer,a?l.fullScreenInput:{}].join(" "),alignItems:"flex-start"},r.a.createElement(m.a,{className:l.emojiContainer},r.a.createElement("img",{src:Va.a,className:l.smiley,onClick:function(){return k(!N)},alt:""})),r.a.createElement(Qt.a,{id:"message",placeholder:"Type here",name:"message",value:y,onChange:function(e){return j(e.target.value)},className:l.inputBorder,onSubmit:ne,required:!0,autoComplete:!1,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),ne())},disableUnderline:!0}),r.a.createElement(m.a,{className:l.emojiContainer},r.a.createElement("img",{src:qa.a,className:l.smiley,onClick:function(){g.current.click()},alt:""}),r.a.createElement("input",{multiple:!0,accept:"image/x-png,image/gif,image/jpeg,application/pdf,application/msword,\r application/vnd.openxmlformats-officedocument.wordprocessingml.document",className:l.fileInput,id:"attachment",type:"file",onChange:function(e){A.push.apply(A,Object(Na.a)(e.target.files)),e.target.value=null,_(Object(Na.a)(A))},ref:g})))),N&&r.a.createElement("div",{className:l.emojiPicker},r.a.createElement(Za.a,{onEmojiClick:function(e,t){k(!1);var a=y;a+=t.emoji,j(a),p(t)}})))})),qn=a(510),Jn=a.n(qn),Qn=a(511),Xn=a.n(Qn),Zn=a(512),$n=a.n(Zn),er=Object(I.a)((function(e){var t,a;return a={container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",display:"flex",flexDirection:"column"},title:(t={display:"block"},Object(C.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(C.a)(t,"fontWeight",500),Object(C.a)(t,"fontStyle","normal"),Object(C.a)(t,"fontSize","1rem"),Object(C.a)(t,"color",e.palette.common.white),Object(C.a)(t,"backgroundColor",e.palette.common.deluge),Object(C.a)(t,"paddingLeft",20),Object(C.a)(t,"paddingRight",5),Object(C.a)(t,"paddingTop",10),Object(C.a)(t,"height",40),Object(C.a)(t,"paddingBottom",10),Object(C.a)(t,"cursor","pointer"),Object(C.a)(t,"flexGrow",1),t),content:{flexGrow:"1",display:"flex",flexDirection:"column",minHeight:"0",padding:"0 20px 20px 20px"},panel:{flexGrow:"1",overflow:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},position:"absolute",bottom:0,minHeight:60,right:0,zIndex:9999999999,elevation:5,borderRadius:10,boxShadow:"0px 0px 1px 1px #ccc",background:"#F4F4F4"},inactivePanel:{width:340,height:35,borderBottomLeftRadius:0,borderBottomRightRadius:0},activePanel:{width:340,height:500},marginTop:{marginTop:"20px"},topPanelRow:{marginTop:"20px"},panelCol:{width:"100%"},taskCol:{height:"400px"},homeworkCol:Object(C.a)({height:"130px"},e.breakpoints.down("xs"),{height:"inherit"}),externalIcon:{height:25,width:void 0},avatar:{borderRadius:25},col:{flexDirection:"column"},titleText:{color:e.palette.common.white},menuIcon:{width:20,height:void 0},minimize:{width:15,marginLeft:10,height:8,marginTop:8},heading:{fontSize:16},subHeading:{fontSize:14}},Object(C.a)(a,"content",{marginTop:100}),Object(C.a)(a,"gridPadding",{paddingTop:5,maxWidth:"12%"}),Object(C.a)(a,"gridMargin",{marginLeft:5,width:"59%",maxWidth:"59%",flexBasis:"59%"}),Object(C.a)(a,"gridPaddingTop",{paddingTop:5,flexDirection:"row",justifyContent:"flex-end"}),a})),tr=function(e){var t=e.selectedChat;console.log(t);var a=Object(n.useState)(!0),o=Object(S.a)(a,2),c=o[0],i=o[1],l=er(),d=Object(s.g)();return r.a.createElement("div",{className:[l.panel,c?l.inactivePanel:l.activePanel].join(" ")},function(){var a=t.name||t.fullName,n=t.thumbnail,o="";if("group"==t.type){a=t.group.name;var s=encodeURI(t.group.image);n=s?"https://dev.srmapi.in/"+s:$t.a,l.avatarBackground,o="Group"}else if(void 0!=t.members){var u=t.members.filter((function(t){return t.id!=e.userInfo.id}))[0];a=u.firstname+" "+u.lastname,o=u.roles[0].name,n=u.thumbnail}return r.a.createElement(m.a,{className:l.title,onClick:function(){return i(!c)}},r.a.createElement(en.a,{spacing:0,container:!0},r.a.createElement(en.a,{className:l.gridPadding,item:!0,xs:2},r.a.createElement("img",{src:Jn.a,alt:"Open Chat Full Screen",className:[l.externalIcon,l.borderRadius].join(" "),onClick:null!=t.messages?function(){return d.push("/chat/"+t.id)}:null})),r.a.createElement(en.a,{className:l.gridPadding,item:!0,xs:2},r.a.createElement(P.a,{alt:a,src:n})),r.a.createElement(en.a,{className:l.gridMargin,item:!0,xs:7},r.a.createElement("span",{className:l.heading},a),r.a.createElement("br",null),r.a.createElement("span",{className:l.subHeading},o)),r.a.createElement(en.a,{className:l.gridPaddingTop,item:!0,xs:2},r.a.createElement("img",{src:$n.a,alt:"Menu",className:l.menuIcon}),r.a.createElement("img",{src:Xn.a,alt:"Minimize",className:l.minimize}))))}(),r.a.createElement(Kn,{closeEmoji:c}))},ar=a(354),nr=a.n(ar);nr.a.logToConsole=!0;var rr=new nr.a("f46f62bed20ef099aadf",{cluster:"ap2",broadcaster:"pusher",wsHost:"dev.srmapi.in",encrypted:!0,forceTLS:!0,wsPort:6001,wssPort:6001,disableStats:!0,enabledTransports:["ws","wss"],authEndpoint:"".concat("https://dev.srmapi.in","/broadcasting/auth"),auth:{headers:{Authorization:"Bearer ".concat(localStorage.getItem("srmToken"))}}});rr.connection.bind("error",(function(e){console.log(">>> detected limit error",e)}));a(385);function or(e){var t=e.children,a=Object(_.a)({disableHysteresis:!0,threshold:0});return r.a.cloneElement(t,{elevation:a?4:0})}function cr(e){return r.a.createElement(te.a,Object.assign({},e,{direction:"left"}))}var ir=Object(I.a)((function(e){var t,a,n,r,o,c,i,l;return{toolbarMargin:Object(N.a)({},e.mixins.toolbar),grow:{flexGrow:1.7},grow2:{flexGrow:1.5},title:(t={display:"block"},Object(C.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(C.a)(t,"fontWeight",900),Object(C.a)(t,"fontStyle","normal"),Object(C.a)(t,"fontSize","1.125rem"),t),sectionDesktop:Object(C.a)({display:"none"},e.breakpoints.up("md"),{display:"inline-flex"}),sectionMobile:Object(C.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),sectionItems:{display:"flex",alignItems:"center",justifyContent:"center"},marginLeft20:{marginLeft:"20px"},marginLeft5:{marginLeft:"5px"},menuContainer:(a={backgroundColor:e.palette.common.white,color:"white",minWidth:"243px","&.MuiPaper-rounded":{borderRadius:"0px 4px 0px 2px",boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(a,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(a,e.breakpoints.down("sm"),{minWidth:"150px"}),a),menuItem:{backgroundColor:e.palette.common.white,color:e.palette.common.blackRussian,"&:hover":{backgroundColor:e.palette.common.quartz},margin:"5px",borderRadius:"6px",fontSize:"0.875rem",fontWeight:300},profileName:{fontWeight:500,fontSize:"0.625rem",color:e.palette.common.white},profileButton:{textTransform:"none"},drawer:(n={width:340,flexShrink:0},Object(C.a)(n,e.breakpoints.down("sm"),{width:280,flexShrink:0}),Object(C.a)(n,e.breakpoints.down("md"),{width:280,flexShrink:0}),n),drawerPaper:(r={width:340},Object(C.a)(r,e.breakpoints.down("sm"),{width:280}),Object(C.a)(r,e.breakpoints.down("md"),{width:280}),r),drawerContainer:{overflow:"auto"},drawerRight:(o={width:340,flexShrink:0},Object(C.a)(o,e.breakpoints.down("sm"),{width:0,flexShrink:0}),Object(C.a)(o,e.breakpoints.down("md"),{width:280}),o),chat:(c={width:500},Object(C.a)(c,e.breakpoints.down("sm"),{width:0}),Object(C.a)(c,e.breakpoints.down("md"),{width:280}),c),drawerRightPaper:(i={width:340},Object(C.a)(i,e.breakpoints.down("sm"),{width:0}),Object(C.a)(i,e.breakpoints.down("md"),{width:280}),i),drawerRightContainer:{overflow:"auto"},appBar:{zIndex:e.zIndex.drawer+1},listItemText:Object(C.a)({fontWeight:500,fontSize:"1.125rem",color:e.palette.common.blackRussian},e.breakpoints.down("md"),{fontSize:"1.00rem"}),mainContainer:(l={height:"100%",marginLeft:340,overflow:"auto",width:"calc(100% - ".concat(340,"px - ").concat(340,"px )"),padding:0,position:"fixed"},Object(C.a)(l,e.breakpoints.down("md"),{marginLeft:280,width:"calc(100% - ".concat(280,"px - ",280,"px )")}),Object(C.a)(l,e.breakpoints.down("sm"),{marginLeft:0,width:"100%"}),Object(C.a)(l,"backgroundColor",e.palette.common.whiteSmoke),Object(C.a)(l,"&::-webkit-scrollbar",{display:"none",width:0}),l),menuButton:Object(C.a)({},e.breakpoints.up("md"),{display:"none"}),listContainer:{marginLeft:"13px",marginRight:"12px",marginTop:"20px"},listItem:{backgroundColor:e.palette.common.white,color:e.palette.common.blackRussian,"&:hover":{backgroundColor:e.palette.common.quartz},borderRadius:"6px",fontSize:"0.875rem",fontWeight:300},listItemIcon:{"&.MuiListItemIcon-root":{minWidth:"45px"}},avatar:{width:"40px",height:"40px"},mobileToolbar:Object(N.a)(Object(N.a)({backgroundColor:e.palette.common.deluge},e.mixins.toolbar),{},{width:"100%",display:"flex",alignItems:"center","& div":{margin:"5px"}}),menu:{zIndex:e.zIndex.modal+1},listItemSelected:{"&.Mui-selected":{backgroundColor:e.palette.common.quartz}},snackbar:{cursor:"pointer","& .MuiSnackbarContent-root":{backgroundColor:"#fff",color:"".concat(e.palette.common.blackRussian),borderRadius:"9px"}},snackBarDescription:{color:"".concat(e.palette.common.lightFont)},reportMenu:{marginLeft:"45px",color:"#8E8E93",fontSize:"10px",marginRight:"5px"},reportName:{color:"#8E8E93",fontSize:"18px"},Logo:{width:"137px",height:"40px"},widthStyleDiv:{width:"10px"},divStyleWidth:{width:"20px"},ChevronRightSharpIcon:{color:"white"},ExpandLess:{fontSize:20,color:"gray"},imgColorStyle:{color:"white"},listItemMargin:{marginLeft:"25px"}}})),lr=Object(i.c)((function(e){return{userInfo:e.auth.userInfo,token:e.auth.token,isAuthenticated:null!==e.auth.token,selectedRole:e.auth.selectedRole,changeRole:e.auth.changeRole,notificationCount:e.notification.notificationCount,contacts:e.Chat.contacts,singleChatUser:e.Chat.singleChatUser}}),{addNotificationCount:w,authInitiateRoleSelection:rt,getContacts:function(e,t,a){return{type:ba,subtypes:ha.GET_CONTACTS,data:{loading:t},promise:function(){return fa(e,a)}}},getChatUsers:xa,updateChat:Ea})((function(e){var t,a=ir(),o=Object(B.a)(),c=Object(s.g)(),i=Object(n.useState)(null),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=r.a.useState(!1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(0),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(0),w=Object(S.a)(N,2),_=(w[0],w[1],Object(n.useState)(!1)),I=Object(S.a)(_,2),D=I[0],q=I[1],Q=Object(n.useState)(!0),$=Object(S.a)(Q,2),te=$[0],ne=$[1],ce=Object(n.useState)(""),le=Object(S.a)(ce,2),de=(le[0],le[1],r.a.useState(!1)),ue=Object(S.a)(de,2),ge=ue[0],be=ue[1],xe=r.a.useState(!1),ve=Object(S.a)(xe,2),je=ve[0],Se=ve[1],Ne=r.a.useState(!1),we=Object(S.a)(Ne,2),Ae=we[0],Ie=we[1],De=r.a.useState(!1),Le=Object(S.a)(De,2),Me=Le[0],ze=Le[1],Ye=r.a.useState(!1),We=Object(S.a)(Ye,2),Ve=We[0],qe=We[1],Je=r.a.useState(!1),Qe=Object(S.a)(Je,2),Xe=(Qe[0],Qe[1],r.a.useState(!1)),Ze=Object(S.a)(Xe,2),$e=(Ze[0],Ze[1],r.a.useState(!1)),et=Object(S.a)($e,2),tt=et[0],at=et[1],nt=Object(n.useState)(""),rt=Object(S.a)(nt,2),ot=rt[0],it=(rt[1],Object(n.useState)("")),lt=Object(S.a)(it,2),st=lt[0],dt=(lt[1],Object(n.useState)("")),mt=Object(S.a)(dt,2),pt=mt[0],gt=(mt[1],Object(n.useState)(null)),ft=Object(S.a)(gt,2),bt=(ft[0],ft[1]),ht=localStorage.getItem("schoolName"),xt=localStorage.getItem("schoolLogo"),Et=Object(L.a)(o.breakpoints.down("sm")),vt=Object(n.useState)(!1),yt=Object(S.a)(vt,2),jt=yt[0],Ot=yt[1],St=Object(n.useState)(""),Ct=Object(S.a)(St,2),kt=(Ct[0],Ct[1]),wt=Object(n.useState)(!1),Tt=Object(S.a)(wt,2),At=(Tt[0],Tt[1]),Jt=JSON.parse(localStorage.getItem("srmChild_dict"))||[],Qt=(localStorage.getItem("srmSelected_Child_token"),localStorage.getItem("srmSelected_Child")),Xt=localStorage.getItem("selectedStudent"),Zt=((Jt[Qt]||{}).userDetails||{}).id,$t=Boolean(d),ea=Object(n.useState)("/student-profile/"),ta=Object(S.a)(ea,2),aa=ta[0],na=ta[1],ra=Object(n.useState)("/diary/tab/0"),oa=Object(S.a)(ra,2),ca=oa[0],ia=oa[1],la=Object(n.useState)("/library/"),sa=Object(S.a)(la,2),da=sa[0],ma=sa[1],ua=Object(n.useState)("/student-leave/"),pa=Object(S.a)(ua,2),ga=pa[0],fa=pa[1];console.log("selectedStudent :>> ",Xt),Object(n.useEffect)((function(){"teacher"!==e.selectedRole&&"admin"!==e.selectedRole||Xt&&(na("/student-profile/".concat(Xt)),ia("/diary/".concat(Xt,"/tab/0")),ma("/library/".concat(Xt)),fa("/student-leave/".concat(Xt)))}),[Xt]),Object(n.useEffect)((function(){if(e.userInfo.id){var t=function(e){var t=rr.subscribe("private-App.User.".concat(e));return t.bind("pusher:subscription_succeeded",(function(e){console.log("successfully subscribed!")})),t}(e.userInfo.id);console.log("Chat Subcribed !!",e.userInfo.id),t.bind("App\\Events\\Chat",(function(t){console.log("Received data:",t),e.updateChat(t.singleChatUser)}))}}),[e.userInfo.id]),Object(n.useEffect)((function(){"parent"===e.selectedRole&&Zt&&(na("/student-profile/".concat(Zt)),fa("/student-leave/".concat(Zt))),"student"===e.selectedRole&&(na("/students-profile"),fa("/student-leaves"),ia("/diary"))}),[]),window&&(t=window.location.href),Object(n.useEffect)((function(){e.getContacts({current_role:e.selectedRole,get_by:"user"},!0,{Authorization:"Bearer ".concat(localStorage.getItem("srmToken"))}),e.getChatUsers({current_role:e.selectedRole},!0,{Authorization:"Bearer ".concat(localStorage.getItem("srmToken"))})}),[]);Object(n.useEffect)((function(){if(t){var a=t.includes("/student-profile"),n=t.includes("/students-profile"),r=t.includes("/diary"),o=t.includes("/library"),c=t.includes("/student-leave"),i=t.includes("/student-leaves"),l=t.includes("/holiday-calender"),s=t.includes("/miscellaneous"),d=t.includes("/multiple-student"),m=t.includes("/dishes"),u=t.includes("/lunch"),p=t.includes("/menu"),g=t.includes("/create-payment"),f=t.includes("/view-payment"),b=t.includes("/payments"),h=t.includes("/assignment-report"),x=t.includes("/news-report"),E=t.includes("/attendance-report"),v=t.includes("/payment-report");if((c||l||s||d||n||i)&&ze(!0),!(m||u||p)||"admin"!==e.selectedRole&&"teacher"!==e.selectedRole||Ie(!0),!(g||f||b)||"admin"!==e.selectedRole&&"teacher"!==e.selectedRole||qe(!0),(h||x||E||v)&&Se(!0),a){var y=t.split("/student-profile/")[1];kt(y),At(!0),ze(!0)}if(r){var j=t.split("/diary/")[1];kt(j),At(!0),ze(!0)}if(o){var O=t.split("/library/")[1];kt(O),At(!0),ze(!0)}"parent"!==e.selectedRole&&"student"!==e.selectedRole||At(!0)}}),[t]);var ba=function(e,t){"clickaway"!==t&&q(!1)},ha=function(){u(null)},xa=function(e){u(e.currentTarget)},Ea=function(e){localStorage.setItem("srmCurrentRoute","/profile"),c.push("/profile")},va=function(){b(!0),ha()},ya=function(){b(!1)},ja=function(){v(!E)},Oa=function(){ne(!0),e.authInitiateRoleSelection(),ha()},Sa=function(e){at(e),ha()},Ca=function(e){C((function(){return e}))},Na=[{name:_t.HOME,icon:r.a.createElement("img",{src:ie.a,alt:"Menu",width:"24",height:"24"}),linkTo:cn,itemIndex:0},{name:It,icon:r.a.createElement("img",{src:se.a,alt:"Menu",width:"24",height:"24"}),linkTo:ln,itemIndex:1},{name:Bt,icon:r.a.createElement("img",{src:me.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/assignment",itemIndex:2},{name:Dt,icon:r.a.createElement("img",{src:Ue.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/attendance",itemIndex:3},{name:Rt,icon:r.a.createElement("img",{src:ye.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/news",itemIndex:4},{name:Lt,icon:r.a.createElement("img",{src:Te.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/planning",itemIndex:5},{name:Ft,icon:r.a.createElement("img",{src:Ce.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/transport",itemIndex:6},{name:Mt,icon:r.a.createElement("img",{src:Oe.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/gallery",itemIndex:7},{name:Pt,icon:r.a.createElement("img",{src:ke.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/payments/tab/".concat(0),itemIndex:9},{name:"Create Payment",icon:r.a.createElement("img",{src:ke.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/create-payment",itemIndex:28},{name:"View Payment",icon:r.a.createElement("img",{src:ke.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/view-payment/tab/".concat(0),itemIndex:29},{name:zt,icon:r.a.createElement("img",{src:_e.a,alt:"Menu",width:"24",height:"24"}),linkTo:on,itemIndex:10},{name:Ut,icon:r.a.createElement("img",{src:pe.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/leave",itemIndex:11},{name:Yt,icon:r.a.createElement("img",{src:Fe.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/faq",itemIndex:12},{name:Ht,icon:r.a.createElement("img",{src:Re.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/support",itemIndex:13},{name:Vt,icon:r.a.createElement("img",{src:Be.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/report",itemIndex:14},{name:Kt,icon:r.a.createElement("img",{src:pe.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/report-card",itemIndex:15},{name:qt,icon:r.a.createElement("img",{src:pe.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/report-upload",itemIndex:16},{name:Wt,icon:r.a.createElement("img",{src:pe.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/weekly-time-table",itemIndex:17},{name:Gt,icon:r.a.createElement("img",{src:he.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/diarys",itemIndex:18},{name:"Diary Entry",icon:r.a.createElement("img",{src:he.a,alt:"Menu",width:"24",height:"24"}),linkTo:ca,itemIndex:20},{name:"Library",icon:r.a.createElement("img",{src:he.a,alt:"Menu",width:"24",height:"24"}),linkTo:da,itemIndex:21},{name:"Leaves",icon:r.a.createElement("img",{src:he.a,alt:"Menu",width:"24",height:"24"}),linkTo:ga,itemIndex:30},{name:"Student Profile",icon:r.a.createElement("img",{src:he.a,alt:"Menu",width:"24",height:"24"}),linkTo:aa,itemIndex:19},{name:"Holiday Calender",icon:r.a.createElement("img",{src:he.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/holiday-calender",itemIndex:22},{name:"Miscellaneous",icon:r.a.createElement("img",{src:he.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/miscellaneous",itemIndex:23},{name:"Lunch",icon:r.a.createElement("img",{src:fe.a,alt:"Menu"}),linkTo:"/lunch",itemIndex:25},{name:"Dishes",icon:r.a.createElement("img",{src:fe.a,alt:"Menu"}),linkTo:"/dishes",itemIndex:26},{name:"Menu",icon:r.a.createElement("img",{src:fe.a,alt:"Menu"}),linkTo:"/menu",itemIndex:27},{name:"Report",icon:r.a.createElement("img",{src:Ee.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/report",itemIndex:31},{name:"Assignment Report",icon:r.a.createElement("img",{src:Ee.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/assignment-report",itemIndex:32},{name:"News Report",icon:r.a.createElement("img",{src:Ee.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/news-report",itemIndex:33},{name:"Attendance Report",icon:r.a.createElement("img",{src:Ee.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/attendance-report",itemIndex:34},{name:"Payment Report",icon:r.a.createElement("img",{src:Ee.a,alt:"Menu",width:"24",height:"24"}),linkTo:"/payment-report",itemIndex:35}];Object(n.useEffect)((function(){[].concat(Na).forEach((function(e){switch(window.location.pathname){case"".concat(e.linkTo):O!==e.itemIndex?(C(e.itemIndex),localStorage.setItem("srmCurrentRoute",e.linkTo)):0===O&&0===e.itemIndex&&localStorage.setItem("srmCurrentRoute",e.linkTo)}}))}),[O,Na]),Object(n.useEffect)((function(){window.location.pathname.includes("/gallery/")&&7!==O&&C(7)}),[window.location.pathname]);var ka=function(){localStorage.setItem("srmCurrentRoute","/settings"),c.push({pathname:"".concat(Un),state:{selectedSetting:"HomeWork"}})},wa=r.a.createElement(F.a,{classes:{paper:a.menuContainer},anchorEl:d,id:"desktopMenu",keepMounted:!0,anchorReference:"anchorPosition",anchorPosition:{top:65,left:2e3},open:$t,onClose:ha,marginThreshold:0},r.a.createElement(M.a,{onClick:Ea,classes:{root:a.menuItem}},"Profile"),e.isAuthenticated&&e.userInfo.roles.length>1?r.a.createElement(M.a,{onClick:Oa,classes:{root:a.menuItem}},"Change Role (currently ",e.selectedRole,")"):null,e.isAuthenticated&&"parent"===e.selectedRole&&Jt.length>1?r.a.createElement(M.a,{onClick:function(){return Sa(!0)},classes:{root:a.menuItem}},"Change Child (currently"," ",Jt[parseInt(Qt)].userDetails.firstname,")"):r.a.createElement("span",null),"admin"===e.selectedRole?r.a.createElement(M.a,{onClick:ka,classes:{root:a.menuItem}},"Settings"):null,r.a.createElement(M.a,{onClick:va,classes:{root:a.menuItem}},"Logout")),Ta=r.a.createElement(F.a,{classes:{paper:a.menuContainer},anchorEl:d,id:"mobileMenu",keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:$t,onClose:ha,marginThreshold:0,style:{zIndex:1301}},r.a.createElement(M.a,{onClick:Ea,classes:{root:a.menuItem}},"Profile"),e.isAuthenticated&&e.userInfo.roles.length>1?r.a.createElement(M.a,{onClick:Oa,classes:{root:a.menuItem}},"Change Role (currently ",e.selectedRole,")"):null,e.isAuthenticated&&"parent"===e.selectedRole&&Jt.length>1?r.a.createElement(M.a,{onClick:function(){return Sa(!0)},classes:{root:a.menuItem}},"Change Child (currently"," ",Jt[parseInt(Qt)].userDetails.firstname,")"):r.a.createElement("span",null),"admin"===e.selectedRole?r.a.createElement(M.a,{onClick:ka,classes:{root:a.menuItem}},"Settings"):null,r.a.createElement(M.a,{onClick:va,classes:{root:a.menuItem}},"Logout")),Aa=r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{disableGutters:!0},r.a.createElement("div",{className:a.mobileToolbar},r.a.createElement("div",{className:a.widthStyleDiv}),r.a.createElement("div",null,r.a.createElement(P.a,{src:e.userInfo.thumbnail?e.userInfo.thumbnail:"/broken-image.jpg",className:a.avatar})),r.a.createElement("div",null,r.a.createElement(m.a,{noWrap:!0,className:a.profileName},"Hi ",e.userInfo.firstname," ",e.userInfo.lastname)),r.a.createElement("div",{className:a.divStyleWidth}),r.a.createElement("div",null,r.a.createElement(z.a,{size:"small",onClick:xa,disableRipple:!0,className:a.profileButton},r.a.createElement(ee.a,{className:a.ChevronRightSharpIcon,fontSize:"small"}))))),r.a.createElement("div",{className:a.drawerContainer},r.a.createElement("div",null,r.a.createElement(U.a,{className:a.listContainer},Na.map((function(t,n){if("Events & Announcements"===t.name){if("teacher"===e.selectedRole||"admin"===e.selectedRole)return r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}))}else if("Transport"===t.name){if("parent"===e.selectedRole||"teacher"===e.selectedRole)return r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}))}else if("Leave"===t.name){if("teacher"===e.selectedRole||"admin"===e.selectedRole||"student"===e.selectedRole||"parent"===e.selectedRole)return r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}))}else if("Weekly Time Table"===t.name){if("teacher"===e.selectedRole||"admin"===e.selectedRole||"student"===e.selectedRole||"parent"===e.selectedRole)return r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}))}else if("admin"!==e.selectedRole&&"teacher"!==e.selectedRole||"Student Report Card"!==t.name&&"Student Reports"!==t.name&&"Bulk Upload"!==t.name){if(("admin"===e.selectedRole||"teacher"===e.selectedRole)&&"Lunch"===t.name||"Dishes"===t.name||"Menu"===t.name){if(25===t.itemIndex)return r.a.createElement(Y.a,{button:!0,key:t.name,className:a.listItem,onClick:function(){Ca(t.itemIndex),Ie(!Ae)}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}),Ae?r.a.createElement(re.a,{className:a.ExpandLess}):r.a.createElement(J.a,null));if(26===t.itemIndex)return r.a.createElement(oe.a,{in:Ae,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(27===t.itemIndex)return r.a.createElement(oe.a,{in:Ae,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})))}else if(("admin"===e.selectedRole||"teacher"===e.selectedRole)&&"Payments"===t.name||"Create Payment"===t.name||"View Payment"===t.name){if(9===t.itemIndex)return console.log("itempayment",t.itemIndex),r.a.createElement(Y.a,{button:!0,key:t.name,className:a.listItem,onClick:function(){Ca(t.itemIndex),qe(!Ve)}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}),Ve?r.a.createElement(re.a,{className:a.ExpandLess}):r.a.createElement(J.a,null));if(28===t.itemIndex)return console.log("itemindex",t.itemIndex),r.a.createElement(oe.a,{in:Ve,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(29===t.itemIndex)return r.a.createElement(oe.a,{in:Ve,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})))}else if("Payments"===t.name){if("parent"===e.selectedRole)return r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}))}else if("admin"===e.selectedRole&&"Report"===t.name||"Assignment Report"===t.name||"News Report"===t.name||"Attendance Report"===t.name||"Payment Report"===t.name){if(31===t.itemIndex)return r.a.createElement(Y.a,{button:!0,key:t.name,className:a.listItem,onClick:function(){Ca(t.itemIndex),Se(!je)}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}),je?r.a.createElement(re.a,{className:a.ExpandLess}):r.a.createElement(J.a,null));if(32===t.itemIndex)return r.a.createElement(oe.a,{in:je,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(33===t.itemIndex)return r.a.createElement(oe.a,{in:je,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(34===t.itemIndex)return r.a.createElement(oe.a,{in:je,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(35===t.itemIndex)return r.a.createElement(oe.a,{in:je,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})))}else if("Report"===t.name){if("admin"===e.selectedRole)return r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}))}else if(("admin"===e.selectedRole||"teacher"===e.selectedRole||"parent"===e.selectedRole||"student"===e.selectedRole)&&"Diary"===t.name||"Student Profile"===t.name||"Diary Entry"===t.name||"Library"===t.name||"Leaves"===t.name||"Holiday Calender"===t.name||"Miscellaneous"===t.name){if(18===t.itemIndex)return r.a.createElement(Y.a,{button:!0,key:t.name,className:a.listItem,onClick:function(){Ca(t.itemIndex),ze(!Me)}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}),Me?r.a.createElement(re.a,{className:a.ExpandLess}):r.a.createElement(J.a,null));if(19===t.itemIndex)return r.a.createElement(oe.a,{in:Me,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(20===t.itemIndex)return r.a.createElement(oe.a,{in:Me,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:"".concat(a.listItem),onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(21===t.itemIndex)return r.a.createElement(oe.a,{in:Me,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:"".concat(a.listItem),onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(30===t.itemIndex)return r.a.createElement(oe.a,{in:Me,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:"".concat(a.listItem),onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(22===t.itemIndex)return r.a.createElement(oe.a,{in:Me,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(23===t.itemIndex)return r.a.createElement(oe.a,{in:Me,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})))}else if("News & Announcements"!==t.name&&"Events"!==t.name&&"Bulk Upload"!==t.name&&"Student Report Card"!==t.name)return r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}))}else{if(14===t.itemIndex)return r.a.createElement(Y.a,{button:!0,key:t.name,className:a.listItem,onClick:function(){Ca(t.itemIndex),be(!ge)}},r.a.createElement(Z.a,{classes:{root:a.listItemIcon}},t.icon),r.a.createElement(H.a,{primary:t.name,className:a.listItemText}),ge?r.a.createElement(re.a,{className:a.ExpandLess}):r.a.createElement(J.a,null));if(15===t.itemIndex)return r.a.createElement(oe.a,{in:ge,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})));if(16===t.itemIndex)return r.a.createElement(oe.a,{in:ge,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{button:!0,key:t.name,component:k.a,to:t.linkTo,className:a.listItem,onClick:function(){return Ca(t.itemIndex)},selected:O===t.itemIndex,classes:{selected:a.listItemSelected}},r.a.createElement(Ke.a,{className:a.reportMenu}),r.a.createElement(H.a,{primary:t.name,className:a.reportName})))}})))))),_a=r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null),r.a.createElement("div",{className:a.drawerContainer},r.a.createElement(za,Object.assign({setRefreshChat:Ot,refreshChat:jt,selectChat:bt},e))));return r.a.createElement(r.a.Fragment,null,e.isAuthenticated?"":r.a.createElement(s.a,{to:"/login"}),r.a.createElement(or,null,r.a.createElement("div",{className:a.grow},r.a.createElement(T.a,{position:"fixed",className:a.appBar},r.a.createElement(A.a,null,r.a.createElement(W.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:ja,className:a.menuButton},r.a.createElement("img",{className:a.imgColorStyle,src:He.a,alt:"Menu"})),r.a.createElement(G.a,{smDown:!0,implementation:"css"},r.a.createElement("img",{src:"null"!==xt?xt:Pe.a,className:a.Logo,alt:"Logo"})),r.a.createElement("div",{className:a.grow}),r.a.createElement(m.a,{className:a.title,variant:"h6",noWrap:!0},ht),r.a.createElement("div",{className:a.grow2}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(W.a,{"aria-label":"show 2 new notifications",color:"inherit"},r.a.createElement(V.a,{badgeContent:e.notificationCount,color:"secondary"},r.a.createElement(R.a,{onClick:function(){c.push(ln)}}))),r.a.createElement("div",{className:"".concat(a.sectionItems," ").concat(a.marginLeft20)},r.a.createElement(P.a,{src:e.userInfo.thumbnail?e.userInfo.thumbnail:"/broken-image.jpg",className:a.avatar})),r.a.createElement("div",{className:"".concat(a.sectionItems," ").concat(a.marginLeft5)},r.a.createElement(z.a,{size:"small",onClick:xa,disableRipple:!0,className:a.profileButton},r.a.createElement(m.a,{noWrap:!0,className:a.profileName},"Hi ",e.userInfo.firstname," ",e.userInfo.lastname),r.a.createElement(J.a,{className:a.imgColorStyle,fontSize:"small"})))),r.a.createElement("div",{className:a.sectionMobile},r.a.createElement(W.a,{"aria-label":"show 2 new notifications",color:"inherit"},r.a.createElement(V.a,{badgeContent:e.notificationCount,color:"secondary"},r.a.createElement(R.a,{onClick:function(){c.push(ln)}}))),r.a.createElement(W.a,{color:"inherit"},r.a.createElement("img",{src:Ge.a,alt:"Menu"}))))),Et?Ta:wa)),r.a.createElement("div",{className:a.toolbarMargin}),r.a.createElement("nav",{className:a.drawer},r.a.createElement(G.a,{smUp:!0,implementation:"css"},r.a.createElement(K.a,{variant:"temporary",open:E,onClose:ja,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},Aa)),r.a.createElement(G.a,{smDown:!0,implementation:"css"},r.a.createElement(K.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0,PaperProps:{elevation:3}},Aa))),r.a.createElement("nav",{className:a.drawerRight},r.a.createElement(G.a,{smDown:!0,implementation:"css"},r.a.createElement(K.a,{classes:{paper:a.drawerRightPaper},variant:"permanent",open:!0,anchor:"right",PaperProps:{elevation:3}},_a))),r.a.createElement("main",{className:a.mainContainer},e.children),null!=e.singleChatUser&&r.a.createElement(tr,{selectedChat:e.singleChatUser}),D?r.a.createElement(ae.a,{open:D,anchorOrigin:{vertical:"top",horizontal:"right"},message:r.a.createElement("div",{onClick:function(){return c.push(pt)}},r.a.createElement(m.a,null,ot),r.a.createElement(m.a,{className:a.snackBarDescription},st)),onClose:ba,className:a.snackbar,TransitionComponent:cr,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{size:"small","aria-label":"close",color:"inherit",onClick:ba},r.a.createElement(X.a,{fontSize:"small"})))}):"",f?r.a.createElement(ct,{open:f,handleClose:ya}):"",e.changeRole?r.a.createElement(Nt,{open:te,handleClose:ya,handleCloseRoleModel:function(){return ne(!1)}}):null,tt?r.a.createElement(ut,{open:!0,handleClose:Sa,data:Jt,change_child:function(e){at(!1);var t=Jt.indexOf(e);localStorage.setItem("srmSelected_Child",t),localStorage.setItem("srmSelected_Child_token",e.access_token),c.push(cn)}}):null)})),sr=a(918),dr=a(917),mr=a(994),ur=a(973),pr=a(971),gr=a(514),fr=a.n(gr),br=a(515),hr=a.n(br),xr=a(516),Er=a.n(xr),vr=Object(dt.a)((function(e){return{cardStyle:Object(C.a)({width:"400px",margin:"auto",boxShadow:"none",backgroundImage:"url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' stroke='%237B72AFFF' stroke-width='2' stroke-dasharray='7' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\")",borderRadius:0,background:"#fbfaff",textAlign:"center",zIndex:"1",position:"relative",display:"block",padding:0},e.breakpoints.down("xs"),{padding:0,width:"90%"}),cardContentStyle:{padding:0},authContainer:{marginTop:"10px"},loginContainer:{backgroundImage:"url(".concat(fr.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"100%",minHeight:"100%",margin:"0px",padding:"0px",textAlign:"center","& .imageContainer":Object(C.a)({width:"100%",textAlign:"center",position:"absolute",bottom:"0px"},e.breakpoints.down("xs"),{position:"relative",marginTop:"30px"}),"& h1":{margin:0,padding:0}},loginForm:Object(C.a)({paddingTop:"40px"},e.breakpoints.down("xs"),{paddingTop:"10px"}),boxMargin:Object(C.a)({marginTop:"30px",paddingTop:"20px"},e.breakpoints.down("xs"),{marginTop:"10px"}),footerImage:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{display:"none"}),mobileFooterImage:Object(C.a)({width:"80%"},e.breakpoints.up("sm"),{display:"none"}),boxHeadingContainer:Object(N.a)({},e.boxHeadingContainer)}})),yr=function(e){var t=vr();return r.a.createElement("div",{className:t.loginContainer},r.a.createElement(mr.a,{className:t.loginForm},r.a.createElement("h1",null,"Logo"),r.a.createElement(pr.a,{className:t.authContainer},r.a.createElement(it.a,{raised:!1,className:t.cardStyle},r.a.createElement(lt.a,{className:t.cardContentStyle},r.a.createElement(mr.a,{className:t.boxMargin},r.a.createElement("span",{className:t.boxHeadingContainer},e.title)),e.children)))),r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{className:t.footerImage,src:hr.a,alt:"Desktop Footer"}),r.a.createElement("img",{className:t.mobileFooterImage,src:Er.a,height:"200px",alt:"Mobile Footer"})))},jr=a(117),Or=a.n(jr),Sr=a(134),Cr=a.n(Sr),Nr=a(575),kr=a(972),wr=Object(dt.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:e.palette.common.white}}}));function Tr(e){var t=wr();return r.a.createElement("div",null,r.a.createElement(Nr.a,{className:t.backdrop,open:e.open},r.a.createElement(kr.a,{color:"inherit"})))}var Ar=a(121),_r=a.n(Ar),Ir=a(122),Br=a.n(Ir);function Dr(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var Rr=Object(I.a)((function(){return{formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"80%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px"},fgtPass:{marginBottom:"15px",marginTop:"30px",cursor:"pointer","& a":{color:"#707070",textDecoration:"none"},"& a:hover":{textDecoration:"underline"},"@media (max-width:400px)":{marginTop:"10px",marginBottom:0}},margin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px"}},error:{color:"red"}}})),Lr=Object(i.c)((function(e){return{error:e.auth.error,loading:e.auth.loading,isAuthenticated:null!==e.auth.token,redirectUrl:e.auth.redirectUrl}}),(function(e){return{onLoginSubmit:function(t,a){return e(function(e,t){return{type:"AUTH_USER",userName:e,password:t}}(t,a))}}}))((function(e){var t=Rr(),a=Object(s.g)(),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(""),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(""),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(!1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(""),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(!1),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(!1),B=Object(S.a)(I,2),D=B[0],R=B[1];Object(n.useEffect)((function(){var t=e.history.location.search,a=new URLSearchParams(t),n=a.get("fgtpass"),r=a.get("register");console.log(a.get("register")),null!==n&&("true"===n&&(k("Password updated successfully"),j(!0)),"false"===n&&(k("Failed to update the password"),_(!0))),null!==r&&("true"===r&&(k("User registered successfully"),j(!0)),"false"===r&&(k("User registration failed"),_(!0)))}),[]),Object(n.useEffect)((function(){p.length>0&&h.length>0?l(!1):l(!0)}),[p,h]);var L=function(e){var t=e.target.name;"user"===t&&g(e.target.value),"password"===t&&x(e.target.value)},F=function(e){"clickaway"!==e&&(j(!1),_(!1))},M="";return e.error&&(M=r.a.createElement(m.a,{className:t.error},e.error)),r.a.createElement(yr,{title:"LOGIN"},r.a.createElement("div",null,r.a.createElement(mr.a,{className:t.boxMargin}),r.a.createElement("form",{className:t.formStyle,onSubmit:function(t){t.preventDefault(),e.onLoginSubmit(p,h)}},r.a.createElement(mr.a,{className:t.margin},M,r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"user",name:"user",className:t.inputBorder,type:"text",value:p,onChange:L,placeholder:"Email, Phone or User ID",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Or.a,width:"40px",alt:"Phone SVG"}))}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"password",name:"password",className:t.inputBorder,type:D?"text":"password",value:h,onChange:L,placeholder:"Enter Password",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Cr.a,width:"40px",alt:"Phone SVG"})),endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle password visibility",onClick:function(){R(!D)}},D?r.a.createElement(_r.a,null):r.a.createElement(Br.a,null)))}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"loginBtn",type:"submit",variant:"contained",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disabled:i,disableElevation:!0},"SUBMIT")),r.a.createElement(mr.a,{className:"".concat(t.Margin," ").concat(t.fgtPass)},r.a.createElement(ur.a,{onClick:function(e){e.preventDefault(),a.push("/changepwdotp")}},r.a.createElement(m.a,null,"Forgot Password?"))),r.a.createElement(mr.a,{className:"".concat(t.Margin," ").concat(t.fgtPass)},r.a.createElement(ur.a,{onClick:function(e){e.preventDefault(),a.push("/register")}},r.a.createElement(m.a,null,"User Registration"))))),r.a.createElement(Tr,{open:e.loading}),r.a.createElement(ae.a,{open:y,autoHideDuration:6e3,onClose:F},r.a.createElement(Dr,{onClose:F,severity:"success"},N)),r.a.createElement(ae.a,{open:A,autoHideDuration:6e3,onClose:F},r.a.createElement(Dr,{onClose:F,severity:"error"},N)))})),Fr=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"fetchSchools",value:function(){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/schools"))}},{key:"sendOtp",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/send-otp"),e,{params:{school_id:t}})}},{key:"otpValidate",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/validate-otp"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"changePassword",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/update_password"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getParents",value:function(e){return console.log(e),oa.a.post("".concat("https://dev.srmapi.in/api/v1","/get-parents"),e)}}]),e}()),Mr=a(919),Pr=Object(I.a)((function(e){return{formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center"},fieldStyle:{width:"80%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px"},errorColor:{color:"red"},helperText:{color:"#f44336",display:"none"},margin:{marginTop:"30px",paddingBottom:"20px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px"}}}})),zr=function(e){var t=Object(n.useState)(!1),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(!1),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(!1),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Pr(),R=Object(n.useRef)(),L=Object(s.g)();Object(n.useEffect)((function(){d===f?(v(!1),c(!1),R.current.style.display="none"):(v(!0),c(!0),R.current.style.display="block")}),[d,f]);var F=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r,o;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),console.log(a),!(d.length<6)){t.next=6;break}C("Password should have more than 6 characters"),t.next=19;break;case 6:return t.prev=6,n=e.token,r=f,t.next=11,Fr.changePassword(n,{new_password:d,confirm_password:r});case 11:o=t.sent,console.log(o),"Password updated successfully."===o.data.message?L.push({pathname:"/login",search:"?register=true"}):L.push({pathname:"/login",search:"?register=false"}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(yr,{title:"Register"},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(D.errorColor)},O),r.a.createElement("form",{className:D.formStyle,onSubmit:F},r.a.createElement(mr.a,{className:D.margin},r.a.createElement(dr.a,{className:D.fieldStyle},r.a.createElement(Qt.a,{id:"password",className:D.inputBorder,type:w?"text":"password",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Cr.a,width:"40px",alt:"Phone SVG"})),endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle password visibility",onClick:function(){T(!w)}},w?r.a.createElement(_r.a,null):r.a.createElement(Br.a,null))),required:!0,value:d,onChange:function(e){C(""),u(e.target.value)},placeholder:"Password"}))),r.a.createElement(mr.a,{className:D.margin},r.a.createElement(dr.a,{className:D.fieldStyle},r.a.createElement(Qt.a,{id:"repassword",className:D.inputBorder,type:I?"text":"password",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Cr.a,width:"40px",alt:"Phone SVG"})),endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle confirm password visibility",onClick:function(){B(!I)}},I?r.a.createElement(_r.a,null):r.a.createElement(Br.a,null))),required:!0,value:f,onChange:function(e){C(""),b(e.target.value)},error:E,placeholder:"Confirm passoword"}),r.a.createElement(Mr.a,{ref:R,className:D.helperText},"*password not matching"))),r.a.createElement(mr.a,{className:D.margin},r.a.createElement(z.a,{variant:"contained",type:"submit",className:"".concat(D.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0,disabled:o},"SUBMIT"))))))};function Ur(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var Yr=Object(I.a)((function(e){return{formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center",paddingBttom:"20px"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"80%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},errorColor:{color:"red"},successColor:{color:"green"},margin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginTop:"10px",marginBotton:"10px"}},reOtp:{color:"".concat(e.palette.common.deluge),cursor:"pointer","&:hover":{textDecoration:"underline"}}}})),Hr=function(e){var t=Yr(),a=Object(n.useRef)(null),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(""),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)(!1),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(""),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(""),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)(!1),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(!1),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(""),L=Object(S.a)(R,2),F=L[0],M=L[1],P=Object(n.useState)(e.token),U=Object(S.a)(P,2),Y=U[0],H=U[1];function W(){return(W=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Re generate Otp for: ",e.user,e.school),t.next=4,Fr.sendOtp({username:e.user},e.school);case 4:200===(a=t.sent).status&&(console.log("OTP Sent Successfully"),H(a.data.data.access_token),M(a.data.message),A(!0)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),M("Failed to send OTP"),D(!0);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function G(){return(G=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.handleLoading(!0),t.next=4,Fr.otpValidate(Y,{otp:u});case 4:a=t.sent,e.handleLoading(!1),200===a.status&&(y(a.data.data.token),h(!0)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),N("OTP is not correct"),e.handleLoading(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}var V=function(e){"clickaway"!==e&&(A(!1),D(!1))};return r.a.createElement(r.a.Fragment,null,b?r.a.createElement(zr,{token:v}):r.a.createElement(yr,{title:"Register"},r.a.createElement("div",null,r.a.createElement(mr.a,{className:t.boxMargin}),r.a.createElement(m.a,{className:"".concat(t.errorColor)},C),r.a.createElement("form",{className:t.formStyle,onSubmit:function(e){e.preventDefault(),console.log("OTP Submited"),function(){G.apply(this,arguments)}()}},r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"otp",ref:a,name:"otp",className:t.inputBorder,type:"text",onChange:function(e){var t=e.target.name;N("");"otp"===t&&p(u=e.target.value),/^[0-9]{6}$/gm.test(u)?l(!1):l(!0)},placeholder:"Enter OTP",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Or.a,width:"40px",alt:"Phone SVG"}))}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"otpSubmit",type:"submit",variant:"contained",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disabled:i,disableElevation:!0},"SUBMIT")),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(m.a,null,r.a.createElement("span",{className:t.reOtp,onClick:function(e){!function(){W.apply(this,arguments)}()}},"Re-Generate OTP")))))),r.a.createElement(ae.a,{open:T,autoHideDuration:6e3,onClose:V},r.a.createElement(Ur,{onClose:V,severity:"success"},F)),r.a.createElement(ae.a,{open:B,autoHideDuration:6e3,onClose:V},r.a.createElement(Ur,{onClose:V,severity:"error"},F)))},Wr=a(924),Gr=a(923),Vr=Object(I.a)((function(e){return{formStyle:{margin:"auto",width:"100%",justifyContent:"center",paddingBttom:"20px"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"80%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},errorColor:{color:"red"},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},margin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginTop:"10px",marginBotton:"10px"}},selectStyle:{textAlign:"left"},login:{marginBottom:"15px",marginTop:"30px",cursor:"pointer","& a":{color:"#707070",textDecoration:"none"},"& a:hover":{textDecoration:"underline"},"@media (max-width:400px)":{marginTop:"10px",marginBottom:0}}}})),Kr=function(){var e=Vr(),t=Object(s.g)(),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(""),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(!1),E=Object(S.a)(x,2),v=E[0],y=(E[1],Object(n.useState)("")),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),w=Object(S.a)(N,2),T=w[0],A=w[1],_=Object(n.useState)(!1),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(""),L=Object(S.a)(R,2),F=L[0],P=L[1];function U(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Send OTP Function for user: ",t),H(!0),e.next=5,Fr.sendOtp({username:t},parseInt(F));case 5:a=e.sent,console.log("OTP is: ",a.data.data.otp),C(a.data.data.access_token),H(!1),200===a.status?(console.log("OTP Sent Successfully"),p(!0)):422===a.status?(console.log(a),A(a.data.data.message)):(console.log("Error"),A("User not found")),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),422===e.t0.response.status&&A(e.t0.response.data.message),H(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("in here"),t.next=3,Fr.fetchSchools();case 3:a=t.sent,console.log("Response",a),e&&i(a.data.data);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var H=function(e){D(e)};Object(n.useEffect)((function(){v&&U(b)}),[v]);var W=r.a.createElement(r.a.Fragment,null,r.a.createElement(yr,{title:"Register"},r.a.createElement("div",null,r.a.createElement(mr.a,{className:e.boxMargin}),r.a.createElement(m.a,{className:"".concat(e.errorColor)},T),r.a.createElement("form",{className:e.formStyle,onSubmit:function(e){e.preventDefault(),""===b||""===F?A("Fill all data"):U(b)}},r.a.createElement(mr.a,{className:e.margin},r.a.createElement(dr.a,{className:e.fieldStyle},r.a.createElement(Qt.a,{id:"username",name:"username",className:e.inputBorder,type:"text",onChange:function(e){A(""),h(e.target.value)},placeholder:"Enter Username",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Or.a,width:"40px",alt:"Phone SVG"}))}))),r.a.createElement(mr.a,{className:e.margin},r.a.createElement(dr.a,{className:e.fieldStyle},r.a.createElement(Wr.a,{id:"school-select"},"Select School"),r.a.createElement(Gr.a,{labelId:"school-select",id:"school-select",value:F,className:e.selectStyle,onChange:function(e){A(""),P(e.target.value)}},c.map((function(e){return r.a.createElement(M.a,{key:e.id,value:e.id},e.name)}))))),r.a.createElement(mr.a,{className:e.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"contained",className:"".concat(e.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0},"SUBMIT")),r.a.createElement(mr.a,{className:"".concat(e.Margin," ").concat(e.login)},r.a.createElement(k.a,{onClick:function(){t.push("/login")}},r.a.createElement(m.a,null,"Already Registered ? Login")))))));return r.a.createElement(r.a.Fragment,null,u?r.a.createElement(Hr,{user:b,school:parseInt(F),handleLoading:H,token:O}):W,r.a.createElement(Tr,{open:B}))},qr=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"login",value:function(e){return console.log("".concat("https://dev.srmapi.in/api/v1","/login")),oa.a.post("".concat("https://dev.srmapi.in/api/v1","/login"),e)}},{key:"sendOtp",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/send-otp"),e)}},{key:"otpValidate",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/validate-otp"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"changePassword",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/update_password"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getParents",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/get-parents"),e)}},{key:"addDeviceToken",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/user/").concat(a),{device_tokens:t},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),Jr=Object(I.a)((function(e){return{formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center"},fieldStyle:{width:"80%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px"},errorColor:{color:"red"},helperText:{color:"#f44336",display:"none"},margin:{marginTop:"30px",paddingBottom:"20px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px"}}}})),Qr=function(e){var t=Object(n.useState)(!1),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(!1),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(!1),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Jr(),R=Object(n.useRef)(),L=Object(s.g)();Object(n.useEffect)((function(){d===f?(v(!1),c(!1),R.current.style.display="none"):(v(!0),c(!0),R.current.style.display="block")}),[d,f]);var F=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r,o;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),console.log(a),!(d.length<6)){t.next=6;break}C("Password should have more than 6 characters"),t.next=19;break;case 6:return t.prev=6,n=e.token,r=f,t.next=11,qr.changePassword(n,{new_password:d,confirm_password:r});case 11:o=t.sent,console.log(o),"Password updated successfully."===o.data.message?L.push({pathname:"/login",search:"?fgtpass=true"}):L.push({pathname:"/login",search:"?fgtpass=false"}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(yr,{title:"Forgot Password ?"},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(D.errorColor)},O),r.a.createElement("form",{className:D.formStyle,onSubmit:F},r.a.createElement(mr.a,{className:D.margin},r.a.createElement(dr.a,{className:D.fieldStyle},r.a.createElement(Qt.a,{id:"password",className:D.inputBorder,type:w?"text":"password",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Cr.a,width:"40px",alt:"Phone SVG"})),endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle password visibility",onClick:function(){T(!w)}},w?r.a.createElement(_r.a,null):r.a.createElement(Br.a,null))),required:!0,value:d,onChange:function(e){C(""),u(e.target.value)},placeholder:"Password"}))),r.a.createElement(mr.a,{className:D.margin},r.a.createElement(dr.a,{className:D.fieldStyle},r.a.createElement(Qt.a,{id:"repassword",className:D.inputBorder,type:I?"text":"password",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Cr.a,width:"40px",alt:"Phone SVG"})),endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle confirm password visibility",onClick:function(){B(!I)}},I?r.a.createElement(_r.a,null):r.a.createElement(Br.a,null))),required:!0,value:f,onChange:function(e){C(""),b(e.target.value)},error:E,placeholder:"Re-enter passoword"}),r.a.createElement(Mr.a,{ref:R,className:D.helperText},"*password not matching"))),r.a.createElement(mr.a,{className:D.margin},r.a.createElement(z.a,{variant:"contained",type:"submit",className:"".concat(D.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0,disabled:o},"SUBMIT"))))))},Xr=Object(I.a)((function(e){return{formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"80%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},margin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px"}},rePass:{display:"none"}}})),Zr=function(){var e=Xr(),t=Object(n.useRef)(null),a=Object(n.useRef)(null),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(""),d=Object(S.a)(s,2),m=d[0],u=d[1];return r.a.createElement(yr,{title:"Register"},r.a.createElement("div",null,r.a.createElement(mr.a,{className:e.boxMargin}),r.a.createElement("form",{className:e.formStyle,onSubmit:function(e){e.preventDefault(),a.current.style.display="true"}},r.a.createElement(mr.a,{className:e.margin},r.a.createElement(dr.a,{className:e.fieldStyle},r.a.createElement(Qt.a,{id:"otp",ref:t,name:"otp",className:e.inputBorder,type:"text",onChange:function(e){"otp"===e.target.name&&u(m=e.target.value),/^[0-9]{6}$/gm.test(m)?l(!1):l(!0)},placeholder:"Enter OTP",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Or.a,width:"40px",alt:"Phone SVG"}))}))),r.a.createElement(mr.a,{className:"".concat(e.margin," ").concat(e.rePass),ref:a},r.a.createElement(dr.a,{className:e.fieldStyle},r.a.createElement(Qt.a,{id:"repassword",name:"repassword",className:e.inputBorder,type:"",placeholder:"Re-Enter Password",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Cr.a,width:"40px",alt:"Password SVG"}))}))),r.a.createElement(mr.a,{className:e.margin},r.a.createElement(z.a,{id:"loginBtn",type:"submit",variant:"contained",className:"".concat(e.fieldStyle," ","loginBtn"),color:"primary",disabled:i,disableElevation:!0},"SUBMIT")))))};function $r(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var eo=Object(I.a)((function(e){return{formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center",paddingBttom:"20px"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"80%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},errorColor:{color:"red"},successColor:{color:"green"},margin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginTop:"10px",marginBotton:"10px"}},reOtp:{color:"".concat(e.palette.common.deluge),cursor:"pointer","&:hover":{textDecoration:"underline"}}}})),to=function(e){var t=eo(),a=Object(n.useRef)(null),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(""),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)(!1),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(""),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(""),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)(!1),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(!1),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(""),L=Object(S.a)(R,2),F=L[0],M=L[1],P=Object(n.useState)(e.token),U=Object(S.a)(P,2),Y=U[0],H=U[1];function W(){return(W=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Regenerate OTP for: ",e.user),t.next=4,qr.sendOtp({username:e.user});case 4:a=t.sent,console.log("OTP is: ",a),200===a.status&&(console.log("OTP Sent Successfully"),H(a.data.data.access_token),M(a.data.message),A(!0)),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),M("Failed to send OTP"),D(!0);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function G(){return(G=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.handleLoading(!0),t.next=4,qr.otpValidate(Y,{otp:u});case 4:a=t.sent,e.handleLoading(!1),200===a.status&&(y(a.data.data.token),h(!0)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),N("OTP is not correct"),e.handleLoading(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}var V=function(e){"clickaway"!==e&&(A(!1),D(!1))};return r.a.createElement(r.a.Fragment,null,b?r.a.createElement(Qr,{token:v}):r.a.createElement(yr,{title:"Forgot Password?"},r.a.createElement("div",null,r.a.createElement(mr.a,{className:t.boxMargin}),r.a.createElement(m.a,{className:"".concat(t.errorColor)},C),r.a.createElement("form",{className:t.formStyle,onSubmit:function(e){e.preventDefault(),console.log("OTP Submited"),function(){G.apply(this,arguments)}()}},r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"otp",ref:a,name:"otp",className:t.inputBorder,type:"text",onChange:function(e){var t=e.target.name;N("");"otp"===t&&p(u=e.target.value),/^[0-9]{6}$/gm.test(u)?l(!1):l(!0)},placeholder:"Enter OTP",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Or.a,width:"40px",alt:"Phone SVG"}))}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"otpSubmit",type:"submit",variant:"contained",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disabled:i,disableElevation:!0},"SUBMIT")),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(m.a,null,r.a.createElement("span",{className:t.reOtp,onClick:function(e){!function(){W.apply(this,arguments)}()}},"Re-Generate OTP")))))),r.a.createElement(ae.a,{open:T,autoHideDuration:6e3,onClose:V},r.a.createElement($r,{onClose:V,severity:"success"},F)),r.a.createElement(ae.a,{open:B,autoHideDuration:6e3,onClose:V},r.a.createElement($r,{onClose:V,severity:"error"},F)))},ao=Object(I.a)((function(){return{formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center",paddingBttom:"20px"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"80%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},errorColor:{color:"red"},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},margin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginTop:"10px",marginBotton:"10px"}}}})),no=function(){var e=ao(),t=Object(n.useState)(!1),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),l=Object(S.a)(i,2),s=l[0],d=l[1],u=Object(n.useState)(!1),p=Object(S.a)(u,2),g=p[0],f=(p[1],Object(n.useState)("")),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!1),C=Object(S.a)(O,2),N=C[0],k=C[1];function w(e){return T.apply(this,arguments)}function T(){return(T=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Send OTP Function for user: ",t),A(!0),e.next=5,qr.sendOtp({username:t});case 5:a=e.sent,console.log("OTP is: ",a.data.data.otp),x(a.data.data.access_token),A(!1),200===a.status&&(console.log("OTP Sent Successfully"),c(!0)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),j("User not found"),A(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var A=function(e){k(e)};Object(n.useEffect)((function(){g&&w(s)}),[g]);var _=r.a.createElement(r.a.Fragment,null,r.a.createElement(yr,{title:"Forgot Password?"},r.a.createElement("div",null,r.a.createElement(mr.a,{className:e.boxMargin}),r.a.createElement(m.a,{className:"".concat(e.errorColor)},y),r.a.createElement("form",{className:e.formStyle,onSubmit:function(e){e.preventDefault(),w(s)}},r.a.createElement(mr.a,{className:e.margin},r.a.createElement(dr.a,{className:e.fieldStyle},r.a.createElement(Qt.a,{id:"username",name:"username",className:e.inputBorder,type:"text",onChange:function(e){j(""),d(e.target.value)},placeholder:"Enter Username",startAdornment:r.a.createElement(sr.a,{position:"start"},r.a.createElement("img",{src:Or.a,width:"40px",alt:"Phone SVG"}))}))),r.a.createElement(mr.a,{className:e.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"contained",className:"".concat(e.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0},"SUBMIT"))))));return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(to,{user:s,handleLoading:A,token:h}):_,r.a.createElement(Tr,{open:N}))},ro=a(922),oo=a(577),co=a(33),io=a(997),lo=a(517),so=a.n(lo),mo=Object(I.a)((function(e){return{closeButton:{float:"right",padding:"10px",cursor:"pointer"},title:{paddinLeft:"10px",paddingTop:"10px"},dialogHeader:{padding:"10px",borderBottom:"1px solid #E5E5EA"},checkForm:{padding:"10px"},checkbox:{float:"right"},label:{paddinLeft:"10px",paddingTop:"10px"}}})),uo=Object(i.c)((function(e){return{token:e.auth.token}}))((function(e){var t=mo(),a=e.open,o=e.onClose,c=e.days,i=Object(n.useState)({oneDayBefore:!1,twoDayBefore:!1,threeDayBefore:3!==c&&void 0}),l=Object(S.a)(i,2),s=l[0],d=l[1];Object(n.useEffect)((function(){if(null!==e.entityDate){var t=Object(N.a)({},s);e.entityDate["1_day_before"]&&(t.oneDayBefore=!0),e.entityDate["2_day_before"]&&(t.twoDayBefore=!0),e.entityDate["3_day_before"]&&void 0!==s.threeDayBefore&&(t.threeDayBefore=!0),d(Object(N.a)(Object(N.a)({},s),t))}}),[]);var u=function(){o(Object(N.a)({},s))},p=function(e){d(Object(N.a)(Object(N.a)({},s),{},Object(C.a)({},e.target.name,e.target.checked)))};return r.a.createElement(qe.a,{onClose:u,"aria-labelledby":"simple-dialog-title",open:a,className:t.dialog,fullWidth:!0,maxWidth:"xs"},r.a.createElement("div",{className:t.dialogHeader},r.a.createElement("img",{src:so.a,alt:"close",className:t.closeButton,onClick:u}),r.a.createElement(m.a,{className:"title",variant:"h6"},"Remind me")),r.a.createElement("div",{className:t.checkForm},r.a.createElement(io.a,{className:t.checkbox,checked:s.oneDayBefore,onChange:p,color:"primary",name:"oneDayBefore"}),r.a.createElement(m.a,{className:t.label},"1 day before"),r.a.createElement("br",null),r.a.createElement(io.a,{className:t.checkbox,checked:s.twoDayBefore,onChange:p,color:"primary",name:"twoDayBefore"}),r.a.createElement(m.a,{className:t.label},"2 day before"),r.a.createElement("br",null),void 0!==s.threeDayBefore?r.a.createElement(r.a.Fragment,null,r.a.createElement(io.a,{className:t.checkbox,checked:s.threeDayBefore,onChange:p,color:"primary",name:"threeDayBefore"}),r.a.createElement(m.a,{className:t.label},"3 day before")):""))})),po=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"fetchAnnouncements",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/news"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:{page:e.currentPage,current_role:e.selectedRole}})}},{key:"fetchAnnouncementDetail",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/news/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"createAnnouncement",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/news"),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchTeacherAnnouncement",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/news"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:{current_role:t,created_by:"true"}})}},{key:"createHomework",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/homework"),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchTeacherHomework",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homework"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:{created_by:!0,current_role:t}})}},{key:"fetchHomework",value:function(e,t){return console.log(t),console.log(typeof t),oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homework"),{params:{current_role:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchMoreHomework",value:function(e,t,a){return oa.a.get(t,{params:{current_role:a},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getTask",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/task"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getDoneTask",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/task"),{params:{status:"done"},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getMoreTask",value:function(e,t){return oa.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"createTask",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/task"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"updateTask",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/task/").concat(t),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"deleteTask",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/task/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"setReminder",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/reminder"),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"updateReminder",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/reminder/").concat(a),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchReminder",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/feed-reminder/").concat(t,"/").concat(a),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),go=function(e){var t=new Date,a=new Date(e);if(a>t){var n=a-t,r=Math.ceil(n/864e5);if(r>=3)return 3;if(r>=2)return 2}};ta.a.updateLocale("en",{week:{dow:1}});var fo=ta()(),bo={1:{day_sort:"M",day:"Monday"},2:{day_sort:"T",day:"Tuesday"},3:{day_sort:"W",day:"Wednesday"},4:{day_sort:"T",day:"Thursday"},5:{day_sort:"F",day:"Friday"},6:{day_sort:"S",day:"Saturday"},7:{day_sort:"S",day:"Sunday"}},ho=function(e){return ta()(e).format("YYYY-MM")},xo=ho(ta()()),Eo=["JAN","FEB","MAR","APR","MAY","JUNE","JULY","AUG","SEP","OCT","NOV","DEC"],vo=function(){return Eo[ho(ta()()).split("-")[1]-1]+"'"+ho(ta()()).split("-")[0].slice(2,4)},yo=function(e){var t=ta()(e).isoWeekday();return bo[t]||{}},jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo,t=ta()(e).daysInMonth();return Array.from({length:t},(function(t,a){return"".concat(e,"-").concat(a+1)}))},Oo=(jo(xo),ta()().startOf("week")),So=fo.startOf("month"),Co=function(e){return ta()(e).add(7,"days")},No=function(e){return ta()(e).add(-7,"days")},ko=function(e){return ta()(e).add(6,"days")},wo=function(e,t){for(var a,n=[],r=e;r<=t;){var o=ta()(r).format("YYYY-MM-DD"),c=yo(o),i=(a=o,ta()(a).format("DD"));n.push({date:o,day:Object(N.a)(Object(N.a)({},c),{},{date_day:i})}),r=ta()(r).add(1,"days")}return n},To=function(e){var t=ta()(e).endOf("week");return wo(e,t)},Ao=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo,t=jo(e),a=ta()(t[t.length-1]);return wo(ta()(t[0]),a)},_o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ta()(),a=ta()(e);return!(t>a)},Io=a(288),Bo=a.n(Io),Do=a(974),Ro=Object(I.a)((function(e){return{card:{width:"100%",margin:"auto",marginTop:"20px",borderRadius:"10px",boxShadow:"none"},reminder:{float:"right",padding:"2px"},cardContent:{padding:"0px 16px 0px 16px"},contentMargin:{marginTop:"16px"},cardHeader:{width:"100%"},cardActionStyle:{padding:"8px 16px 8px 16px",color:"#6C757D"},NewsHeader:Object(C.a)({padding:"8px 16px 8px 16px !important","& span":{cursor:"pointer","&:hover":{textDecoration:"underline"}}},e.breakpoints.down("sm"),{padding:"8px 16px 8px 16px !important","& span":{fontSize:"16px"}}),reminderIconStyle:{padding:"5px 0 5px 0",cursor:"pointer"},title:{cursor:"pointer","&:hover":{textDecoration:"underline"}},announcementText:{fontStyle:"normal"},announcementImg:{justifyContent:"center",textAlign:"center",paddingBottom:"10px",margin:"0","& img":{maxWidth:"100%",border:"1px solid ".concat(e.palette.common.deluge),borderRadius:"4px"}}}})),Lo=Object(i.c)((function(e){return{token:e.auth.token}}))((function(e){var t=Ro(),a=Object(s.g)(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(null),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!0),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(null),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(null),C=Object(S.a)(O,2),k=C[0],w=C[1];Object(n.useEffect)((function(){var t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,po.fetchReminder(e.token,"news",e.announcement.id);case 3:(a=t.sent).data.data&&(j(a.data.data.entity_date),w(a.data.data.id)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();e.announcement.event_date?go(e.announcement.event_date)||x(!1):x(!1);t()}),[]);var T=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r,o;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l(!1),t.prev=1,n={},!0===a.oneDayBefore&&(n["1_day_before"]=ea(e.announcement.event_date).subtract(1,"days").format("YYYY-MM-DD")),!0===a.twoDayBefore&&(n["2_day_before"]=ea(e.announcement.event_date).subtract(2,"days").format("YYYY-MM-DD")),!0===a.threeDayBefore&&(n["3_day_before"]=ea(e.announcement.event_date).subtract(3,"days").format("YYYY-MM-DD")),!y){t.next=13;break}return t.next=9,po.updateReminder({entity_id:e.announcement.id,entity_date:0===Object.keys(n).length?null:n,entity_type:"news"},e.token,k);case 9:200===(r=t.sent).status&&j(Object(N.a)({},r.data.data.entity_date)),t.next=18;break;case 13:if(0===Object.keys(n).length){t.next=18;break}return t.next=16,po.setReminder({entity_id:e.announcement.id,entity_date:n,entity_type:"news"},e.token);case 16:200===(o=t.sent).status&&(j(Object(N.a)({},n)),w(o.data.Reminder_id));case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:t.cardContainer},r.a.createElement(it.a,{className:t.card},r.a.createElement($a.a,{className:t.NewsHeader,action:r.a.createElement(r.a.Fragment,null,h?r.a.createElement("img",{className:t.reminderIconStyle,src:Bo.a,alt:"reminder",onClick:function(){var t=go(e.announcement.event_date);t&&(l(!0),g(t))}}):""),title:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.title,variant:"body1",onClick:function(){a.push("/news/".concat(e.announcement.id))}},e.announcement.title,e.announcement.event_date?" - "+ea(e.announcement.event_date).format("DD MMM YYYY"):""))}),r.a.createElement(lt.a,{className:t.cardContent},e.announcement.media_url&&r.a.createElement(en.a,{container:!0,direction:"row",className:"".concat(t.announcementImg," ").concat(t.contentMargin)},r.a.createElement("img",{src:e.announcement.media_url,alt:"Announcement"})),r.a.createElement(en.a,null,r.a.createElement(m.a,{className:t.announcementText,variant:"body2"},e.announcement.summary))),r.a.createElement(Do.a,{className:t.cardActionStyle},r.a.createElement(m.a,{className:t.createdDate,variant:"body2"},"Published Date: ".concat(ea(e.announcement.published_date).format("DD MMM YYYY")))))),i?r.a.createElement(uo,{open:i,onClose:T,days:p,id:e.announcement.id,eventDate:e.announcement.event_date,entityDate:y}):"")})),Fo=Object(I.a)((function(e){return{loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},cardBoxPadding:Object(C.a)({padding:"0px 24px 24px 24px"},e.breakpoints.down("sm"),{padding:"16px"}),emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),Mo=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Fo(),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!0),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!0),x=Object(S.a)(h,2),E=x[0],v=x[1];Object(n.useEffect)((function(){var t=!0;return function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n,r,o;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=localStorage.getItem("srmToken"),r=e.selectedRole,a.next=5,po.fetchAnnouncements({selectedRole:r,currentPage:f},n);case 5:o=a.sent,v(!1),200===o.status&&(o.data.data.current_page===o.data.data.last_page?t&&(i([].concat(Object(Na.a)(c),Object(Na.a)(o.data.data.data))),u(!1)):t&&(i([].concat(Object(Na.a)(c),Object(Na.a)(o.data.data.data))),b(f+1))),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),v(!1);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!1}}),[]);var y=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),n=e.selectedRole,t.next=5,po.fetchAnnouncements({selectedRole:n,currentPage:f},a);case 5:200===(r=t.sent).status&&(r.data.data.current_page!==r.data.data.last_page?(i([].concat(Object(Na.a)(c),Object(Na.a)(r.data.data.data))),b(f+1)):(i([].concat(Object(Na.a)(c),Object(Na.a)(r.data.data.data))),u(!1))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),j=c.map((function(e,t){return r.a.createElement(Lo,{key:t,announcement:e})}));return r.a.createElement(co.a,{dataLength:c.length,next:y,hasMore:d,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.2},j,E?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):null,E||c.length?null:r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"You don't have any Announcement.")))})),Po=Object(I.a)((function(e){var t;return t={card:{width:"100%",margin:"auto",marginTop:"20px",borderRadius:0,boxShadow:"none"},reminder:{width:"100%",textAlign:"right",cursor:"pointer"},NewsHeader:Object(C.a)({padding:"8px 16px 8px 16px !important","& span":{cursor:"pointer"}},e.breakpoints.down("sm"),{padding:"8px 16px 8px 16px !important","& span":{fontSize:"16px"}}),cardContent:{padding:"0px 16px 0px 16px",overflow:"auto"},contentMargin:{marginTop:"16px"},announcementText:{fontStyle:"normal",fontSize:"14px"},announcementImg:{justifyContent:"center",textAlign:"center","& img":{maxWidth:"100%",border:"1px solid ".concat(e.palette.common.deluge),borderRadius:"4px"}},statusText:Object(C.a)({fontStyle:"normal",textTransform:"uppercase",paddingTop:"10px"},e.breakpoints.down("xs"),{fontSize:"13px"}),cardActionStyle:{padding:"8px 16px 8px 16px",color:"#6C757D"},contentCenter:Object(C.a)({textAlign:"right",height:"50%","& img":Object(C.a)({marginTop:"25px",width:"25px",cursor:"pointer"},e.breakpoints.down("xs"),{marginTop:"10px"})},e.breakpoints.down("xs"),{textAlign:"right"}),createdDate:{padding:"5px 0 5px 0"},editBtnGrid:{textAlign:"right"},deleteIcon:{marginLeft:"10px"},editBtn:{marginLeft:"auto",cursor:"pointer"},cardHeader:{padding:"20px 20px 10px"},labelText:{fontSize:"18px",fontStyle:"normal",color:"#8E8E93"},editBtnDiv:{marginLeft:"auto",transform:"translateY(4px)"}},Object(C.a)(t,"editBtn",{width:"19px",height:"19px",paddingLeft:"10px",transform:"translateY(4px)",cursor:"pointer"}),Object(C.a)(t,"normalText",{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1}),Object(C.a)(t,"cardContent",{padding:"20px 20px 12px !important"}),Object(C.a)(t,"textAlignRight",{textAlign:"right"}),Object(C.a)(t,"imgGrid",{position:"relative"}),Object(C.a)(t,"imgDiv",{bottom:0,right:0,position:"absolute",margin:"16px 0"}),Object(C.a)(t,"margin",{margin:"16px 0"}),t})),zo=function(e){var t=Po(),a=(e.id,e.title),n=e.due_date,o=e.content;return r.a.createElement(r.a.Fragment,null,r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:t.cardContainer},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,md:8},r.a.createElement("span",null,a?r.a.createElement(m.a,{className:t.highlightedText},a):r.a.createElement(m.a,{className:t.highlightedText},"N/A"))),r.a.createElement(en.a,{item:!0,md:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight," ").concat(t.highlightedText)},"Due date - ",ea(n).format("DD/MM/YY hh:mm A")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement(m.a,{className:t.labelText},o?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}):r.a.createElement(m.a,{className:t.margin},"N/A"))))))))},Uo=Object(I.a)((function(e){return{loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),Yo=Object(i.c)((function(e){return{token:e.auth.token,selectedRole:e.auth.selectedRole}}))((function(e){var t=Uo(),a=Object(n.useState)(!0),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)([]),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!0),x=Object(S.a)(h,2),E=x[0],v=x[1];Object(n.useEffect)((function(){var t=!0;return function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n,r,o,c,l;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n=String(JSON.parse(localStorage.getItem("srmSelectedRole"))),r=String("parent"),String(n)!==String(r)){a.next=11;break}return console.log("true"),o=localStorage.getItem("srmSelected_Child_token"),a.next=8,po.fetchHomework(o,e.selectedRole);case 8:c=a.sent,a.next=16;break;case 11:return console.log("false"),l=localStorage.getItem("srmToken"),a.next=15,po.fetchHomework(l,e.selectedRole);case 15:c=a.sent;case 16:t&&(console.log(c.data.data.data),u(c.data.data.data),null===c.data.data.next_page_url?i(!1):b(c.data.data.next_page_url),v(!1),console.log(c.data)),a.next=22;break;case 19:a.prev=19,a.t0=a.catch(0),console.log("Error: ",a.t0);case 22:case"end":return a.stop()}}),a,null,[[0,19]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!1}}),[]);return r.a.createElement(co.a,{dataLength:d.length,next:function(){(function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r,o;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=String(JSON.parse(localStorage.getItem("srmSelectedRole"))),"parent",String(a)===String("parent")?localStorage.getItem("srmSelected_Child_token"):n=localStorage.getItem("srmToken"),!c){t.next=11;break}return t.next=6,po.fetchMoreHomework(n,f,e.selectedRole);case 6:r=t.sent,console.log("Fetch More",r.data.data.data),u([].concat(Object(Na.a)(d),Object(Na.a)(r.data.data.data))),o=r.data.data.last_page_url,f===o?i(!1):(i(!0),b(r.data.data.next_page_url));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},hasMore:c,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.2},d.map((function(e,t){return r.a.createElement(zo,{key:t,id:e.id,title:e.title,due_date:e.submission_date,content:e.main_content})})),E?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):null,E||d.length?null:r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"You don't have homework.")))}));var Ho=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflow:"auto","&::-webkit-scrollbar":{width:0}},tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}}}}));function Wo(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,{p:3},t))}function Go(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Vo=function(e){var t=Ho(),a=Object(n.useState)(0),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useRef)(null);return r.a.createElement("div",{className:t.container,ref:l,id:"scrollable"},r.a.createElement(T.a,{position:"sticky",className:t.tabBar},r.a.createElement(ro.a,{centered:!0,value:c,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",className:t.tabs},r.a.createElement(oo.a,Object.assign({label:_t.EVENTS_ANNOUNCEMENTS},Go(0),{className:"".concat(t.eventsTab," ").concat(t.borderRight)})),r.a.createElement(oo.a,Object.assign({label:_t.HOMEWORK},Go(1),{className:t.eventsTab})))),r.a.createElement(Wo,{value:c,index:0},r.a.createElement(Mo,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Wo,{value:c,index:1},r.a.createElement(Yo,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))},Ko=a(521),qo=a.n(Ko),Jo=a(204),Qo=a.n(Jo),Xo=a(578);function Zo(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var $o=Object(I.a)((function(e){return{CardContent:{padding:"10px 0 0 0 !important",margin:"0",height:"100%"},taskCard:{borderRadius:"10px",height:"100%"},menuBar:{display:"flex"},menuItems:{textAlign:"center"},menuBtn:{width:"100px"},removeBtn:{backgroundColor:"red",color:"white",border:"1px solid red","&:hover":{backgroundColor:"white",border:" 1px solid red",color:"red"}},textAreaGrid:{width:"100%"},textArea:{width:"90%",height:"100%",margin:"auto"},footer:{marginTop:"5px",paddingRight:"20px",textAlign:"right"},textTask:{marginTop:"5px"}}})),ec=function(e){var t=$o(),a=e.taskId,o=e.content,c=e.status,i=e.closeEditor,l=e.createNew,s=(Object(na.a)(e,["taskId","content","status","closeEditor","createNew"]),Object(n.useState)("")),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)(!1),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)("Add a task"),E=Object(S.a)(x,2),v=E[0],y=E[1];function j(){return(j=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("srmToken"),e.next=3,po.createTask(t,{content:u});case 3:e.sent,i();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("srmToken"),e.next=3,po.updateTask(t,a,{content:u,status:c});case 3:e.sent,i();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("srmToken"),e.next=3,po.deleteTask(t,a);case 3:e.sent,i();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e,t){"clickaway"!==t&&h(!1)};return Object(n.useEffect)((function(){l||(y("Edit a task"),p(o))}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{className:t.taskCard},r.a.createElement(lt.a,{className:t.CardContent},r.a.createElement(en.a,{className:t.menuBar},r.a.createElement(en.a,{item:!0,xs:4,className:t.menuItems},l?r.a.createElement(z.a,{variant:"outlined",onClick:i,color:"primary",disableElevation:!0,className:t.menuBtn},"Discard"):r.a.createElement(z.a,{variant:"outlined",onClick:function(e){!function(){C.apply(this,arguments)}()},color:"primary",disableElevation:!0,className:t.menuBtn},"Delete")),r.a.createElement(en.a,{item:!0,xs:4,className:"".concat(t.menuItems," ").concat(t.textTask)},r.a.createElement(m.a,{className:t.title},"Task Editor")),r.a.createElement(en.a,{item:!0,xs:4,className:t.menuItems},r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(e){u.length<300?l?function(){j.apply(this,arguments)}():function(){O.apply(this,arguments)}():h(!0)},disableElevation:!0,className:t.menuBtn},"Save"))),r.a.createElement("hr",null),r.a.createElement(en.a,{container:!0,className:t.textAreaGrid},r.a.createElement(Xo.a,{id:"outlined-multiline-static",label:v,className:t.textArea,multiline:!0,rows:13,value:u,onPaste:function(e){},onChange:function(e){p(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:t.footer},r.a.createElement(m.a,null,"Character: ",u.length,"/300")))),r.a.createElement(ae.a,{open:b,autoHideDuration:6e3,onClose:N},r.a.createElement(Zo,{onClose:N,severity:"error"},"Maximum 300 characters allowed")))},tc=a(518),ac=a.n(tc),nc=a(519),rc=a.n(nc),oc=a(520),cc=a.n(oc),ic=Object(I.a)((function(e){var t;return t={taskDiv:{height:"100%",display:"table",width:"100%"},title:{textTransform:"uppercase",fontWeight:800,letterSpacing:"1px",color:"".concat(e.palette.common.bastille)},taskIcon:{transform:"translateY(5px)"},flag:{cursor:"pointer",width:"14px"},taskheader:{width:"100%",display:"table-row",height:"30px"},tasks:{width:"100%",height:"100%",display:"table-row",boxShadow:"none"},addTaskIcon:{float:"right",cursor:"pointer",bottom:0},taskCard:{borderRadius:"10px",boxShadow:"none",height:"365px"}},Object(C.a)(t,"taskCard",Object(C.a)({borderRadius:"10px",boxShadow:"none",margin:"0 10px 0 10px",height:"365px"},e.breakpoints.down("xs"),{margin:"10px 0 0 0"})),Object(C.a)(t,"clickCard",{cursor:"pointer",padding:"0 !important",margin:0,width:"100%",height:"100%"}),Object(C.a)(t,"clickHere",{width:"100%",transform:"translateY(160px)",textAlign:"center"}),Object(C.a)(t,"clickContent",{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E"}),Object(C.a)(t,"cardTitle",{fontWeight:500,marginTop:"10px",textAlign:"center"}),Object(C.a)(t,"pendingTasks",{marginLeft:"auto"}),Object(C.a)(t,"doneTask",{marginRight:"auto"}),Object(C.a)(t,"CardContent",{borderTop:"1px solid rgba(0,0,0,0.2)",margin:"0 0 10px !important",paddingTop:0,height:"280px",overflow:"auto","&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",outline:"none",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"".concat(e.palette.primary.main),borderRadius:"5px"},"& .taskContentDiv":{marginTop:"10px"}}),Object(C.a)(t,"taskContentStyle",{display:"flex"}),Object(C.a)(t,"taskContDiv",{marginLeft:"20px",cursor:"pointer"}),Object(C.a)(t,"card",{margin:0}),Object(C.a)(t,"pendingTask",{marginLeft:0}),Object(C.a)(t,"doneTask",{marginRight:0}),Object(C.a)(t,"loading",{paddingLeft:"50%",paddingTop:"120px"}),t})),lc=function(e){var t=ic(),a=Object(n.useState)(!0),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!0),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=(g[0],g[1]),b=Object(n.useState)([]),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)([]),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(""),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(""),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)(!0),D=Object(S.a)(B,2),R=D[0],L=D[1],F=Object(n.useState)(!1),M=Object(S.a)(F,2),P=M[0],z=M[1],U=Object(n.useState)(!1),Y=Object(S.a)(U,2),H=Y[0],W=Y[1],G=Object(n.useState)(!1),V=Object(S.a)(G,2),K=V[0],q=V[1],J=Object(n.useState)(!1),Q=Object(S.a)(J,2),X=Q[0],Z=Q[1],$={done:["line-through","#C0C0C3"],pending:["none","black"],"on-going":["none","black"]},ee=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("srmToken"),e.next=3,po.getDoneTask(t);case 3:a=e.sent,O(a.data.data.data),q(!1),Z(!1),n=a.data.data.next_page_url,u(null!==n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("srmToken"),e.next=3,po.getTask(t);case 3:a=e.sent,E(a.data.data.data),q(!1),n=a.data.data.next_page_url,i(null!==n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ae(e,t,a){return ne.apply(this,arguments)}function ne(){return(ne=Object(Ca.a)(Sa.a.mark((function e(t,a,n){var r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("srmToken"),e.next=3,po.updateTask(r,t,{content:a,status:n});case 3:e.sent,te(),ee(),re();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,po.getDoneTask(a);case 4:n=t.sent,e&&(0===n.data.data.data.length&&W(!0),O(n.data.data.data),r=n.data.data.next_page_url,u(null!==r),L(!1),I(n.data.data.next_page_url)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,po.getTask(a);case 4:n=t.sent,e&&(0===n.data.data.data.length&&z(!0),E(n.data.data.data),r=n.data.data.next_page_url,i(null!==r),L(!1),w(n.data.data.next_page_url)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),t(),function(){e=!1}}),[]);var re=function(){f(!1)},oe=function(e,t,a,n){"pending"===t&&(q(!0),ae(a,n,"on-going")),"on-going"===t&&(q(!0),Z(!0),ae(a,n,"done")),"done"===t&&(q(!0),Z(!0),ae(a,n,"pending"))},ce=function(e,a,n){return"pending"===e?r.a.createElement("img",{src:ac.a,alt:"Pending task",className:t.flag,onClick:function(t){oe(0,e,a,n)}}):"on-going"===e?r.a.createElement("img",{src:rc.a,alt:"Pending task",className:t.flag,onClick:function(t){oe(0,e,a,n)}}):r.a.createElement("img",{src:cc.a,alt:"Pending task",className:t.flag,onClick:function(t){oe(0,e,a,n)}})};return r.a.createElement(r.a.Fragment,null,P&&H?r.a.createElement(it.a,{className:"".concat(t.taskCard," ").concat(t.card)},r.a.createElement(lt.a,{className:t.clickCard,onClick:function(t){e.handleCreateNew()}},r.a.createElement(mr.a,{className:t.clickHere},r.a.createElement(m.a,{color:"primary",variant:"body1",className:t.clickContent},"Create your first task by clicking here")))):r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,md:6},r.a.createElement(it.a,{className:"".concat(t.taskCard," ").concat(t.pendingTask)},r.a.createElement(m.a,{className:t.cardTitle,variant:"body1"},"Done Tasks"),r.a.createElement(lt.a,{className:t.CardContent,id:"scrollable"},X?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,null)),r.a.createElement("br",null)):r.a.createElement(co.a,{dataLength:j.length,next:function(){(function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("srmToken"),e.next=3,po.getMoreTask(t,_);case 3:a=e.sent,a.data.data.data,O([].concat(Object(Na.a)(x),Object(Na.a)(a.data.data.data))),L(!1),null===a.data.data.next_page_url&&u(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},hasMore:d,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,null)),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},!1===R?j.map((function(a){return r.a.createElement(mr.a,{key:a.id,className:"taskContentDiv"},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12,className:t.taskContentStyle},r.a.createElement("div",null,r.a.createElement("span",null,ce(a.status,a.id,a.content))),r.a.createElement("div",{className:t.taskContDiv},r.a.createElement(m.a,{variant:"body2"},r.a.createElement("span",{className:t.taskContent,onClick:function(t){e.handleEditTask(a.id,a.content,a.status)},style:{textDecoration:$[a.status][0],textDecorationColor:"#C0C0C3",color:$[a.status][1]}},a.content))),0===j.length&&!1===d?r.a.createElement(m.a,{variant:"body1"},"No task available"):"")))})):"",R?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):null,R||j.length?null:r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"Don't have any Task."))),r.a.createElement("br",null),r.a.createElement("br",null)))),r.a.createElement(en.a,{item:!0,md:6},r.a.createElement(it.a,{className:"".concat(t.taskCard," ").concat(t.doneTask)},r.a.createElement(m.a,{className:t.cardTitle,variant:"body1"},"Pending Tasks"),r.a.createElement(lt.a,{className:t.CardContent,id:"secondScrollable"},K?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,null)),r.a.createElement("br",null)):r.a.createElement(co.a,{dataLength:x.length,next:function(){(function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("srmToken"),e.next=3,po.getMoreTask(t,k);case 3:a=e.sent,a.data.data.data,E([].concat(Object(Na.a)(x),Object(Na.a)(a.data.data.data))),L(!1),null===a.data.data.next_page_url&&i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},hasMore:c,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,null)),r.a.createElement("br",null)),scrollableTarget:"secondScrollable",scrollThreshold:.5},!1===R?x.map((function(a){return r.a.createElement(mr.a,{key:a.id,className:"taskContentDiv"},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12,className:t.taskContentStyle},r.a.createElement("div",null,r.a.createElement("span",null,ce(a.status,a.id,a.content))),r.a.createElement("div",{className:t.taskContDiv},r.a.createElement(m.a,{variant:"body2"},r.a.createElement("span",{className:t.taskContent,onClick:function(t){e.handleEditTask(a.id,a.content,a.status)},style:{textDecoration:$[a.status][0],textDecorationColor:"#C0C0C3",color:$[a.status][1]}},a.content))),0===x.length&&!1===c?r.a.createElement(m.a,{variant:"body1"},"No task available"):"")))})):"",R?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):null,R||x.length?null:r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"Don't have any Task."))),r.a.createElement("br",null),r.a.createElement("br",null))))))},sc=Object(I.a)((function(e){return{taskDiv:{height:"100%",display:"table",width:"100%"},title:{textTransform:"uppercase",fontWeight:800,letterSpacing:"1px",color:"".concat(e.palette.common.bastille)},taskIcon:{transform:"translateY(5px)"},taskheader:{width:"100%",display:"table-row",height:"35px"},tasks:{width:"100%",height:"100%",display:"table-row"},addTaskIcon:{float:"right",cursor:"pointer",bottom:0},taskCard:{borderRadius:"10px",height:"100%"},loading:{textAlign:"center",justifyContent:"center",margin:"auto"},CardContent:{padding:"0 0 0 10px !important",margin:"10px 0 0 0",height:"345px",overflow:"auto","&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",outline:"none",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"".concat(e.palette.primary.main),borderRadius:"5px"},"& .taskContentDiv":{marginTop:"10px"}},taskContentStyle:{cursor:"pointer"},titleName:{}}})),dc=function(){var e=sc(),t=Object(n.useState)(!1),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(S.a)(i,2),s=l[0],d=l[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)("pending"),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(null),y=Object(S.a)(v,2),j=y[0],O=y[1],C=function(e){f(""),O(null),E("pending"),d(!0),c(!0)};return r.a.createElement("div",{className:e.taskDiv},r.a.createElement("div",{className:e.taskheader},r.a.createElement(m.a,{className:e.title},r.a.createElement("img",{src:Qo.a,alt:"Task Icon",className:e.taskIcon}),r.a.createElement("span",{className:e.titleName},"\xa0",_t.TASKS),o?r.a.createElement(qo.a,{color:"primary",className:e.addTaskIcon,onClick:function(e){c(!1)}}):r.a.createElement(At.a,{color:"primary",className:e.addTaskIcon,onClick:C}))),r.a.createElement("div",{className:e.tasks},o?r.a.createElement(ec,{taskId:j,content:g,status:x,closeEditor:function(){c(!1)},createNew:s}):r.a.createElement(lc,{handleEditTask:function(e,t,a){O(e),f(t),E(a),d(!1),c(!0)},handleCreateNew:C,openEditor:o})))},mc=function(e){return ea(e).format("DD/MM/YY hh:mm A")},uc=Object(I.a)((function(e){return{homeworkDiv:{height:"100%",display:"table",width:"100%"},title:{textTransform:"uppercase",fontWeight:800,letterSpacing:"1px",color:"".concat(e.palette.common.bastille)},homeworkIcon:{transform:"translateY(5px)"},homeworkheader:{width:"100%",display:"table-row",height:"30px"},homeworks:{width:"100%",height:"100%",display:"table-row",marginTop:"10px"},homeworkTitle:{wordBreak:"break-all",textAlign:"justify"},cardContentStyle:{cursor:"pointer",padding:"8px"},addhomeworkIcon:{float:"right",cursor:"pointer",bottom:0},homeworkCard:Object(C.a)({borderRadius:"10px",height:"100px",overflow:"none",boxShadow:"none",overflowY:"auto","&::-webkit-scrollbar":{width:"0"},backgroundColor:"#F7DDCC","& .0":{color:"red",backgroundColor:"#F7DDCC"}},e.breakpoints.down("sm"),{marginTop:"10px"}),loading:{textAlign:"center",justifyContent:"center",margin:"auto",marginTop:"20px"},1:{color:"red",backgroundColor:"#F8E7C1 !important"},2:{backgroundColor:"#D4DbD8"},CardContent:{padding:"0 0 0 10px !important",margin:"10px 0 0 0",overflow:"auto","&::-webkit-scrollbar":{width:"0"}},homeworkContentStyle:{cursor:"pointer"},homeworkCardView:{maxWidth:"29.5%"},homeworksView:{display:"flex",width:"100%"},AlignText:{textAlign:"center",marginTop:"2.5%"}}})),pc=Object(i.c)((function(e){return{token:e.auth.token,selectedRole:e.auth.selectedRole}}))((function(e){var t=uc(),a=Object(s.g)(),o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(S.a)(d,2),p=(u[0],u[1]),g=Object(n.useState)(!0),f=Object(S.a)(g,2),b=f[0],h=f[1],x=["#F7DDCC","#F8E7C1","#D4DbD8"],E=["0 auto 0 0","0 0 0 10%","0 0 0 10%"];Object(n.useEffect)((function(){var t=!0;return function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n,r;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=localStorage.getItem("srmToken"),a.next=4,po.fetchTeacherHomework(n,e.selectedRole);case 4:r=a.sent,h(!1),200===r.status&&(!1,0===r.data.data.data.length&&p(!0),t&&(l(r.data.data.data),!0)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),h(!1),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!1}}),[]);var v=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,po.createHomework(t);case 4:n=e.sent,a.push("/create-homework/".concat(n.data.homework_id)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t.homeworkDiv},r.a.createElement("div",{className:t.homeworkheader},r.a.createElement(m.a,{className:t.title,variant:"body1"},r.a.createElement("img",{src:Qo.a,alt:"homework Icon",className:t.homeworkIcon}),r.a.createElement("span",{className:t.titleName},"\xa0",_t.HOMEWORKS),r.a.createElement(At.a,{color:"primary",className:t.addhomeworkIcon,onClick:v}))),r.a.createElement("div",{className:t.homeworks},r.a.createElement(en.a,{container:!0},b||i.length?"":r.a.createElement(en.a,{item:!0,sm:12,className:t.homeworkCardGrid},r.a.createElement(it.a,{className:"".concat(t.homeworkCard," ").concat(t.AlignContent),onClick:v},r.a.createElement(lt.a,{className:"".concat(t.cardContentStyle," ").concat(t.AlignContent)},r.a.createElement(m.a,{className:"".concat(t.cardTitle," ").concat(t.AlignText),variant:"body1"},"Click here to create homework")))),b?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):null,r.a.createElement("div",{className:t.homeworksView},i.map((function(e,n){if(n<3)return r.a.createElement(en.a,{item:!0,sm:4,xs:12,key:n,className:t.homeworkCardGrid},r.a.createElement(it.a,{className:"".concat(t.homeworkCard," ").concat(n),style:{backgroundColor:x[n],margin:E[n]},onClick:function(e){a.push("/assignment")}},r.a.createElement(lt.a,{className:t.cardContentStyle},e.title||e.subject?r.a.createElement(m.a,{variant:"body1",className:t.homeworkTitle},e.title?(o=e.title).length>35?o.slice(0,30)+"...":o:null," ",e.title&&e.subject?"-":null," ",e.subject?e.subject.name:null):r.a.createElement(m.a,{variant:"body1"},"N/A")),r.a.createElement(Do.a,null,r.a.createElement(m.a,{variant:"body2"},"Due: ",e.submission_date?"".concat(mc(e.submission_date)):"N/A"))));var o}))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))})),gc=Object(I.a)((function(e){return{homeworkDiv:{height:"100%",display:"table",width:"100%"},title:{textTransform:"uppercase",fontWeight:800,letterSpacing:"1px",color:"".concat(e.palette.common.bastille)},homeworkIcon:{transform:"translateY(5px)"},homeworkheader:{width:"100%",display:"table-row",height:"35px"},homeworks:{width:"100%",height:"100%",display:"table-row",marginTop:"10px"},cardContentStyle:{padding:"8px"},addhomeworkIcon:{float:"right",cursor:"pointer",bottom:0},cardTitle:{fontWeight:600},homeworkCard:{borderRadius:"10px",minHeight:"100%",boxShadow:"none","& .0":{color:"red",backgroundColor:"#F7DDCC"}},1:{color:"red",backgroundColor:"#F8E7C1 !important"},2:{backgroundColor:"#D4DbD8"},CardContent:{padding:"0 0 0 10px !important",margin:"10px 0 0 0",height:"345px",overflow:"auto","&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",outline:"none",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"".concat(e.palette.primary.main),borderRadius:"5px"},"& .homeworkContentDiv":{marginTop:"10px"}},viewAnnouncement:{cursor:"pointer"},homeworkContentStyle:{cursor:"pointer"},announcementCard:{boxShadow:"none"},loading:{width:"100%",textAlign:"center",padding:"50px 0px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",padding:"50px 0px",fontSize:"20px"}}})),fc=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=gc(),a=Object(s.g)(),o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!0),u=Object(S.a)(d,2),p=u[0],g=u[1];Object(n.useEffect)((function(){var t=!0;return function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n,r;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=localStorage.getItem("srmToken"),a.next=4,po.fetchTeacherAnnouncement(n,e.selectedRole);case 4:r=a.sent,g(!1),200===r.status&&t&&l(r.data.data.data),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),g(!1),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!1}}),[]);var f=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,po.createAnnouncement(t);case 4:n=e.sent,a.push("/create-announcement/".concat(n.data.news_id)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.homeworkDiv},r.a.createElement("div",{className:t.homeworkheader},r.a.createElement(m.a,{className:t.title,variant:"body1"},r.a.createElement("img",{src:Qo.a,alt:"Announcements Icon",className:t.homeworkIcon}),r.a.createElement("span",{className:t.titleName},"\xa0",_t.ANNOUNCEMENTS),r.a.createElement(At.a,{color:"primary",className:t.addhomeworkIcon,onClick:f}))),r.a.createElement("div",{className:t.homeworks},r.a.createElement(it.a,{className:t.announcementCard},r.a.createElement(lt.a,null,i.map((function(e,n){if(n<3)return r.a.createElement("div",{key:n},r.a.createElement("div",{className:t.viewAnnouncement,onClick:function(t){return n=e.id,void a.push("/news/".concat(n));var n}},r.a.createElement(m.a,{variant:"body1"},e.title?e.title:"N/A"),r.a.createElement(m.a,{variant:"body2"},e.summary?e.summary:"N/A")),n===i.length-1?"":r.a.createElement("hr",null))})),p?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):null,p||i.length?null:r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"You don't have any announcement."))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))})),bc=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",display:"flex",flexDirection:"column"},content:{flexGrow:"1",display:"flex",flexDirection:"column",minHeight:"0",padding:"0 20px 20px 20px"},panel:{flexGrow:"1",overflow:"auto",minHeight:"100%",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},marginTop:{marginTop:"20px"},topPanelRow:{marginTop:"20px"},panelCol:{width:"100%"},taskCol:{height:"400px"},homeworkCol:Object(C.a)({height:"130px"},e.breakpoints.down("xs"),{height:"inherit"})}})),hc=function(e){var t=bc();return r.a.createElement("div",{className:t.container},r.a.createElement(en.a,{container:!0,className:t.content},r.a.createElement(en.a,{item:!0,sm:12,className:t.panel},r.a.createElement(en.a,{container:!0,className:t.topPanelRow},r.a.createElement(en.a,{item:!0,xs:12,className:"".concat(t.panelCol," ").concat(t.taskCol)},r.a.createElement(dc,null)),r.a.createElement(en.a,{item:!0,xs:12,className:"".concat(t.panelCol," ").concat(t.marginTop," ").concat(t.homeworkCol)},r.a.createElement(pc,null)),r.a.createElement(en.a,{item:!0,xs:12,className:"".concat(t.panelCol," ").concat(t.marginTop)},r.a.createElement(fc,null))))))},xc=Object(I.a)((function(e){return{homeRoot:{height:"100%"}}})),Ec=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=xc(),a=e.selectedRole;return r.a.createElement("div",{className:t.homeRoot},"teacher"===a||"admin"===a?r.a.createElement(hc,null):r.a.createElement(Vo,null))})),vc=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"createNotification",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/notifications"),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"saveNotification",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/notifications/").concat(e),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}},{key:"deleteNotification",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/notifications/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchNotification",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/notifications"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:t})}},{key:"fetchNotificationDetails",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/notifications/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchDraftNotification",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/notifications/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchNotificationCount",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/getNotificationCount"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:t})}},{key:"updateStatus",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/notificationStatusUsers/").concat(e),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}},{key:"searchUser",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/getUserLists"),{params:{username:e},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}}]),e}()),yc=a(168),jc=a.n(yc),Oc=a(205),Sc=a.n(Oc),Cc=Object(dt.a)((function(e){var t;return{card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",marginTop:"10px",marginBottom:"10px"},cardHeader:{padding:"15px 20px 0 20px"},iconButtonRoot:{padding:"8px"},titleIconSpan:{marginRight:"8px"},titleIcon:{transform:"translateY(3px)"},cardTitle:{fontSize:"16px",fontStyle:"normal",fontWeight:500,cursor:"pointer","&:hover":{textDecoration:"underline"}},cardActions:{padding:"0 20px 20px 20px"},cardContent:{padding:"5px 20px 20px 20px","&:last-child":{paddingBottom:"20px"}},menuItem:{paddingLeft:"10px",paddingRight:"10px",colour:"#1C1C1E"},borderBottomDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"},borderBottomLastDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px"},menuTopItemMargin:{marginTop:"5px"},menuItemRoot:{padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),menuList:{width:"100% !important",padding:0},contentStyle:{color:"".concat(e.palette.common.lightFont),fontSize:"14px",fontStyle:"normal",wordBreak:"break-word"},readClass:{position:"relative","& img":{position:"absolute",right:"0px",bottom:"0px"}},payBtn:{width:"113px",height:"36px"}}})),Nc=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token,notificationCount:e.notification.notificationCount}}),(function(e){return{addNotificationCount:function(){return e({type:"ADD_NOTIFICATION_COUNT"})},subNotificationCount:function(){return e({type:"SUB_NOTIFICATION_COUNT"})}}}))((function(e){var t=Cc(),a=Object(B.a)(),o=Object(s.g)(),c=Object(n.useState)(null),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(e.notification.status),p=Object(S.a)(u,2),g=p[0],f=p[1],b=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.currentTarget.getAttribute("value"),d(null),null===n){t.next=14;break}return t.prev=3,r=localStorage.getItem("srmToken"),t.next=7,vc.updateStatus(e.notification.notify_status_id,{status:n,notifications_id:e.notification.id},r);case 7:200===t.sent.status&&("read"===n&&"read"!==g?(0!==e.notificationCount&&e.subNotificationCount(),f("read")):"unread"===n&&"unread"!==g?(e.addNotificationCount(),f("unread")):"deleted"===n&&"deleted"!==g?(0!==e.notificationCount&&"unread"===e.notification.status&&e.subNotificationCount(),e.handleRemoveNotifcation(e.notification.id),f("deleted")):"archive"===n&&"archive"!==g?(0!==e.notificationCount&&e.subNotificationCount(),e.handleRemoveNotifcation(e.notification.id),f("archive")):console.log(),e.changestatus_handeler("",!0)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"unread"!==e.notification.status){t.next=6;break}return a=localStorage.getItem("srmToken"),t.next=5,vc.updateStatus(e.notification.notify_status_id,{status:"read",notifications_id:e.notification.id},a);case 5:t.sent;case 6:0!==e.notificationCount&&"unread"===e.notification.status&&e.subNotificationCount(),o.push("".concat(ln,"/").concat(e.notification.id)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(it.a,{className:t.card},r.a.createElement($a.a,{className:t.cardHeader,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},classes:{root:t.iconButtonRoot}},r.a.createElement(Hn.a,null)),r.a.createElement(F.a,{id:"long-menu",anchorEl:l,classes:{paper:t.menuContainer,list:t.menuList},elevation:0,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(l),onClose:b},r.a.createElement(M.a,{onClick:b,classes:{root:t.menuItemRoot},disableGutters:!0,className:"".concat(t.menuItem," ").concat(t.menuTopItemMargin," "),value:"archive"},r.a.createElement("div",{className:t.borderBottomDiv},r.a.createElement(m.a,{variant:"body2"},"Archive"))),r.a.createElement(M.a,{onClick:b,disableGutters:!0,classes:{root:t.menuItemRoot},className:t.menuItem,value:"deleted"},r.a.createElement("div",{className:t.borderBottomDiv},r.a.createElement(m.a,{variant:"body2"},"Delete"))),r.a.createElement(M.a,{onClick:b,disableGutters:!0,classes:{root:t.menuItemRoot},className:t.menuItem,value:"read"},r.a.createElement("div",{className:t.borderBottomDiv},r.a.createElement(m.a,{variant:"body2"},"Mark As Read"))),r.a.createElement(M.a,{onClick:b,disableGutters:!0,classes:{root:t.menuItemRoot},className:t.menuItem,value:"unread"},r.a.createElement("div",{className:t.borderBottomLastDiv},r.a.createElement(m.a,{variant:"body2"}," Mark As Unread"))))),title:r.a.createElement(r.a.Fragment,null,"read"===g||"archived"===g?r.a.createElement(m.a,{className:t.cardTitle,style:{color:a.palette.common.lightFont},onClick:h},e.notification.data.title):r.a.createElement(m.a,{className:t.cardTitle,onClick:h},e.notification.data.title))}),r.a.createElement(lt.a,{classes:{root:t.cardContent}},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:11},r.a.createElement(m.a,{className:t.contentStyle},e.notification.data.summary)),r.a.createElement(en.a,{item:!0,xs:1,className:t.readClass},"unread"===g?r.a.createElement("img",{src:Sc.a,alt:"unread"}):"read"===g?r.a.createElement("img",{src:jc.a,alt:"read"}):""))))})),kc=Object(I.a)((function(e){return{infiniteContainer:{display:"grid"},datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{height:"100%",width:"100%",overflow:"auto",padding:"20px",boxSizing:"border-box"},header:{paddingRight:"15px",paddingLeft:"15px",paddingTop:"10px",textAlign:"right"},filterHeader:{width:"100%",paddingBottom:"10px"},selectFiler:{color:"".concat(e.palette.common.adornment),fontSize:"15px","&:before":{borderColor:"".concat(e.palette.common.adornment)},"& .MuiInputBase-input":{paddingBottom:"3px"}},formControl:{width:"110px",whiteSpace:"nowrap"},cardBoxPadding:{padding:"0px"},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),wc=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t,a=kc(),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(1),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)([]),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)("All"),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(!0),O=Object(S.a)(j,2),C=O[0],k=O[1],w=localStorage.getItem("srmToken"),T=JSON.parse(localStorage.getItem("srmSelectedRole")),A=null,_=null;"parent"===T&&(A=localStorage.getItem("srmSelected_Child"),_=JSON.parse(localStorage.getItem("srmChild_dict"))),Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={current_role:T,created_by:!1,page:u,status:v.toLowerCase()},"parent"===T&&(a=Object(N.a)(Object(N.a)({},a),{},{student_id:_[A].userDetails.id||null})),t.prev=2,t.next=5,vc.fetchNotification(w,a);case 5:n=t.sent,k(!1),200===n.status&&e&&(n.data.data.last_page===n.data.data.current_page?(l(!1),h(Object(Na.a)(n.data.data.data))):(p(u+1),h(Object(Na.a)(n.data.data.data)))),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),k(!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var I=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={current_role:T,created_by:!1,page:u,status:v.toLowerCase()},"parent"===T&&(a=Object(N.a)(Object(N.a)({},a),{},{student_id:_[A].userDetails.id||null})),t.prev=2,t.next=5,vc.fetchNotification(e.token,a);case 5:200===(n=t.sent).status&&(n.data.data.last_page===n.data.data.current_page?(l(!1),h([].concat(Object(Na.a)(b),Object(Na.a)(n.data.data.data)))):(p(u+1),h([].concat(Object(Na.a)(b),Object(Na.a)(n.data.data.data))))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.value===v){e.next=17;break}return p(1),y(t.target.value),a={current_role:T,created_by:!1,page:1,status:t.target.value.toLowerCase()},"parent"===T&&(a=Object(N.a)(Object(N.a)({},a),{},{student_id:_[A].userDetails.id||null})),e.prev=5,n=localStorage.getItem("srmToken"),localStorage.getItem("srmSelectedRole"),e.next=10,vc.fetchNotification(n,a);case 10:200===(r=e.sent).status&&(r.data.data.last_page===r.data.data.current_page?(l(!1),h(Object(Na.a)(r.data.data.data))):(p(u+1),h(Object(Na.a)(r.data.data.data)))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){h(Object(Na.a)(b.filter((function(t){return t.id!==e}))))};return t=b.map((function(e){return r.a.createElement(Nc,{key:e.id,notification:e,handleRemoveNotifcation:D})})),r.a.createElement("div",{className:a.sectionContainer,id:"scrollable"},r.a.createElement("div",{className:a.filterHeader},r.a.createElement(dr.a,{className:a.formControl},r.a.createElement(Gr.a,{labelId:"Filter",id:"demo-simple-select",value:v,onChange:B,className:a.selectFiler,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null}},r.a.createElement(M.a,{value:"All"},"All"),r.a.createElement(M.a,{value:"Archive"},"Archived"),r.a.createElement(M.a,{value:"Read"},"Read"),r.a.createElement(M.a,{value:"Unread"},"Unread")))),r.a.createElement(mr.a,{className:a.cardBoxPadding},r.a.createElement(co.a,{dataLength:b.length,next:I,hasMore:i,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.2,className:a.infiniteContainer},C?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:a.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):null,C||b.length?null:r.a.createElement("div",{className:a.emptyView},r.a.createElement(m.a,null,"No notifications available")),t)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))})),Tc=a(52),Ac=a.n(Tc),_c=a(48),Ic=a.n(_c),Bc=Object(I.a)((function(){return{popContainer:{minWidth:"200px"},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"}}})),Dc=function(e){var t=Bc(),a=e.open,n=e.handleClose,o=e.onhandleDelete,c=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:a,onClose:n,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.popContainer},r.a.createElement("div",{className:t.dialogContent},r.a.createElement(m.a,{className:t.confirmationText},"Are you sure you want to delete?")))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{onClick:n,color:"primary",variant:"outlined",className:t.button,disabled:c},"No"),r.a.createElement(z.a,{onClick:o,color:"primary",autoFocus:!0,variant:"contained",className:t.button,disableElevation:!0,disabled:c,disableRipple:!0},"Yes"))))},Rc=Object(dt.a)((function(e){var t;return{card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",marginTop:"10px",marginBottom:"10px"},cardHeader:{padding:"15px 15px 0 15px"},iconButtonRoot:{padding:"8px"},titleIconSpan:{marginRight:"8px"},editIconSpan:{paddingLeft:"10px",cursor:"pointer"},titleIcon:{transform:"translateY(3px)"},cardTitle:{fontSize:"16px",fontStyle:"normal",fontWeight:500,cursor:"pointer","&:hover":{textDecoration:"underline"}},cardActions:{padding:"0 20px 20px 20px"},cardContent:{padding:"10px 15px 20px 15px","&:last-child":{paddingBottom:"20px"}},menuItem:{paddingLeft:"10px",paddingRight:"10px"},borderBottomDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"},borderBottomLastDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px"},menuTopItemMargin:{marginTop:"5px"},menuItemRoot:{padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),menuList:{width:"100% !important",padding:0},contentStyle:{color:"".concat(e.palette.common.lightFont),fontSize:"14px",fontStyle:"normal"},dateStyle:{paddingTop:"5px"},contentStatus:{color:"".concat(e.palette.common.lightFont),fontSize:"14px",fontStyle:"normal",marginRight:""},readClass:{textAlign:"right"},payBtn:{width:"113px",height:"36px"},deleteBtn:{cursor:"pointer",transform:"translateY(5px)"}}})),Lc=function(e){var t=Rc(),a=Object(s.g)(),o=Object(n.useState)(null),c=Object(S.a)(o,2),i=(c[0],c[1],r.a.useState(!1)),l=Object(S.a)(i,2),d=l[0],u=l[1],p=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("srmToken"),t.prev=1,t.next=4,vc.deleteNotification(e.notification.id,n);case 4:r=t.sent,console.log(r),200===r.status?(console.log("Successfully Deleted"),a.push({pathname:ln,state:{tab:e.selectedTab}})):console.log("Failed to delete"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:d,handleClose:function(){u(!1)},onhandleDelete:function(){p(),u(!1)}}),r.a.createElement(it.a,{className:t.card},r.a.createElement($a.a,{className:t.cardHeader,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"".concat(t.contentStyle," ").concat(t.dateStyle)},mc(e.notification.created_at),"published"!==e.notification.notify_status?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"".concat(t.titleIconSpan," ").concat(t.editIconSpan)},r.a.createElement("img",{src:an.a,className:"".concat(t.titleIcon),onClick:function(){a.push({pathname:"/create-notification/".concat(e.notification.id),state:{tab:e.selectedTab}})}})),r.a.createElement("span",{onClick:function(){u(!0)}},r.a.createElement(Ic.a,{fontSize:"small",className:" ".concat(t.deleteBtn)}))):"")),title:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.cardTitle,onClick:function(){return a.push({pathname:"".concat(ln,"/").concat(e.notification.id,"?cby=true"),state:{selectedTab:e.selectedTab}})}},e.notification.data&&e.notification.data.title?e.notification.data.title:"N/A"))}),r.a.createElement(lt.a,{classes:{root:t.cardContent}},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:10},r.a.createElement(m.a,{className:t.contentStyle,variant:"subtitle2"},e.notification.data&&e.notification.data.summary?e.notification.data.summary:"N/A")),r.a.createElement(en.a,{item:!0,xs:2,className:t.readClass},r.a.createElement(m.a,{className:t.contentStyle},"".concat(e.notification.notify_status).toUpperCase()))))))},Fc=Object(I.a)((function(e){return{infiniteContainer:{display:"grid"},datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{height:"100%",width:"100%",padding:"20px",boxSizing:"border-box"},header:{textAlign:"right",paddingBottom:"10px"},filterHeader:{width:"100%",paddingBottom:"10px"},selectFiler:{color:"".concat(e.palette.common.adornment),fontSize:"15px","&:before":{borderColor:"".concat(e.palette.common.adornment)},"& .MuiInputBase-input":{paddingBottom:"3px"}},formControl:{width:"110px"},cardBoxPadding:{padding:"0px"},addNew:{color:e.palette.common.deluge,"& .new":{float:"right",fontSize:"14px",padding:"5px"},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},addNewDiv:{cursor:"pointer",width:"fit-content",marginLeft:"auto"},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),Mc=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=Fc(),a=Object(s.g)(),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(1),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)([]),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)("All"),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!0),C=Object(S.a)(O,2),N=C[0],k=C[1],w=JSON.parse(localStorage.getItem("srmSelectedRole"));Object(n.useEffect)((function(){var t=!0;return function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,vc.fetchNotification(e.token,{current_role:w,created_by:e.created_by,page:p,status:y.toLowerCase()});case 3:n=a.sent,k(!1),200===n.status&&t&&(n.data.data.last_page===n.data.data.current_page?(l(!1),x(Object(Na.a)(n.data.data.data))):(g(p+1),x(Object(Na.a)(n.data.data.data)))),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),k(!1);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!1}}),[]);var T,A=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vc.fetchNotification(e.token,{current_role:w,created_by:e.created_by,page:p,status:y.toLowerCase()});case 3:200===(a=t.sent).status&&(a.data.data.last_page===a.data.data.current_page?(l(!1),x([].concat(Object(Na.a)(h),Object(Na.a)(a.data.data.data)))):(g(p+1),x([].concat(Object(Na.a)(h),Object(Na.a)(a.data.data.data))))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vc.createNotification(e.token);case 3:200===(n=t.sent).status&&a.push({pathname:"/create-notification/".concat(n.data.data.id),state:{tab:e.selectedTab}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t,a){var n,r,o,c;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("changed"),a){e.next=18;break}if(t.target.value===y){e.next=16;break}return e.prev=3,g(1),j(t.target.value),n=localStorage.getItem("srmToken"),e.next=9,vc.fetchNotification(n,{current_role:w,created_by:!1,page:1,status:t.target.value.toLowerCase()});case 9:200===(r=e.sent).status&&(r.data.data.last_page===r.data.data.current_page?(l(!1),x(Object(Na.a)(r.data.data.data))):(g(p+1),x(Object(Na.a)(r.data.data.data)))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:e.next=31;break;case 18:return e.prev=18,g(1),j(y),o=localStorage.getItem("srmToken"),e.next=24,vc.fetchNotification(o,{current_role:w,created_by:!1,page:1,status:y.toLowerCase()});case 24:200===(c=e.sent).status&&(c.data.data.last_page===c.data.data.current_page?(l(!1),x(Object(Na.a)(c.data.data.data))):(g(p+1),x(Object(Na.a)(c.data.data.data)))),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(18),console.log(e.t1);case 31:case"end":return e.stop()}}),e,null,[[3,13],[18,28]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(e){x(Object(Na.a)(h.filter((function(t){return t.id!==e}))))};return T=e.created_by?h.map((function(t){return r.a.createElement(Lc,{key:t.id,notification:t,selectedTab:e.selectedTab})})):h.map((function(t){return r.a.createElement(Nc,{changestatus_handeler:I,currentfilter:y,key:t.id,notification:t,handleRemoveNotifcation:B,selectedTab:e.selectedTab})})),r.a.createElement("div",{className:t.sectionContainer,id:"scrollable"},e.created_by?r.a.createElement("div",{className:t.header},"teacher"===w||"admin"===w?r.a.createElement("div",{className:t.addNew},r.a.createElement("div",{onClick:_,className:t.addNewDiv},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))):""):r.a.createElement("div",{className:t.filterHeader},r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(Gr.a,{labelId:"Filter",id:"demo-simple-select",value:y,onChange:function(e){return I(e,!1)},className:t.selectFiler,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null}},r.a.createElement(M.a,{value:"All"},"All"),r.a.createElement(M.a,{value:"Archive"},"Archived"),r.a.createElement(M.a,{value:"Read"},"Read"),r.a.createElement(M.a,{value:"Unread"},"Unread")))),r.a.createElement(mr.a,{className:t.cardBoxPadding},r.a.createElement(co.a,{dataLength:h.length,next:A,hasMore:i,scrollableTarget:"scrollable",scrollThreshold:.2,className:t.infiniteContainer},N?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):null,N||h.length?null:r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"No notifications available")),T)))})),Pc=a(1002),zc=a(998),Uc=a(23),Yc=a.n(Uc),Hc=a(567),Wc=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_API_URL:"https://dev.srmapi.in/api/v1",REACT_APP_BACKEND_CHAT_URL:"dev.srmapi.in",REACT_APP_BACKEND_IMAGE_URL:"https://dev.srmapi.in",REACT_APP_USE_API:"Y"}).RTE_API_KEY,Gc=function(e){var t=Object(n.useState)(!1),a=Object(S.a)(t,2),o=(a[0],a[1]),c=Object(n.useState)(""),i=Object(S.a)(c,2),l=(i[0],i[1]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Hc.a,{apiKey:Wc,value:e.value,init:{zIndex:0,height:500,plugins:["advlist autolink lists link image charmap print preview anchor hr","image","searchreplace visualblocks code","insertdatetime media table paste code wordcount"],forced_root_block_attrs:{style:"font-family: Avenir; margin-top:10px;margin-bottom:10px;"},table_default_styles:{"font-family":"Avenir"},font_formats:"Avenir=avenir,sans-serif;",menubar:!1,images_upload_url:"postAcceptor.php",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor removeformat | pagebreak | charmap emoticons | preview save print | insertfile image media template link anchor codesample | table | hr | ltr rtl",images_upload_handler:function(){var t=Object(Ca.a)(Sa.a.mark((function t(a,n,r){var c,i;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oa.a.post("".concat("https://dev.srmapi.in/api/v1","/feed-gallery"),{file:"data:image/png;base64,".concat(a.base64()),type:"news"},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}});case 2:c=t.sent,console.log(c.data["file-name"]),i="".concat("https://dev.srmapi.in").concat(c.data["file-name"]),setTimeout((function(){o(!0),n(i)}),3e3);case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()},onEditorChange:function(t,a){l(t),e.handleDescription(t)}}))},Vc=Object(I.a)((function(){return{sectionContainer:{width:"100%",padding:"20px",boxSizing:"border-box",marginBottom:"65px",display:"grid"}}})),Kc=function(e){var t=Vc();return r.a.createElement("div",{className:t.sectionContainer},e.children)},qc=Object(I.a)((function(){return{card:{width:"100%",margin:"auto",borderRadius:5,boxShadow:"none",backgroundColor:E,padding:"20px",boxSizing:"border-box"}}})),Jc=function(e){var t=qc();return r.a.createElement("div",{className:t.card},e.children)},Qc=Object(I.a)((function(){return{card:{width:"100%",margin:"auto",marginTop:"10px",marginBottom:"10px",borderRadius:"5px",boxShadow:"none",padding:"20px",boxSizing:"border-box"}}})),Xc=function(e){var t=e.style,a=Qc();return r.a.createElement(it.a,{className:a.card,style:t||null},e.children)},Zc=Object(I.a)((function(){return{backImg:{height:"18px",width:"10px",float:"left",transform:"translate(0px, 2px)",cursor:"pointer"},titleText:{textAlign:"center",margin:"auto",color:g}}})),$c=function(e){var t=Zc();return r.a.createElement(mr.a,null,r.a.createElement("div",null,r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:e.handleBack}),r.a.createElement(m.a,{variant:"h2",className:t.titleText},e.title)))},ei=Object(I.a)((function(e){return{header:{textAlign:"right",paddingBottom:"5px"},addNew:{color:e.palette.common.deluge,"& .new":{float:"right",fontSize:"14px",padding:"5px"},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},addNewDiv:{cursor:"pointer",width:"fit-content",marginLeft:"auto"}}})),ti=function(e){var t=ei(),a=e.add,n=JSON.parse(localStorage.getItem("srmSelectedRole"));return r.a.createElement("div",{className:t.header},"teacher"===n||"admin"===n?r.a.createElement("div",{className:t.addNew},r.a.createElement("div",{onClick:a,className:t.addNewDiv},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))):"")},ai=Object(I.a)((function(){return{header:{width:"100%",paddingBottom:"10px"},header_title:{fontSize:"18px",fontFamily:v,color:g,textAlign:"center"}}})),ni=function(e){var t=e.style,a=ai();return r.a.createElement("div",{className:a.header,style:t||null},r.a.createElement(m.a,{className:a.header_title},e.children))},ri=Object(I.a)((function(e){return{InfiniteScroll:{overflow:"revert !important","& .infinite-scroll-component":{overflow:"revert !important"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"}}})),oi=function(e){var t=ri(),a=e.data,n=e.onScroll,o=e.hasMore;return r.a.createElement(co.a,{className:t.InfiniteScroll,dataLength:a.length,next:n,hasMore:o,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.2},e.children)},ci=function(e){var t=e.openSnackbar,a=e.status,n=e.msg,o=function(){e.onOpenSnackBar(!1)};return r.a.createElement(ae.a,{open:t,autoHideDuration:5e3,onClose:o},r.a.createElement(ma.a,{onClose:o,severity:a},n))},ii=(Object(dt.a)((function(e){return{categoryClass:{minWidth:"200px","& span":{textAlign:"left"}},categorySelect:{textAlign:"left"}}})),Object(dt.a)((function(e){return{categoryClass:{minWidth:"200px","& span":{textAlign:"left"}},categorySelect:{textAlign:"left"}}}))),li=function(e){var t=e.data,a=e.loading,n=e.initialValue,o=e.value,c=e.makeDisable,i=e.labelId,l=ii();return r.a.createElement(Gr.a,{labelId:i||"item",id:"demo-simple-select-helper",value:o,onChange:function(t){e.onChange(t.target.value)},className:l.categoryClass,classes:{select:l.categorySelect}},n?r.a.createElement(M.a,{value:n,disabled:c},n):null,a?r.a.createElement(M.a,{disabled:!0,value:""},"Loading..."):null,a?null:t.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name?e.name:e.class_name)})))},si=Object(I.a)((function(){return{emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),di=function(e){var t=si();return r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,e.children))},mi=Object(I.a)((function(){return{loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"}}})),ui=function(){var e=mi();return r.a.createElement("div",{className:e.loading},r.a.createElement(kr.a,{color:"primary",size:30}))},pi=Object(I.a)((function(e){return{loder:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},background:"lightgrey",height:"100%"},CircularProgress:{position:"absolute",left:"50%",top:"50%",zIndex:"1"}}})),gi=function(){var e=pi();return r.a.createElement("div",{className:e.loder},r.a.createElement(kr.a,{color:"primary",thickness:5,className:e.CircularProgress}))},fi=a(131),bi=Object(I.a)((function(e){return{droparea:{width:"100%",marginTop:"20px","& .MuiInputBase-root":{color:"rgba(0, 0, 0, 0.54)"},"& .MuiDropzoneArea-root":{border:"1px solid ".concat(b),minHeight:"auto"},"& .MuiDropzoneArea-text":{marginTop:"20px",marginBottom:"20px",fontSize:"14px",color:g,fontFamily:y},"& .MuiDropzoneArea-icon":{color:h,width:"30px",height:"30px",marginBottom:"20px"}},snackBar:{"&.MuiSnackbar-root":{zIndex:e.zIndex.drawer+1,maxWidth:"400px"}},previewChip:{minWidth:160,maxWidth:210}}})),hi=function(e){var t=bi();return r.a.createElement(dr.a,{className:t.droparea},r.a.createElement(fi.a,{onChange:e.handleChange,alertSnackbarProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},classes:{root:t.snackBar},autoHideDuration:3e3},maxFileSize:1e7,filesLimit:10,showPreviews:!0,showPreviewsInDropzone:!1,useChipsForPreview:!0,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:t.previewChip}},previewText:"Selected files",dropzoneText:"Drag and drop a file (max 10 MB each) here or click"}))},xi=a(154),Ei=a.n(xi),vi=a(81),yi=a.n(vi),ji=a(533),Oi=Object(I.a)((function(){return{filesViewer:{},listOfFiles:{marginTop:"10px",display:"flex",flexWrap:"wrap"},chip:{borderRadius:"25px",backgroundColor:x,display:"inline-flex",marginTop:"10px","& button":{padding:"10px",margin:"auto 0px","&:hover":{backgroundColor:"transparent"}}},chipText:{margin:"auto 10px",cursor:"pointer"}}})),Si=function(e){var t=e.data,a=Oi(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(0),d=Object(S.a)(s,2),u=d[0],p=d[1],g=function(){var e=t,n=[{uri:"".concat("https://dev.srmapi.in").concat(e[u].doc_path).concat(e[u].doc_name),fileType:e[u].doc_name.split(".").pop()}];return r.a.createElement("div",{className:a.filesViewer},r.a.createElement(Ei.a,{documents:n,pluginRenderers:xi.DocViewerRenderers}))},f=t.map((function(e,t){return r.a.createElement("div",{className:a.chip},r.a.createElement(m.a,{variant:"subtitle2",className:a.chipText,onClick:function(){return h(t)}},e.doc_name),r.a.createElement(W.a,{onClick:function(){return b("".concat("https://dev.srmapi.in").concat(e.doc_path).concat(e.doc_name),e.doc_name)},disableRipple:!0,disableFocusRipple:!0},r.a.createElement("img",{src:yi.a})))})),b=function(e,t){Object(ji.saveAs)(e,t)},h=function(e){l(!0),p(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.listOfFiles},f),r.a.createElement(qe.a,{open:i,onClose:function(){l(!1)},fullWidth:!0},r.a.createElement(g,null)))},Ci=Object(I.a)((function(){return{filesViewer:{},listOfFiles:{marginTop:"10px",display:"flex",flexWrap:"wrap"},chip:{borderRadius:"25px",backgroundColor:x,display:"inline-flex",marginTop:"10px","& button":{padding:"10px",margin:"auto 0px","&:hover":{backgroundColor:"transparent"}}},chipText:{margin:"auto 10px",cursor:"pointer"},deleteBtn:{color:"#b7b7bb"}}})),Ni=function(e){var t=e.data,a=Ci(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(0),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)(null),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(!1),E=Object(S.a)(x,2),v=E[0],y=E[1],j=function(){var e=t,n=[{uri:"".concat("https://dev.srmapi.in").concat(e[u].doc_path).concat(e[u].doc_name),fileType:e[u].doc_name.split(".").pop()}];return r.a.createElement("div",{className:a.filesViewer},r.a.createElement(Ei.a,{documents:n,pluginRenderers:xi.DocViewerRenderers}))},O=t.map((function(e,t){return r.a.createElement("div",{className:a.chip},r.a.createElement(m.a,{variant:"subtitle2",className:a.chipText,onClick:function(){return C(t)}},e.doc_name),r.a.createElement(W.a,{onClick:function(){h(e.id),y(!0)},className:a.deleteBtn,disableRipple:!0,disableFocusRipple:!0},r.a.createElement(Ic.a,{fontSize:"medium"})))})),C=function(e){l(!0),p(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:v,handleClose:function(){y(!1)},onhandleDelete:function(){e.handleDelete(b),y(!1)}}),r.a.createElement("div",{className:a.listOfFiles},O),r.a.createElement(qe.a,{open:i,onClose:function(){l(!1)},fullWidth:!0},r.a.createElement(j,null)))},ki=Object(dt.a)((function(e){return{dateTimeContainer:{minWidth:"200px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},toolbar:{"& .MuiTypography-h3":{fontSize:"3rem"},"& .MuiTypography-subtitle1":{fontSize:"1rem"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"},publishBtn:{borderRadius:"3px",width:"inherit",margin:0,textTransform:"none"},publishLaterBtn:{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"20px"}}})),wi=a(28),Ti=a(73),Ai=a(976),_i=a(34),Ii=a.n(_i),Bi=function(e){var t=ki(),a=e.publishDate,o=e.handlePublishDate,c=e.handlePublishLater,i=e.validation,l=e.disabled,s=Object(n.useState)(!1),d=Object(S.a)(s,2),m=d[0],u=d[1],p=function(){u(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:m,onClose:p,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,justify:"space-around"},r.a.createElement(Ai.a,{variant:"dialog",value:a,onChange:function(e){o(e.toISOString())},label:"Publish Date and Time ",minDate:new Date,format:"yyyy/MM/dd hh:mm a",InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},classes:{root:t.toolbar}}))))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{color:"primary",variant:"outlined",onClick:p,className:t.button},"Cancel"),r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:t.button,onClick:function(){c(),p()}},"Publish"))),r.a.createElement(z.a,{id:"publishLaterBtn",variant:"contained",onClick:function(){i()&&u(!0)},className:"".concat(t.publishBtn," ").concat(t.publishLaterBtn),disableElevation:!0,disabled:l||!1},"Publish Later"))},Di=function(e){var t=e.disabled,a=ki();return r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:a.publishBtn,color:"primary",type:"submit",disableElevation:!0,disabled:t||!1},"Publish Now")},Ri=function(e){var t=e.handleCancel,a=ki();return r.a.createElement(z.a,{id:"cancelBtn",variant:"contained",onClick:t,className:"".concat(a.publishBtn," ").concat(a.publishLaterBtn),disableElevation:!0},"Cancel")},Li=Object(dt.a)((function(e){var t;return t={formStyle:{margin:"auto",width:"95%",backgroundColor:"white",justifyContent:"center",textAlign:"center",borderRadius:"5px"},backImg:{float:"left",transform:"translateY(7px)",cursor:"pointer"},sideMargins:{marginLeft:"20px",marginRight:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0},errorColor:{color:"red"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px"},chip:{margin:e.spacing(.5)},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},chips:{display:"flex",flexWrap:"wrap"}},Object(C.a)(t,"chip",{margin:2}),Object(C.a)(t,"publishBtns",{textAlign:"right",justifyContent:"right"}),Object(C.a)(t,"margin",Object(C.a)({marginTop:"30px"},e.breakpoints.down("xs"),{marginTop:"10px"})),Object(C.a)(t,"optionContainer",{borderBottom:"1px solid #DCDCE0",width:"100%"}),Object(C.a)(t,"optionBody",{color:"rgba(0, 0, 0, 0.54)"}),Object(C.a)(t,"titleText",{fontFamily:"Avenir Medium",fontize:"1.2rem",color:"#1C1C1E"}),Object(C.a)(t,"header",{paddingTop:"20px"}),t})),Fi=Object(i.c)((function(e){return{token:e.auth.token}}))((function(e){var t=Li(),a=Object(s.g)(),o=Object(s.i)().id,c=Object(n.useState)("draft"),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(!1),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(""),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(""),k=Object(S.a)(C,2),w=k[0],T=k[1],A=Object(n.useState)(""),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(""),R=Object(S.a)(D,2),L=R[0],F=R[1],P=Object(n.useState)([]),z=Object(S.a)(P,2),U=z[0],Y=z[1],H=Object(n.useState)([]),W=Object(S.a)(H,2),G=W[0],V=W[1],K=Object(n.useState)(!1),q=Object(S.a)(K,2),J=q[0],Q=q[1],X=Object(n.useState)(!1),Z=Object(S.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!1),ae=Object(S.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)([]),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=Object(n.useState)([]),de=Object(S.a)(se,2),me=de[0],ue=de[1],pe=Object(n.useState)(new Date),ge=Object(S.a)(pe,2),fe=ge[0],be=ge[1],he=ne&&0===me.length,xe=["All Teachers","All Parents","Select All"].concat(Object(Na.a)(Object.values(e.classState))),Ee=Object(Na.a)(Object.values(e.categories));Object(n.useEffect)((function(){ve()}),[o]),Object(n.useEffect)((function(){var e=setInterval((function(){ye({status:l,date:fe,isBack:!1})}),1e4);return function(){clearInterval(e)}}),[x,w,j,U,L,ie,l,fe]);var ve=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vc.fetchDraftNotification(o,e.token);case 3:200===(a=t.sent).status&&(n=[],a.data.data.class_mapping&&(a.data.data.class_mapping.parents&&Y(["All Parents"].concat(Object(Na.a)(U))),a.data.data.class_mapping.teachers&&Y(["All Teachers"].concat(Object(Na.a)(U))),a.data.data.class_mapping.class&&(a.data.data.class_mapping.class.forEach((function(t){n.push(e.classState[t])})),Y((function(e){return[].concat(Object(Na.a)(e),n)})))),T(a.data.data.data.main_content?a.data.data.data.main_content:""),E(a.data.data.data.title?a.data.data.data.title:""),O(a.data.data.data.summary?a.data.data.data.summary:""),F(a.data.data.type?a.data.data.type:""),d(a.data.data.notify_status),be(a.data.data.published_date)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){!function(){var t=[],a=!1,n=!1;U.find((function(e){return"Select All"===e}))?(t=Object(Na.a)(Object.keys(e.classState)),a=!0,n=!0):U.forEach((function(r){"All Teachers"===r&&(a=!0),"All Parents"===r&&(n=!0);var o=Object.keys(e.classState).find((function(t){return e.classState[t]===r}));o&&t.push(parseInt(o))})),V(t),ee(a),Q(n)}()}),[U]);var ye=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r,c,i,l,s;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.status,r=a.date,(c=a.isBack)&&f(!0),t.prev=2,i=[],ie.map((function(e){var t={id:e.id,role:e.name};i.push(t)})),l={type:L,data:{title:x,summary:j,main_content:w},published_to:{individual_users:i,class:G,parents:J,teachers:$}},("published"===n&&r||"active"===n&&r)&&(l=Object(N.a)(Object(N.a)({},l),{},{notify_status:n,published_date:r})),t.next=9,vc.saveNotification(o,l,e.token);case 9:200===(s=t.sent).status&&(console.log(s),c&&we()),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.log(t.t0);case 16:c&&f(!1);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}(),je=function(e){"title"===e.target.name?E(e.target.value):O(e.target.value),Ce()},Oe=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.target.value||a.target.value.length%3!==0){t.next=11;break}return t.prev=1,t.next=4,vc.searchUser(a.target.value,e.token);case 4:n=t.sent,ue(n.data.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),Se=function(){return!(0===U.length&&ie.length<1||""===x||""===j||""===L)||(B("Fill All Data !"),!1)},Ce=function(){B("")},Ne=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Se()&&(d("published"),a=(new Date).toISOString(),be(a),ye({status:"published",date:a,isBack:!0}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){ye({status:l,date:fe,isBack:!0})},we=function(){a.push({pathname:ln,state:{tab:e.selectedTab}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("form",{className:t.formStyle,onSubmit:Ne},r.a.createElement(mr.a,{className:"".concat(t.margin,"  ").concat(t.sideMargins," ").concat(t.header),pt:4},r.a.createElement("div",null,r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:ke}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText)},"Create Notification"))),I?r.a.createElement(mr.a,{className:t.margin,pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(t.errorColor)},I))):"",r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{label:"Title",id:"title",name:"title",className:t.inputBorder,value:x,onChange:je,required:!0}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"summary",name:"summary",label:"Summary",className:t.inputBorder,value:j,onChange:je,required:!0}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,{labelId:"category-label"},"Categories*"),r.a.createElement(Gr.a,{labelId:"category-label",id:"demo-mutiple-chip",value:L,onChange:function(e){var t=e.target.value.toLowerCase().replace(/\s+/g,"");F(t)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),required:!0,renderValue:function(e){return r.a.createElement("div",{className:t.chips},r.a.createElement(Pc.a,{key:e,label:e,className:t.chip}))},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null}},Ee.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(zc.a,{multiple:!0,open:ne,onOpen:function(){re(!0)},onClose:function(){re(!1)},value:ie,id:"tags-standard",options:me,loading:he,onChange:function(e,t){le(t)},onInputChange:Oe,getOptionLabel:function(e){return e.username},renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{variant:"standard",label:"Search users"}))},renderOption:function(e){return function(e){return e.name?r.a.createElement("div",{className:t.optionContainer},r.a.createElement(m.a,{className:t.optionTitle},"".concat(e.firstname," ").concat(e.lastname," - ").concat(e.name)),e.user_classes&&e.classes_data?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.optionBody},e.user_classes.classes_data.class_name)):"",r.a.createElement(m.a,{className:t.optionBody},e.username)):e.username}(e)}}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,null,"Select classes"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:U,multiple:!0,onChange:function(e){Y(e.target.value)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){Y(U.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:t.chip})})))}},xe.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{className:t.fieldStyle},r.a.createElement(m.a,{className:t.textAlignLeft},"Description"),r.a.createElement(Gc,{handleDescription:function(e){T(e)},value:w,token:e.token}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:8,xs:12,className:t.publishBtns},r.a.createElement(Bi,{disabled:g,validation:Se,publishDate:fe,handlePublishDate:be,handlePublishLater:function(){d("active"),ye({status:"active",date:fe,isBack:!0})}}),r.a.createElement(Di,{disabled:g})),r.a.createElement(en.a,{item:!0,sm:4,xs:12,className:t.textAlignLeft},r.a.createElement(Ri,{handleCancel:ke})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement("br",null),r.a.createElement("br",null))})),Mi=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"createAnnouncement",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/news"),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"saveAnnouncement",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/news/").concat(e.id),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}},{key:"deleteAnnouncement",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/news/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"publishAnnouncement",value:function(e,t,a){return console.log(t,e),oa.a.put("".concat("https://dev.srmapi.in/api/v1","/news/").concat(e.id),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}},{key:"fetchAnnouncements",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/news"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:{page:e.currentPage,created_by:e.createdBy,current_role:e.selectedRole}})}},{key:"fetchSearchAnnouncements",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/news_search/").concat(a),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:{page:e.currentPage,created_by:e.createdBy,current_role:e.selectedRole}})}},{key:"fetchDraftAnnouncement",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/news/").concat(e.id),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchClasses",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/classes"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchCategories",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/category"),{params:{type:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchGrades",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/school_grades"),{params:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),Pi=Object(dt.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{display:"none"}},content:{flexGrow:"1",display:"flex",flexDirection:"column",minHeight:"0",padding:"0 20px 20px 20px"},notificationContainer:{width:"95%",height:"auto",margin:"0 auto 100px",padding:0},panel:{flexGrow:"1",overflow:"auto",minHeight:"100%",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}}}}));function zi(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,null,t))}function Ui(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Yi=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=Pi(),a=Object(s.h)(),o=Object(s.i)().id,c=Object(n.useState)(void 0!==a.state?a.state.tab:0),i=Object(S.a)(c,2),l=i[0],d=i[1],m=Object(n.useState)(null),u=Object(S.a)(m,2),p=u[0],g=u[1],f=Object(n.useState)(null),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(!0),v=Object(S.a)(E,2),y=v[0],j=v[1],O=localStorage.getItem("srmToken");Object(n.useEffect)((function(){var e=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi.fetchClasses(O);case 2:return t=e.sent,a={},t.data.data.forEach((function(e){a[e.id]=e.class_name})),e.next=7,Mi.fetchCategories(O,"notifications");case 7:n=e.sent,r={},n.data.data.forEach((function(e){r[e.id]=e.category_name})),x(Object(N.a)({},r)),g(Object(N.a)({},a));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.pathname==="/create-notification/".concat(o)&&e()}),[]),Object(n.useEffect)((function(){null!==p&&null!==h&&j(!1)}),[p,h]);return r.a.createElement("div",{className:t.container},a.pathname===ln?r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{position:"sticky",className:t.tabBar},r.a.createElement(ro.a,{centered:!0,value:l,onChange:function(e,t){console.log(t),d(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"For me"},Ui(0),{className:"".concat(t.eventsTab," ").concat(t.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"By me"},Ui(1),{className:t.eventsTab})))),r.a.createElement(zi,{value:l,index:0},r.a.createElement(Mc,{key:0,created_by:!1,selectedTab:l})),r.a.createElement(zi,{value:l,index:1},r.a.createElement(Mc,{key:1,created_by:!0,selectedTab:l})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)):a.pathname==="/create-notification/".concat(o)&&!1===y?r.a.createElement(mr.a,null,r.a.createElement(Fi,{categories:h,classState:p,selectedTab:l}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(Tr,{open:y}))})),Hi=Object(I.a)((function(e){return{notificationRoot:{height:"100%"}}})),Wi=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=Hi(),a=JSON.parse(localStorage.getItem("srmSelectedRole"));return r.a.createElement("div",{className:t.notificationRoot},"teacher"===a||"admin"===a?r.a.createElement(Yi,null):r.a.createElement(wc,null))})),Gi=a(182),Vi=a.n(Gi),Ki=Object(I.a)((function(e){var t,a;return a={card:{width:"100%",margin:"auto",marginTop:"10px",marginBottom:"10px",borderRadius:"5px",boxShadow:"none"},reminder:{width:"100%",textAlign:"right",cursor:"pointer"},NewsHeader:(t={padding:"8px 16px 8px 16px !important","& span":{cursor:"pointer","&:hover":{textDecoration:"underline"}}},Object(C.a)(t,e.breakpoints.down("sm"),{padding:"8px 16px 8px 16px !important","& span":{fontSize:"16px"}}),Object(C.a)(t,"& .MuiCardHeader-action",{marginRight:"0px"}),t),cardContent:{padding:"0px 16px 0px 16px"},contentMargin:{marginTop:"16px"},announcementText:{fontStyle:"normal"},announcementImg:{justifyContent:"center",textAlign:"center","& img":{maxWidth:"100%",border:"1px solid ".concat(e.palette.common.deluge),borderRadius:"4px"}},circular:{fontStyle:"normal",color:"".concat(e.palette.common.lightFont),paddingTop:"10px",fontSize:"14px"},statusText:{fontStyle:"normal",color:"".concat(e.palette.common.lightFont),textTransform:"capitalize",fontSize:"14px",textAlign:"right"},cardActionStyle:{padding:"8px 16px 8px 16px",color:"".concat(e.palette.common.lightFont)},contentCenter:Object(C.a)({textAlign:"right",height:"50%","& img":Object(C.a)({marginTop:"25px",width:"25px",cursor:"pointer"},e.breakpoints.down("xs"),{marginTop:"10px"})},e.breakpoints.down("xs"),{textAlign:"right"}),createdDate:{padding:"5px 0 5px 0",color:"#AEAEB2",fontSize:"0.85rem"},editBtnGrid:{textAlign:"right"},editBtn:{marginLeft:"auto",paddingRight:"5px",cursor:"pointer"},editBtn1:{paddingTop:"0px"},cardTitle:{}},Object(C.a)(a,"announcementImg",{justifyContent:"center",textAlign:"center",paddingBottom:"10px",margin:"0","& img":{maxWidth:"100%",border:"1px solid ".concat(e.palette.common.deluge),borderRadius:"4px"}}),Object(C.a)(a,"deleteBtn",{width:"22px",height:"21px",paddingLeft:"10px",cursor:"pointer",color:"#AEAEB2",transform:"translateY(3px)"}),a})),qi=function(e){var t=Ki(),a=Object(s.g)(),n=e.announcement,o=n.id,c=n.status,i=n.title,l=n.summary,d=n.circular_no,u=(n.media_url,n.created_at),p=r.a.useState(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("srmToken"),t.prev=1,console.log(o,a),t.next=5,Mi.deleteAnnouncement(o,a);case 5:n=t.sent,console.log(n),200===n.status?(console.log("Successfully Deleted"),e.refresh()):console.log("Failed to delete"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:f,handleClose:function(){b(!1)},onhandleDelete:function(){h(),b(!1)}}),r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:t.cardContainer},r.a.createElement(it.a,{className:t.card},r.a.createElement($a.a,{className:t.NewsHeader,action:r.a.createElement(r.a.Fragment,null,d?r.a.createElement(m.a,{className:t.circular,variant:"body2"},"News ID: ",d):r.a.createElement(m.a,{className:t.circular,variant:"body2"},"News ID: N/A")),title:r.a.createElement("span",{onClick:function(e){a.push("/news/".concat(o))}},i?r.a.createElement(m.a,{variant:"body1",className:t.cardTitle},i):r.a.createElement(m.a,{variant:"body1",className:t.cardTitle},"N/A"))}),r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:9},l?r.a.createElement(m.a,{variant:"body2"},l):r.a.createElement(m.a,{variant:"body2"},"N/A")),r.a.createElement(en.a,{item:!0,xs:3},c?r.a.createElement(m.a,{className:t.statusText,variant:"body2"},c):r.a.createElement(m.a,{className:t.statusText,variant:"body2"},"N/A")))),r.a.createElement(Do.a,{className:t.cardActionStyle},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:9},r.a.createElement(m.a,{className:t.createdDate,variant:"body2"},"Created at: ".concat(ea(u).format("DD MMM YYYY")))),r.a.createElement(en.a,{item:!0,xs:3,className:t.editBtnGrid},r.a.createElement(mr.a,{className:t.editBtn1},"published"!==c?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:t.editBtn},r.a.createElement("img",{src:an.a,alt:"Edit Icon",onClick:function(){a.push("/create-announcement/".concat(o))}})),r.a.createElement("span",{onClick:function(){b(!0)}},r.a.createElement(Ic.a,{fontSize:"inherit",className:t.deleteBtn}))):"")))))))},Ji=Object(I.a)((function(e){var t;return t={datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{height:"100%",width:"100%",padding:"20px",boxSizing:"border-box"},header:{textAlign:"right",paddingBottom:"10px"},cardBoxPadding:{padding:"0px"},addNew:{color:e.palette.common.deluge,cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px",paddingRight:"0px",paddingBottom:"10px"},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},searchContainer:{width:"100%",display:"flex"},search:Object(C.a)({width:"100% !important",padding:"7px 8px",backgroundColor:"white",borderRadius:"5px 0px 0px 5px"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{color:"white",backgroundColor:"#7B72AF",borderRadius:"0px 5px 5px 0px","&:hover":{backgroundColor:"#7B72AF"}},searchForm:{width:"100%",paddingBottom:"10px",boxSizing:"border-box"}},Object(C.a)(t,"searchContainer",{width:"100%",display:"flex"}),Object(C.a)(t,"search",Object(C.a)({width:"100% !important",padding:"7px 8px",backgroundColor:"white",borderRadius:"5px 0px 0px 5px"},e.breakpoints.up("sm"),{width:"auto"})),Object(C.a)(t,"searchIcon",{color:"white",backgroundColor:"#7B72AF",borderRadius:"0px 5px 5px 0px","&:hover":{backgroundColor:"#7B72AF"}}),Object(C.a)(t,"emptyView",{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}),t})),Qi=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=e.searchInput,a=e.searchView,o=e.refetch,c=Ji(),i=(Object(s.g)(),Object(n.useState)(!0)),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)([]),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(!0),j=Object(S.a)(y,2),O=j[0],C=j[1],N=localStorage.getItem("srmToken"),k=e.selectedRole,w=e.createdBy,T=function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n,r;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return C(!0),a.prev=1,n={},n=w?{selectedRole:k,currentPage:f,createdBy:w}:{selectedRole:k,currentPage:f},a.next=6,Mi.fetchSearchAnnouncements(n,N,t);case 6:200===(r=a.sent).status&&(v(r.data.data.data),r.data.data.current_page!==r.data.data.last_page?(b(f+1),u(!0)):u(!1),e.onsetRefetch(!1)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0);case 13:C(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(){return a.apply(this,arguments)}}();Object(n.useEffect)((function(){T(1)}),[a]),Object(n.useEffect)((function(){a&&o&&T(1)}),[o]);var A,_=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(1),T();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={},a=w?{selectedRole:k,currentPage:f,createdBy:w}:{selectedRole:k,currentPage:f},e.next=5,Mi.fetchSearchAnnouncements(a,N,t);case 5:200===(n=e.sent).status&&(n.data.data.current_page!==n.data.data.last_page?(v([].concat(Object(Na.a)(E),Object(Na.a)(n.data.data.data))),b(f+1)):(v([].concat(Object(Na.a)(E),Object(Na.a)(n.data.data.data))),u(!1))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return A=e.createdBy?E.map((function(t,a){return r.a.createElement(qi,{key:t.id,createdBy:e.createdBy,announcement:t,refresh:_})})):E.map((function(e,t){return r.a.createElement(Lo,{key:e.id,announcement:e})})),r.a.createElement(co.a,{dataLength:E.length,next:I,hasMore:d,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.2},O?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:c.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):E.length?null:r.a.createElement("div",{className:c.emptyView},r.a.createElement(m.a,null,"No news available")),O?null:A)})),Xi=Object(I.a)((function(e){var t;return t={datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{height:"100%",width:"100%",padding:"20px",boxSizing:"border-box"},header:{textAlign:"right",paddingBottom:"10px"},cardBoxPadding:{padding:"0px"},addNew:{color:e.palette.common.deluge,cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px",paddingRight:"0px",paddingBottom:"10px"},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},searchContainer:{width:"100%",display:"flex"},search:Object(C.a)({width:"100% !important",padding:"7px 8px",backgroundColor:"white",borderRadius:"5px 0px 0px 5px"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{color:"white",backgroundColor:"#7B72AF",borderRadius:"0px 5px 5px 0px","&:hover":{backgroundColor:"#7B72AF"}},searchForm:{width:"100%",paddingBottom:"10px",boxSizing:"border-box"}},Object(C.a)(t,"searchContainer",{width:"100%",display:"flex"}),Object(C.a)(t,"search",Object(C.a)({width:"100% !important",padding:"7px 8px",backgroundColor:"white",borderRadius:"5px 0px 0px 5px"},e.breakpoints.up("sm"),{width:"auto"})),Object(C.a)(t,"searchIcon",{color:"white",backgroundColor:"#7B72AF",borderRadius:"0px 5px 5px 0px","&:hover":{backgroundColor:"#7B72AF"}}),Object(C.a)(t,"emptyView",{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}),t})),Zi=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Xi(),a=Object(s.g)(),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(1),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)([]),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!1),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(!1),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(!0),B=Object(S.a)(I,2),D=B[0],R=B[1],L=localStorage.getItem("srmToken"),F=e.selectedRole,M=e.createdBy;Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R(!0),t.prev=1,a={},a=M?{selectedRole:F,currentPage:p,createdBy:M}:{selectedRole:F,currentPage:p},t.next=6,Mi.fetchAnnouncements(a,L);case 6:200===(n=t.sent).status&&(n.data.data.current_page===n.data.data.last_page?e&&(x([].concat(Object(Na.a)(h),Object(Na.a)(n.data.data.data))),l(!1)):e&&(x([].concat(Object(Na.a)(h),Object(Na.a)(n.data.data.data))),g(p+1))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:R(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var P,z=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x([]),R(!0),g(1),e.prev=3,t={},t=M?{selectedRole:F,currentPage:1,createdBy:M}:{selectedRole:F,currentPage:1},e.next=8,Mi.fetchAnnouncements(t,L);case 8:200===(a=e.sent).status&&(a.data.data.current_page===a.data.data.last_page?(x(a.data.data.data),l(!1)):(x(a.data.data.data),g(p+1))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:R(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},t=M?{selectedRole:F,currentPage:p,createdBy:M}:{selectedRole:F,currentPage:p},e.next=5,Mi.fetchAnnouncements(t,L);case 5:200===(a=e.sent).status&&(a.data.data.current_page!==a.data.data.last_page?(x([].concat(Object(Na.a)(h),Object(Na.a)(a.data.data.data))),g(p+1)):(x([].concat(Object(Na.a)(h),Object(Na.a)(a.data.data.data))),l(!1))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mi.createAnnouncement(L);case 3:t=e.sent,a.push("/create-announcement/".concat(t.data.news_id)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();P=e.createdBy?h.map((function(t,a){return r.a.createElement(qi,{key:t.id,createdBy:e.createdBy,announcement:t,refresh:z})})):h.map((function(e,t){return r.a.createElement(Lo,{key:e.id,announcement:e})}));return r.a.createElement("div",{className:t.sectionContainer},e.createdBy?r.a.createElement("div",{className:t.header},"teacher"===F||"admin"===F?r.a.createElement("div",{className:t.addNew,onClick:Y},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New")):""):"",r.a.createElement(mr.a,{component:"form",className:t.searchForm,onSubmit:function(e){e.preventDefault(),""!==y&&(N?_(!0):k(!0))}},r.a.createElement(mr.a,{className:t.searchContainer},r.a.createElement(Qt.a,{placeholder:"Search By News ID",type:"text",className:t.search,disableUnderline:!0,value:y,onChange:function(e){e.preventDefault();var t=e.target.value.replace(/\D/,"");j(t),""===t&&(k(!1),_(!1))}}),r.a.createElement(W.a,{type:"submit",className:t.searchIcon},r.a.createElement(Vi.a,null)))),r.a.createElement(mr.a,{className:t.cardBoxPadding},N?r.a.createElement(Qi,{searchInput:y,searchView:N,refetch:A,onsetRefetch:_,createdBy:e.createdBy}):r.a.createElement(co.a,{dataLength:h.length,next:U,hasMore:i,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.2},D?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):h.length?null:r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"No news available")),P)))})),$i=a(978),el=Object(I.a)((function(e){return{dateTimeContainer:{minWidth:"200px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"},datepicker:{}}})),tl=function(e){var t=el(),a=e.open,n=e.handleClose,o=e.publishDate,c=e.handlePublishDate,i=e.handlePublishLater;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:a,onClose:n,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,justify:"space-around"},r.a.createElement(Ai.a,{variant:"dialog",value:o,onChange:function(e){c(e.toISOString())},label:"Publish Date and Time ",minDate:new Date,format:"yyyy/MM/dd hh:mm a",InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datepicker}))))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{color:"primary",variant:"outlined",onClick:n,className:t.button},"Cancel"),r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:t.button,onClick:function(){i()}},"Publish"))))},al=Object(dt.a)((function(e){var t,a;return a={formStyle:{margin:"auto",width:"95%",backgroundColor:"white",justifyContent:"center",textAlign:"center",borderRadius:"5px"},sideMargins:{marginLeft:"20px",marginRight:"20px"},backImg:{float:"left",transform:"translateY(7px)",cursor:"pointer"},adornmentColor:{color:"rgba(0, 0, 0, 0.54)",paddingTop:"6px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0},errorColor:{color:"red"},titleText:{fontFamily:"Avenir Medium",fontize:"1.2rem",color:"#1C1C1E"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}}},Object(C.a)(a,"sideMargins",{marginLeft:"20px",marginRight:"20px"}),Object(C.a)(a,"inputBorder",{height:"50px"}),Object(C.a)(a,"datePicker",Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"})),Object(C.a)(a,"paper",{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",border:"1px solid #eaeaea",padding:e.spacing(.5),textAlign:"left"}),Object(C.a)(a,"paperShowIn",{display:"flex",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:"auto"}),Object(C.a)(a,"chip",{margin:e.spacing(.5)}),Object(C.a)(a,"paperBoxShadow",{boxShadow:"2px 2px 2px 0 #E5E5EA"}),Object(C.a)(a,"textAlignLeft",{textAlign:"left",color:"rgba(0, 0, 0, 0.54)",paddingTop:"10px"}),Object(C.a)(a,"contentCenter",{justifyContent:"center"}),Object(C.a)(a,"chips",{display:"flex",flexWrap:"wrap"}),Object(C.a)(a,"chip",{margin:2}),Object(C.a)(a,"publishBtns",{textAlign:"right",justifyContent:"right"}),Object(C.a)(a,"header",{marginTop:"20px",paddingTop:"20px"}),Object(C.a)(a,"margin",(t={marginTop:"20px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0,textTransform:"none"},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"20px"}),t)),a})),nl=Object(i.c)((function(e){return{token:e.auth.token}}))((function(e){var t,a=al(),o=Object(s.g)(),c=Object(s.i)().id,i=Object(n.useState)(!1),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(null),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)("draft"),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(null),R=Object(S.a)(D,2),L=R[0],F=R[1],P=Object(n.useState)(""),U=Object(S.a)(P,2),Y=U[0],H=U[1],G=Object(n.useState)(""),V=Object(S.a)(G,2),K=V[0],q=V[1],J=Object(n.useState)([]),Q=Object(S.a)(J,2),X=Q[0],Z=Q[1],$=Object(n.useState)([]),ee=Object(S.a)($,2),te=ee[0],ae=ee[1],ne=["All Teachers","All Parents","Select All"].concat(Object(Na.a)(Object.values(e.classState))),re=Object(Na.a)(Object.values(e.categories)),oe=Object(Na.a)(Object.values(e.grades));Object(n.useEffect)((function(){var t=!0;return function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n,r,o;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Mi.fetchDraftAnnouncement({id:c},e.token);case 3:200===(n=a.sent).status&&t&&(console.log(n),r=[],n.data.data.class_mapping&&(n.data.data.class_mapping.parents&&r.push("All Parents"),n.data.data.class_mapping.teachers&&r.push("All Teachers"),n.data.data.class_mapping.class.forEach((function(t){r.push(e.classState[t])}))),ae([].concat(r)),T(n.data.data.main_content?n.data.data.main_content:""),v(n.data.data.title?n.data.data.title:""),C(n.data.data.summary?n.data.data.summary:""),b(n.data.data.event_date),q(e.categories[n.data.data.category_id]?e.categories[n.data.data.category_id]:""),B(n.data.data.status),F(n.data.data.published_date),o=[],n.data.data.grade_group&&n.data.data.grade_group.forEach((function(t){o.push(e.grades[t])})),Z(o)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!1}}),[]);var ce=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=[],X.forEach((function(t){a.push(parseInt(Object.keys(e.grades).find((function(a){return e.grades[a]===t}))))})),console.log(X),n={class:[]},te.find((function(e){return"Select All"===e}))?(n.teachers=!0,n.parents=!0,n.class=Object(Na.a)(Object.keys(e.classState))):te.forEach((function(t){"All Parents"===t?n.parents=!0:"All Teachers"===t?n.teachers=!0:n.class.push(parseInt(Object.keys(e.classState).find((function(a){return e.classState[a]===t}))))})),t.next=9,Mi.saveAnnouncement({id:c},{title:E,summary:O,grade_group_id:a,event_date:f,main_content:w,published_to:n,status:I,category_id:parseInt(Object.keys(e.categories).find((function(t){return e.categories[t]===K})))},e.token);case 9:t.sent.status,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){return t=setInterval((function(){ce()}),1e4),function(){return clearInterval(t)}}),[E,f,w,O,X,te,K]);var ie=function(e){"title"===e.target.name?v(e.target.value):C(e.target.value)},le=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a,n,r){var i,l;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i={class:[]},l=[],X.forEach((function(t){l.push(parseInt(Object.keys(e.grades).find((function(a){return e.grades[a]===t}))))})),te.find((function(e){return"Select All"===e}))?(i.teachers=!0,i.parents=!0,i.class=Object(Na.a)(Object.keys(e.classState))):te.forEach((function(t){"All Parents"===t?i.parents=!0:"All Teachers"===t?i.teachers=!0:i.class.push(parseInt(Object.keys(e.classState).find((function(a){return e.classState[a]===t}))))})),t.next=8,Mi.publishAnnouncement({id:c},{title:E,summary:O,status:n,grade_group_id:l,event_date:f,main_content:w,published_date:a,published_to:i,media_url:r,category_id:parseInt(Object.keys(e.categories).find((function(t){return e.categories[t]===K})))},e.token);case 8:200===t.sent.status&&o.replace("/news"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a,n){return t.apply(this,arguments)}}(),se=function(){var e=Object(Ca.a)(Sa.a.mark((function e(a){var n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),clearInterval(t),(n=document.createElement("div")).innerHTML=w,r=null,n.getElementsByTagName("img").length>0&&(r=n.getElementsByTagName("img")[0].src),"published",le((new Date).toISOString(),"published",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:a.formStyle,onSubmit:se},r.a.createElement(mr.a,{className:"".concat(a.header," ").concat(a.sideMargins)},r.a.createElement("div",null,r.a.createElement("img",{src:Yc.a,alt:"Back",className:a.backImg,onClick:Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:o.push("/news");case 3:case"end":return e.stop()}}),e)})))}),r.a.createElement(m.a,{variant:"h5",className:"".concat(a.themeColor," ").concat(a.titleText)},"Create Announcement"))),Y?r.a.createElement(mr.a,{className:a.margin,pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(a.errorColor)},Y))):"",r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Xo.a,{label:"Title",id:"title",name:"title",className:a.inputBorder,value:E,onChange:ie,required:!0}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Xo.a,{id:"summary",name:"summary",label:"Summary",className:a.inputBorder,value:O,onChange:ie,required:!0}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Categories"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:K,required:!0,onChange:function(e){q(e.target.value)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:a.chips},r.a.createElement(Pc.a,{key:e,label:e,className:a.chip}))}},re.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Select grade"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:X,multiple:!0,onChange:function(e){console.log(e.target.value),Z(e.target.value)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:a.chips},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){Z(X.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:a.chip})})))}},oe.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Select classes"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:te,multiple:!0,required:!0,onChange:function(e){ae(e.target.value)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:a.chips},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){ae(te.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:a.chip})})))}},ne.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:a.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"eventDate",label:"Event Date",variant:"dialog",minDate:new Date,format:"MM/dd/yyyy",value:f,onChange:function(e){b(e)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:a.datePicker}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{className:a.fieldStyle},r.a.createElement(m.a,{className:a.textAlignLeft},"Description"),r.a.createElement(Gc,{handleDescription:function(e){T(e)},value:w,token:e.token}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{container:!0,className:a.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:8,xs:12,className:a.publishBtns},r.a.createElement(z.a,{id:"publishLaterBtn",variant:"contained",onClick:function(e){0===te.length||""===E||""===O?H("Fill All Data !"):u(!0)},className:"".concat(a.fieldStyle," ","publishBtn"," ","publishLaterBtn"),disableElevation:!0},"Publish Later"),r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(a.fieldStyle," ","publishBtn"),color:"primary",type:"submit",disableElevation:!0},"Publish Now")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))),r.a.createElement("br",null),r.a.createElement("br",null),d?r.a.createElement(tl,{open:d,publishDate:L,handleClose:function(){u(!1)},handlePublishDate:F,handlePublishLater:function(){clearInterval(t);var e=document.createElement("div");e.innerHTML=w;var a=null;e.getElementsByTagName("img").length>0&&(a=e.getElementsByTagName("img")[0].src);le(L,"active",a)}}):"")})),rl=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{display:"none"}},content:{flexGrow:"1",display:"flex",flexDirection:"column",minHeight:"0",padding:"0 20px 20px 20px"},panel:{flexGrow:"1",overflow:"auto",minHeight:"100%",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}}}}));function ol(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(en.a,{p:4},t))}function cl(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var il=Object(i.c)((function(e){return{token:e.auth.token,selectedRole:e.auth.selectedRole,school_id:e.auth.userInfo.user_classes?e.auth.userInfo.user_classes.school_id:null}}))((function(e){var t=rl(),a=Object(s.h)(),o=Object(s.i)().id,c=Object(n.useState)(null),i=Object(S.a)(c,2),l=i[0],d=i[1],m=Object(n.useState)(null),u=Object(S.a)(m,2),p=u[0],g=u[1],f=Object(n.useState)(null),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(null),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(0),C=Object(S.a)(O,2),k=C[0],w=C[1];Object(n.useEffect)((function(){var t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r,o,c,i;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,Mi.fetchClasses(e.token);case 3:return a=t.sent,n=[],a.data.data.forEach((function(e){n[e.id]=e.class_name})),t.next=8,Mi.fetchCategories(e.token,"news");case 8:return r=t.sent,o={},r.data.data.forEach((function(e){o[e.id]=e.category_name})),t.next=13,Mi.fetchGrades(e.token,{school_id:e.school_id});case 13:c=t.sent,i={},c.data.data.forEach((function(e){i[e.id]=e.name})),g(Object(N.a)({},o)),d(Object(N.a)({},n)),x(Object(N.a)({},i));case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();a.pathname==="/create-announcement/".concat(o)&&t()}),[]),Object(n.useEffect)((function(){null!==l&&null!=p&&j(!1)}),[l,p]);return r.a.createElement("div",{className:t.container,id:"scrollable"},"parent"===e.selectedRole||"student"===e.selectedRole?r.a.createElement(s.a,{to:cn}):"","/news"===a.pathname?r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{position:"sticky",className:t.tabBar},r.a.createElement(ro.a,{centered:!0,value:k,onChange:function(e,t){w(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"By me"},cl(0),{className:"".concat(t.eventsTab," ").concat(t.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"For me"},cl(1),{className:t.eventsTab})))),Object(Na.a)(Array(2).keys()).map((function(e){return r.a.createElement(ol,{value:k,index:e,key:e},r.a.createElement(Zi,{createdBy:!e}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}))):a.pathname==="/create-announcement/".concat(o)&&!1===y?r.a.createElement(en.a,{p:3},r.a.createElement(nl,{classState:l,categories:p,grades:h}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)):"",r.a.createElement(Tr,{open:y}))})),ll=a(212),sl=a.n(ll),dl=Object(I.a)((function(e){return{buttonContainer:{width:"100%",padding:"3%"},header:{display:"flex"},cardHeader:{marginLeft:"4px",padding:"3px"},button:{width:"94%",textTransform:"none"},card:{boxShadow:"none",borderRadius:"10px",padding:"15px"},cardContent:{padding:"0px !important",textAlign:"left",font:"normal normal 300 14px/19px Avenir",letterSpacing:"0px",color:"#1C1C1E",opacity:"1"},cardContent_temp:{padding:"0px !important",textAlign:"left",font:"normal normal 300 14px/19px Avenir",letterSpacing:"0px",color:"#1C1C1E",opacity:"1",height:"150px"},profileDiv:{marginTop:"32px",paddingLeft:"3%",paddingRight:"3%",paddingBottom:"3%"},iconStyle:{width:"15px",height:"16px",transform:"translateY(4px)",padding:"3px"},profileTitle:{display:"inline",marginLeft:"5px",fontWeight:700,textTransform:"uppercase"},inp:{marginTop:"15px"},formControl:{marginTop:"15px"},side1:{float:"left",width:"20%",marginTop:"6%",marginLeft:"15%",transform:"translateY(-50px)"},side2:{float:"right",width:"45%",textAlign:"center"},vertical:{height:"100px",left:"50%",top:"110px",borderLeft:"2px solid grey",position:"absolute"},snack:{top:"60%",width:"400px"}}}));function ml(e){return r.a.createElement(te.a,Object.assign({},e,{direction:"up"}))}var ul=function(e){var t=dl();console.log("notsub ");var a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(""),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(""),R=Object(S.a)(D,2),L=R[0],F=R[1],P=Object(n.useState)(""),U=Object(S.a)(P,2),Y=U[0],H=U[1],G=r.a.useState(new Date),V=Object(S.a)(G,2),K=V[0],q=V[1],J=r.a.useState(new Date),Q=Object(S.a)(J,2),X=Q[0],Z=Q[1],$=Object(n.useState)(""),ee=Object(S.a)($,2),te=ee[0],ne=ee[1],re=r.a.useState(!1),oe=Object(S.a)(re,2),ce=oe[0],ie=oe[1];return r.a.createElement(r.a.Fragment,null,ce?r.a.createElement("div",null,r.a.createElement(ae.a,{open:ce,onClose:function(){ie((function(e){return!e}))},message:"Request has been submitted. Ticket #382748. School transportation department will get back to you with next steps. Thank you!",TransitionComponent:ml,key:ml,autoHideDuration:3e3,className:t.snack})):null,c?d?r.a.createElement("div",null,r.a.createElement("div",{className:t.profileDiv},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:sl.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"PERIOD"))),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement("div",null,r.a.createElement("div",{className:t.side1},r.a.createElement(dr.a,{fullWidth:!0,className:t.formControl},r.a.createElement(Wr.a,null,"Months"),r.a.createElement(Gr.a,{value:te,onChange:function(e){ne(e.target.value)}},r.a.createElement(M.a,{value:"1 Months"},"1 Months"),r.a.createElement(M.a,{value:"3 Months"},"3 Months"),r.a.createElement(M.a,{value:"6 Months"},"6 Months")))),r.a.createElement("div",{className:t.vertical}),r.a.createElement("div",{className:t.side2},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement($i.a,{margin:"normal",variant:"dialog",label:"From",format:"MM/dd/yyyy",value:K,onChange:function(e){q(e),console.log(e)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))}})),r.a.createElement("br",null),r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement($i.a,{margin:"normal",variant:"dialog",label:"To",format:"MM/dd/yyyy",value:X,onChange:function(e){Z(e),console.log(e)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))}}))))))),r.a.createElement("div",{className:t.profileDiv},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:sl.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"COMMENTS"))),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(Xo.a,{fullWidth:!0,onChange:function(e){H(e.target.value)},value:Y,label:"Additional Comments"})))),r.a.createElement("div",{className:t.buttonContainer},r.a.createElement(z.a,{color:"primary",variant:"contained",className:t.button,onClick:function(){console.log(f),console.log(E),console.log(O),console.log(w),console.log(I),console.log(L),console.log(te),console.log(K),console.log(X),console.log(Y),ie((function(e){return!e})),console.log(ce),e.handle(!0)}},"Next"))):r.a.createElement("div",null,r.a.createElement("div",{className:t.profileDiv},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:sl.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"PICK-UP ADDRESS"))),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(Xo.a,{fullWidth:!0,onChange:function(e){b(e.target.value)},value:f,label:"House No / Apartment No"}),r.a.createElement(Xo.a,{fullWidth:!0,className:t.inp,onChange:function(e){v(e.target.value)},value:E,label:"Street, Area Name"}),r.a.createElement(Xo.a,{fullWidth:!0,className:t.inp,onChange:function(e){C(e.target.value)},value:O,label:"Landmark"}),r.a.createElement(dr.a,{fullWidth:!0,className:t.formControl},r.a.createElement(Wr.a,null,"City"),r.a.createElement(Gr.a,{value:I,onChange:function(e){B(e.target.value)}},r.a.createElement(M.a,{value:"Bangalore"},"Bangalore"),r.a.createElement(M.a,{value:"Mumbai"},"Mumbai"),r.a.createElement(M.a,{value:"Pune"},"Pune"))),r.a.createElement(dr.a,{fullWidth:!0,className:t.formControl},r.a.createElement(Wr.a,null,"State"),r.a.createElement(Gr.a,{value:L,onChange:function(e){F(e.target.value)}},r.a.createElement(M.a,{value:"Maharashtra"},"Maharashtra"),r.a.createElement(M.a,{value:"Rajasthan"},"Rajasthan"),r.a.createElement(M.a,{value:"Karnataka"},"Karnataka"))),r.a.createElement(Xo.a,{fullWidth:!0,className:t.inp,onChange:function(e){T(e.target.value)},value:w,label:"Pincode"})))),r.a.createElement("div",{className:t.buttonContainer},r.a.createElement(z.a,{color:"primary",variant:"contained",className:t.button,onClick:function(){u(!0)}},"Next"))):r.a.createElement("div",null,r.a.createElement("div",{className:t.profileDiv},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent_temp})),r.a.createElement("br",null),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},"Description on specific schools transportation system. This is where we need content writer\u2019s help. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum"))),r.a.createElement("div",{className:t.buttonContainer},r.a.createElement(z.a,{color:"primary",variant:"contained",className:t.button,onClick:function(){i(!0)}},"Subscribe"))))},pl=a(244),gl=a.n(pl),fl=a(535),bl=a.n(fl),hl=a(171),xl=a.n(hl),El=a(537),vl=a.n(El),yl=a(572),jl=Object(I.a)((function(e){return{container:{width:"95%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"3%",overflowY:"auto"},backImg:{float:"left",transform:"translateY(7px)",cursor:"pointer",width:"15px"},tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},ui_back:{width:"30px"},ui_tabs:{backgroundColor:"purple"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}},formControl:{marginTop:"15px"}}}));function Ol(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Sl=Object(i.c)((function(e){return{}}))((function(e){var t=jl(),a=Object(n.useState)(0),o=Object(S.a)(a,2),c=o[0],i=o[1],l={center:{lat:59.95,lng:30.33},zoom:11};return r.a.createElement("div",{className:t.container},r.a.createElement(T.a,{position:"sticky",className:t.tabBar},r.a.createElement(ro.a,{centered:!0,value:c,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement("div",{className:t.ui_back},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){e.change_mode(!1)}})),r.a.createElement(oo.a,Object.assign({label:"Add Stop"},Ol(0),{className:"".concat(t.eventsTab," ").concat(t.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"Change Route"},Ol(1),{className:t.eventsTab})))),r.a.createElement(dr.a,{fullWidth:!0,className:t.formControl},r.a.createElement(Wr.a,null,"Search"),r.a.createElement(Qt.a,{id:"standard-adornment-password",endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle password visibility"},r.a.createElement(vl.a,null)))})),r.a.createElement(yl.a,{bootstrapURLKeys:{key:"AIzaSyDOT2Bw7_GZKku97EQR42lC-x4xB5q8xpQ"},defaultCenter:l.center,defaultZoom:l.zoom}))})),Cl=a(538),Nl=a.n(Cl),kl=Object(I.a)((function(e){return{profileDiv:{marginTop:"32px",paddingLeft:"2%",paddingRight:"2%",paddingBottom:"2%"},profileDiv_1:{marginTop:"0px",paddingLeft:"2%",paddingRight:"2%",paddingBottom:"2%"},header:{display:"flex"},cardHeader:{marginLeft:"4px",padding:"3px"},profileTitle:{font:"normal normal 900 14px/19px Avenir",display:"inline",marginLeft:"5px",fontWeight:700,textTransform:"uppercase"},iconStyle:{width:"17px",height:"19px",transform:"translateY(4px)",padding:"3px"},iconStyle_m:{width:"22px",height:"22px",transform:"translateY(4px)",paddingBottom:"5px"},iconStyle_1:{width:"11px",height:"11px",transform:"translateY(4px)",padding:"3px"},profile:{},card:{boxShadow:"none",borderRadius:"10px"},cardContent:{padding:"0px !important"},card1_content1:{top:"145px",left:"24px",width:"81px",height:"16px",textAlign:"left",font:" normal normal normal 14px/20px Avenir",letterSpacing:"0px",color:"#2C2C2E",opacity:"1",fontWeight:650,padding:"1px ",paddingBottom:"2px"},card1_content2_part_1:{top:"0px",left:"0px",width:"33px",height:"19px",textAlign:"left",font:" normal normal normal 14px/20px Avenir",letterSpacing:"0px",color:"#8E8E93",padding:"1px "},card1_content2_part_2:{width:"52px",height:"19px",color:"#1C1C1E",textAlign:"left",font:"normal normal normal 14px/20px Avenir",letterSpacing:"0px",padding:"1px ",fontWeight:"600"},card_left:{width:"80%",float:"left"},card_left_1:{width:"80%",float:"left"},pad:{padding:"10px"},card_right:{width:"20%",float:"right",textAlign:"center"},card_right_1:{width:"20%",float:"right",textAlign:"center"},card_action:{width:"100%",height:"80px",background:"#CAC7DF 0% 0% no-repeat padding-box",borderRadius:"0px 10px 10px 0px",opacity:"1"},card_action_content:{cursor:"pointer",fontWeight:500,color:"#1C1C1E",textAlign:"center",font:"normal normal normal 14px/14px Avenir",letterSpacing:"0px",opacity:"1"},profilePictureDiv:{width:"50px",height:"50px",borderRadius:"50%",margin:"auto",border:"1px solid"},buttonContainer:{width:"100%",padding:"3%"},button:{width:"94%",textTransform:"none"},card2_content1:{fontWeight:"700",textAlign:"left",font:" normal normal normal 14px/20px Avenir",letterSpacing:"0px",color:"#2C2C2E",opacity:"1"},card2_content2:{fontWeight:"550",color:"#1C1C1E",textAlign:"left",font:"normal normal normal 14px/20px Avenir",letterSpacing:"0px",opacity:"1",width:"164px",height:"40px"},card3_content1:{fontWeight:"700",width:"100%",height:"100%",textAlign:"left",font:" normal normal normal 14px/20px Avenir",letterSpacing:"0px",color:"#2C2C2E",opacity:"1"},card3_content2:{fontWeight:"550",top:"441px",left:"37px",width:"100%",height:"17px",color:"#1C1C1E",textAlign:"left",font:"normal normal 300 14px/20px Avenir",letterSpacing:"0px",opacity:"1"}}})),wl=function(e){var t=kl(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=function(e){console.log(e),i(e)};return r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",null,r.a.createElement(Sl,{change_mode:l})):r.a.createElement("div",null,r.a.createElement("div",{className:t.profileDiv},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:bl.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"BUS ROUTE"))),r.a.createElement("div",{className:t.profile},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement("div",{className:t.card_left},r.a.createElement("div",{className:t.pad},r.a.createElement("div",{className:t.card1_content1},"Route # 349"),r.a.createElement("div",null,r.a.createElement("span",{className:t.card1_content2_part_1},"Start:"," "),r.a.createElement("span",{className:t.card1_content2_part_2}," ","Arekere")),r.a.createElement("div",null,r.a.createElement("span",{className:t.card1_content2_part_1},"End:"),r.a.createElement("span",{className:t.card1_content2_part_2}," ","Capital Public School")))),r.a.createElement("div",{className:t.card_right},r.a.createElement("div",{className:t.card_action},r.a.createElement("div",{className:t.card_action_content,onClick:function(){return l("modify")}},r.a.createElement("br",null),r.a.createElement("img",{src:xl.a,className:t.iconStyle_m}),r.a.createElement("br",null),"Modify",r.a.createElement("br",null)," Route"))))))),r.a.createElement("div",{className:t.profileDiv_1},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:gl.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"Bus details"))),r.a.createElement("div",{className:t.profile},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement("div",{className:t.card_left},r.a.createElement("div",{className:t.pad},r.a.createElement("div",{className:t.card2_content1},"KA 04 4837"),r.a.createElement("div",{className:t.card2_content2},"Tata motors starbus skool, 26 seater, AC Diesel Bus"))),r.a.createElement("div",{className:t.card_right},r.a.createElement("div",{className:t.card_action},r.a.createElement("div",{className:t.card_action_content,onClick:function(){return l("track")}},r.a.createElement("br",null),r.a.createElement(Nl.a,{className:t.iconStyle_m}),r.a.createElement("br",null),"Track ",r.a.createElement("br",null),"Bus"))))))),r.a.createElement("div",{className:t.profileDiv_1},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:sl.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"DRIVER details"))),r.a.createElement("div",{className:t.profile},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement("div",{className:t.card_left_1},r.a.createElement("div",{className:t.pad},r.a.createElement("div",{className:t.card3_content1},"Manjunath Kumar 4.8"," ",r.a.createElement("img",{src:gl.a,className:t.iconStyle_1})," "),r.a.createElement("div",{className:t.card3_content2},r.a.createElement("img",{src:gl.a,className:t.iconStyle_1})," ","Arekere, Bengaluru 76"),r.a.createElement("div",{className:t.card3_content2}," ",r.a.createElement("img",{src:gl.a,className:t.iconStyle_1})," ","+91 93837 48273"))),r.a.createElement("div",{className:t.card_right_1},r.a.createElement("div",{className:t.pad},r.a.createElement("div",{className:t.profilePictureDiv,style:{backgroundImage:"url(https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}))))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:t.buttonContainer},r.a.createElement(z.a,{color:"primary",variant:"contained",className:t.button,onClick:function(){return e.handle(!1)}},"Unsubscribe"))))},Tl=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto"}}})),Al=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Tl(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1];console.log(e.selectedRole);var l=function(e){i(e)};return r.a.createElement("div",{className:t.container},"teacher"===e.selectedRole||"parent"===e.selectedRole?c?r.a.createElement(wl,{handle:l}):r.a.createElement(ul,{handle:l}):r.a.createElement(s.a,{to:cn}),r.a.createElement("div",null,r.a.createElement("div",null)))})),_l=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"createHomework",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/homework"),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"saveHomework",value:function(e,t,a){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/homework/").concat(e.id,"?_method=PUT"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(a)}})}},{key:"deleteHomework",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/homework/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"publishHomework",value:function(e,t,a){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/homework/").concat(e.id,"?_method=PUT"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}},{key:"fetchHomework",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homework"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:e})}},{key:"fetchStudentSubmitted",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homeworkSubmission"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:e})}},{key:"saveHomeworkSubmission",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/homeworkSubmission"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e)}})}},{key:"saveFeedback",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/teacher_feedback"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e)}})}},{key:"fetchSingleHomework",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homework/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},params:t})}},{key:"fetchDraftHomework",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homework/").concat(e.id),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchSeenHomework",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homework/").concat(e.id,"?get_seen=").concat(e.seen_by),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"getSubjectsByClass",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/subjectsByClass?class_id=").concat(t),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchClasses",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/classes"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"deleteHomeworkFile",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/homeworkFileDelete/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}}]),e}()),Il=a(290),Bl=a.n(Il),Dl=Object(I.a)((function(e){var t;return t={typography:{margin:"16px 0"},title:{cursor:"pointer",wordBreak:"break-word"},pb20:{paddingBottom:"20px"},editBtn:{marginLeft:"auto",cursor:"pointer"},infoBtn:{cursor:"pointer",width:"30px",height:"30px"},labelText:{fontStyle:"normal",color:"#8E8E93"}},Object(C.a)(t,"editBtn",{width:"17px",height:"17px",paddingLeft:"10px",transform:"translateY(4px)",cursor:"pointer"}),Object(C.a)(t,"textAlignRight",{textAlign:"right",color:"#AEAEB2"}),Object(C.a)(t,"imgGrid",{position:"relative"}),Object(C.a)(t,"imgDiv",{bottom:"0px",right:"35px",position:"absolute"}),Object(C.a)(t,"imgDiv_del",{bottom:0,right:0,position:"absolute",transform:"translateY(7px)",cursor:"pointer",color:"#b7b7bb","& svg":{width:"25px",height:"23px"}}),t})),Rl=function(e){var t=Dl(),a=Object(s.g)(),n=r.a.useState(!1),o=Object(S.a)(n,2),c=o[0],i=o[1],l=JSON.parse(localStorage.getItem("srmSelectedRole")),d=e.homework,u=d.id,p=d.status,g=d.title,f=(d.main_content,d.submission_date,d.created_at),b=d.subject,h=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("srmToken"),e.prev=1,console.log(u,t),e.next=5,_l.deleteHomework(u,t);case 5:n=e.sent,console.log(n),200===n.status?(console.log("Successfully Deleted"),a.push("/assignment")):console.log("Failed to delete"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:c,handleClose:function(){i(!1)},onhandleDelete:function(){h(),i(!1)}}),r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:t.cardContainer},r.a.createElement(Xc,null,r.a.createElement(en.a,{container:!0,className:t.pb20},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",null,g||b?r.a.createElement(m.a,{variant:"subtitle1",className:t.title,onClick:function(){return a.push({pathname:"".concat(un).concat(nn),state:{homework_id:e.homework.id}})}},g||null," ",g&&b?"-":null," ",b?b.name:null):r.a.createElement(m.a,{variant:"subtitle1",className:t.title,onClick:function(){return a.push({pathname:"".concat(un).concat(nn),state:{homework_id:e.homework.id}})}},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight),variant:"subtitle2"},"Created at: ",ea(f).format("DD MMM YY")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement(m.a,{className:"".concat(t.labelText),variant:"subtitle2"},"Status : ",r.a.createElement("span",{className:"".concat(t.span)},p))),r.a.createElement(en.a,{item:!0,xs:4,className:t.imgGrid},"published"===p||"admin"!==l&&"teacher"!==l?r.a.createElement("div",{className:"".concat(t.imgDiv_del," ").concat(t.textAlignRight),onClick:function(){return a.push({pathname:"".concat(un,"/").concat(u),state:{homework_id:u}})}},r.a.createElement("img",{src:Bl.a,className:t.infoBtn})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(t.imgDiv," ").concat(t.textAlignRight)},r.a.createElement("img",{src:an.a,className:t.editBtn,onClick:function(){a.push("/create-homework/".concat(u))}})),r.a.createElement("div",{className:"".concat(t.imgDiv_del),onClick:function(){i(!0)}},r.a.createElement(Ic.a,{fontSize:"small"}))))))))},Ll=Object(I.a)((function(e){return{datePicker:{width:"25%",paddingRight:"10px"},style:{fontSize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"}}})),Fl=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Ll(),a=Object(s.g)(),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(1),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)([]),v=Object(S.a)(E,2),y=v[0],j=v[1];JSON.parse(localStorage.getItem("srmSelectedRole"));Object(n.useEffect)((function(){var t=!0;return function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n,r,o;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=localStorage.getItem("srmToken"),r=e.selectedRole,a.next=5,_l.fetchHomework({current_role:r,page:p,created_by:"teacher"===r||"admin"===r},n);case 5:200===(o=a.sent).status&&(o.data.data.current_page===o.data.data.last_page?t&&(j([].concat(Object(Na.a)(y),Object(Na.a)(o.data.data.data))),0===o.data.data.data.length&&x(!0),l(!1)):t&&(j([].concat(Object(Na.a)(y),Object(Na.a)(o.data.data.data))),g(p+1))),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!1}}),[]);var O=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),n=e.selectedRole,t.next=5,_l.fetchHomework({current_role:n,page:p,created_by:"teacher"===n||"admin"===n},a);case 5:200===(r=t.sent).status&&(r.data.data.current_page!==r.data.data.last_page?(j([].concat(Object(Na.a)(y),Object(Na.a)(r.data.data.data))),g(p+1)):(j([].concat(Object(Na.a)(y),Object(Na.a)(r.data.data.data))),l(!1))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),C=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,_l.createHomework(t);case 4:n=e.sent,console.log("response :>> ",n),a.push("/create-homework/".concat(n.data.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),N=y.map((function(e,t){return r.a.createElement(Rl,{key:e.id,homework:e})}));return r.a.createElement(Kc,null,r.a.createElement(ni,null,"Assignment"),r.a.createElement(ti,{add:C}),r.a.createElement(oi,{data:y,onScroll:O,hasMore:i},N),h?r.a.createElement(m.a,{variant:"body1",color:"primary",className:t.style},"Click on new button to create homework"):"")})),Ml=Object(dt.a)((function(e){var t,a;return a={adornmentColor:{color:"rgba(0, 0, 0, 0.54)"},errorMsg:{color:"red",textAlign:"center"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px"},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),paper:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",border:"1px solid ".concat(e.palette.common.deluge),padding:e.spacing(.5),margin:"auto"},showIn:{paddingTop:"5px"},paperShowIn:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:"auto"},chip:{margin:e.spacing(.5)},paperBoxShadow:{boxShadow:"2px 2px 2px 0 #E5E5EA"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},contentCenter:{justifyContent:"left"},chips:{display:"flex",flexWrap:"wrap"}},Object(C.a)(a,"chip",{margin:2}),Object(C.a)(a,"publishBtns",{textAlign:"right",justifyContent:"right"}),Object(C.a)(a,"sideMarginright",{marginRight:"50px"}),Object(C.a)(a,"margin",(t={marginTop:"20px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"20px"}),t)),a})),Pl=function(e){var t=Ml(),a=Object(s.g)(),o=Object(s.i)().id,c=Object(n.useState)(!0),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(!1),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(""),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)([]),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(""),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)(Re()),D=Object(S.a)(B,2),R=D[0],L=D[1],F=Object(n.useState)(new Date),M=Object(S.a)(F,2),P=M[0],z=M[1],U=Object(n.useState)(""),Y=Object(S.a)(U,2),H=Y[0],G=Y[1],V=Object(n.useState)([]),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)(!0),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)(""),te=Object(S.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),oe=Object(S.a)(re,2),ce=oe[0],ie=oe[1],le=Object(n.useState)(!0),se=Object(S.a)(le,2),de=se[0],me=se[1],ue=Object(n.useState)("draft"),pe=Object(S.a)(ue,2),ge=pe[0],fe=pe[1],be=Object(n.useState)([]),he=Object(S.a)(be,2),xe=he[0],Ee=he[1],ve=Object(n.useState)(!1),ye=Object(S.a)(ve,2),je=ye[0],Oe=ye[1],Se=Object(n.useState)(""),Ce=Object(S.a)(Se,2),Ne=Ce[0],ke=Ce[1],we=Object(n.useState)(""),Te=Object(S.a)(we,2),Ae=Te[0],_e=Te[1],Ie=localStorage.getItem("srmToken"),Be=JSON.parse(localStorage.getItem("srmUserInfo"));Object(n.useEffect)((function(){De()}),[o]),Object(n.useEffect)((function(){var e=setInterval((function(){Me({status:ge,date:P,isBack:!1})}),1e4);return function(){return clearInterval(e)}}),[x,ae,H,k,j,ge,P,R]);var De=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,_l.fetchDraftHomework({id:o},Ie);case 4:200===(t=e.sent).status&&(a=t.data.data.homework,ne(a.class_mapping[0]?a.class_mapping[0]:""),G(a.subject_id?a.subject_id:""),O(a.main_content?a.main_content:""),E(a.title?a.title:""),L(a.submission_date?a.submission_date:Re()),z(a.published_date?a.published_date:null),fe(a.status?a.status:"draft"),Ee(a.teacher_document?a.teacher_document:[])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:d(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();function Re(){var e=new Date;return 4===e.getDay()?ta()(e).add(4,"days"):5===e.getDay()?ta()(e).add(3,"days"):ta()(e).add(2,"days")}Object(n.useEffect)((function(){Le()}),[]),Object(n.useEffect)((function(){""!==ae&&Fe()}),[ae]);var Le=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me(!0),e.prev=1,e.next=4,_l.fetchClasses(Ie);case 4:200===(t=e.sent).status&&(console.log(t.data),ie(t.data.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:me(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.prev=1,e.next=4,_l.getSubjectsByClass(Ie,ae);case 4:200===(t=e.sent).status&&J(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:$(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var n,r,c,i,l,s;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in n=t.status,r=t.date,(c=t.isBack)&&f(!0),e.prev=2,i=new FormData,k)i.append("upload_document[".concat(l,"]"),k[l]);return i.append("title",x),i.append("main_content",j),i.append("published_to",ae),i.append("subject_id",H),i.append("school_id",Be.user_classes.school_id),i.append("status",n),("published"===n&&r||"active"===n&&r)&&(i.append("published_date",P),i.append("submission_date",R)),e.next=14,_l.saveHomework({id:o},i,Ie);case 14:if(s=e.sent,console.log(s),200!==s.status){e.next=25;break}if(console.log("Saved"),"failure"!==s.data.status){e.next=25;break}return ke("warning"),_e(s.data.message),Oe(!0),G(""),f(!1),e.abrupt("return");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(2),console.log(e.t0);case 30:c&&(f(!1),a.push("/assignment"));case 31:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),ze()&&(a=(new Date).toISOString(),fe("published"),z(a),Me({status:"published",date:a,isBack:!0}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){return ta()(R).isAfter(new Date)?!(""===x||null===R||""===j&&k.length<1)||(I("Fill All Data !"),!1):(I("Check submission date"),!1)},Ue=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_l.deleteHomeworkFile(t,Ie);case 3:200===e.sent.status&&(ke("success"),_e("File Deleted Successfully"),Oe(!0),Ee(xe.filter((function(e){return e.id!==t})))),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),ke("error"),_e("Something Went Wrong, While Deleting File !! "),Oe(!0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Kc,null,l?r.a.createElement(Tr,{open:!0}):null,r.a.createElement(Jc,null,r.a.createElement("form",{onSubmit:Pe},r.a.createElement($c,{handleBack:function(){Me({status:ge,date:P,isBack:!0})},title:"Create Homework"}),_?r.a.createElement(mr.a,{className:t.margin,pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(t.errorMsg)},_))):"",r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"title",name:"title",className:t.inputBorder,value:x,onChange:function(e){"title"===e.target.name&&E(e.target.value)},required:!0,label:"Title"}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement(Ai.a,{id:"submission_date",label:"Submission Date",variant:"dialog",minDate:new Date,format:"yyyy/MM/dd hh:mm a",value:R,onChange:function(e){L(e)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker}))))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,{labelId:"class-label"},"Select class"),r.a.createElement(li,{data:ce,loading:de,labelId:"class-label",onChange:function(e){G(""),ne(e)},value:ae}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,{labelId:"subject-label"},"Select subject"),r.a.createElement(li,{data:q,loading:Z,labelId:"subject-label",onChange:function(e){G(e)},required:!0,value:H}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(en.a,{className:t.fieldStyle},r.a.createElement(m.a,{className:t.textAlignLeft},"Questions"),r.a.createElement(Gc,{handleDescription:function(e){O(e)},value:j,token:Ie}))),r.a.createElement(hi,{handleChange:function(e){console.log(e),w(e)}}),xe.length>0&&xe?r.a.createElement(Ni,{data:xe,handleDelete:Ue}):null,r.a.createElement(mr.a,{className:t.margin},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,xs:12,className:t.publishBtns},r.a.createElement(Bi,{disabled:g,validation:ze,publishDate:P,handlePublishDate:z,handlePublishLater:function(){fe("active"),Me({status:"active",date:P,isBack:!0})}}),r.a.createElement(Di,{disabled:g})))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ci,{openSnackbar:je,onOpenSnackBar:Oe,status:Ne,msg:Ae}))},zl=Object(I.a)((function(e){return{typography:{margin:"16px 0"},title:{cursor:"pointer"},pb20:{paddingBottom:"20px"},duedate:{textAlign:"right",color:f},status:{width:"100%",textAlign:"right"}}})),Ul=function(e){var t=zl(),a=Object(s.g)(),n=e.homework,o=n.title,c=n.submission_date,i=n.submission_status,l=n.subject;return r.a.createElement(r.a.Fragment,null,r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:t.cardContainer},r.a.createElement(Xc,null,r.a.createElement(en.a,{container:!0,className:t.pb20},r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement("span",null,o||l?r.a.createElement(m.a,{variant:"subtitle1",className:t.title,onClick:function(){return a.push({pathname:"".concat(un).concat(nn),state:{homework_id:e.homework.id}})}},o||null," ",o&&l?"-":null," ",l?l.name:null):r.a.createElement(m.a,{variant:"subtitle1",className:t.title,onClick:function(){return a.push({pathname:"".concat(un).concat(nn),state:{homework_id:e.homework.id}})}},"N/A"))),r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement(m.a,{className:"".concat(t.duedate),variant:"h6"},"Due Date: ",ea(c).format("DD/MM/YY hh:mm A")))),r.a.createElement(m.a,{variant:"subtitle2",className:t.status,style:{color:"pending"===i?h:p}},i))))},Yl=Object(I.a)((function(e){return{datePicker:{width:"25%",paddingRight:"10px"},style:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"}}})),Hl=function(){Yl(),Object(s.g)();var e=Object(n.useState)(!0),t=Object(S.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(1),i=Object(S.a)(c,2),l=i[0],d=i[1],m=Object(n.useState)(!1),u=Object(S.a)(m,2),p=u[0],g=u[1],f=Object(n.useState)([]),b=Object(S.a)(f,2),h=b[0],x=b[1],E=JSON.parse(localStorage.getItem("srmSelectedRole")),v=localStorage.getItem("srmToken");"parent"===E&&(v=localStorage.getItem("srmSelected_Child_token")),Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_l.fetchHomework({current_role:E,page:l},v);case 3:200===(a=t.sent).status&&(a.data.data.current_page===a.data.data.last_page?e&&(x([].concat(Object(Na.a)(h),Object(Na.a)(a.data.data.data))),0===a.data.data.data.length&&g(!0),o(!1)):e&&(x([].concat(Object(Na.a)(h),Object(Na.a)(a.data.data.data))),d(l+1))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var y=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_l.fetchHomework({current_role:E,page:l},v);case 3:200===(t=e.sent).status&&(t.data.data.current_page!==t.data.data.last_page?(x([].concat(Object(Na.a)(h),Object(Na.a)(t.data.data.data))),d(l+1)):(x([].concat(Object(Na.a)(h),Object(Na.a)(t.data.data.data))),o(!1))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),j=h.map((function(e,t){return r.a.createElement(Ul,{key:e.id,homework:e})}));return r.a.createElement(Kc,null,r.a.createElement(ni,null,"Assignment"),r.a.createElement(oi,{data:h,onScroll:y,hasMore:a},j),p?r.a.createElement(di,null,"No homework available"):"")},Wl=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{display:"none"}},content:{flexGrow:"1",display:"flex",flexDirection:"column",minHeight:"0",padding:"0 20px 20px 20px"},studentDiv:{width:"95%",margin:"auto"},panel:{flexGrow:"1",overflow:"auto",minHeight:"100%",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}}})),Gl=Object(i.c)((function(e){return{token:e.auth.token,selectedRole:e.auth.selectedRole}}))((function(e){var t=Wl(),a=Object(s.h)(),n=Object(s.i)().id,o=e.selectedRole;return r.a.createElement("div",{className:t.container,id:"scrollable"},"/assignment"===a.pathname?"student"===o||"parent"===o?r.a.createElement(Hl,null):r.a.createElement(Fl,null):a.pathname==="/create-homework/".concat(n)&&r.a.createElement(en.a,{p:3},r.a.createElement(Pl,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))})),Vl=Object(I.a)((function(e){return{cardContainer:{overflowY:"auto","&::-webkit-scrollbar":{display:"none"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},card:{width:"95%",margin:"auto",marginTop:"20px",borderRadius:"10px",boxShadow:"none"},reminder:{paddingLeft:"20px",transform:"translateY(4px)"},title:{fontWeight:600,fontStyle:"normal"},media:{"& img":{margin:"auto"}},announcementText:{fontStyle:"normal",fontSize:"16px",color:"#1C1C1E"},announcementImg:{justifyContent:"center",textAlign:"center","& img":{maxWidth:"100%",border:"1px solid ".concat(e.palette.common.deluge),borderRadius:"4px"}},descriptionContent:{width:"100%",marginTop:"6px",margin:"auto"},descriptionContent1:{width:"100%",marginTop:"16px",margin:"auto"},NewsHeader:Object(C.a)({},e.breakpoints.down("sm"),{padding:"8px 16px 8px 16px !important","& span":{fontSize:"16px"}}),titleContent:{fontSize:"18px"},publishDate:{fontSize:"14px",color:"#AEAEB2"},cardContent:{padding:"0px 16px 0px 16px"},statusText:{fontStyle:"normal",textTransform:"capitalize",fontSize:"16px",color:"#1C1C1E"},cardActionStyle:{padding:"8px 16px 8px 16px",color:"#6C757D"},contentCenter:Object(C.a)({textAlign:"right",height:"50%","& img":Object(C.a)({marginTop:"25px",width:"25px",cursor:"pointer"},e.breakpoints.down("xs"),{marginTop:"10px"})},e.breakpoints.down("xs"),{textAlign:"right"}),editBtn:{paddingLeft:"16px"},DateAlign:{transform:"translate(-8px,15px)"},mainHeader:{width:"100%",paddingTop:"15px"},mainHeadertext:{width:"100%",textAlign:"center"},backImg:{paddingLeft:"15px",paddingTop:"5px",cursor:"pointer"}}})),Kl=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,userId:e.auth.userInfo.id,token:e.auth.token}}))((function(e){var t=Vl(),a=Object(s.g)(),o=Object(n.useState)({}),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!0),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(null),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!0),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(null),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(null),B=Object(S.a)(I,2),D=(B[0],B[1]),R=e.selectedRole;function L(){return(L=Object(Ca.a)(Sa.a.mark((function e(t){var a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,po.fetchAnnouncementDetail(t,a);case 4:n=e.sent,console.log(n),200===n.status&&(l(n.data.data),g(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(e){L.apply(this,arguments)}(e.newsId)}),[]),Object(n.useEffect)((function(){var t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,po.fetchReminder(e.token,"news",i.id);case 3:(a=t.sent).data.data&&(_(a.data.data.entity_date),D(a.data.data.id)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();if(i.event_date&&e.userId!==i.created_by){var a=go(i.event_date);k(!!a),t()}else k(!1)}),[i]);var F=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!1);try{({})}catch(t){console.log(t)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,p?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):r.a.createElement(r.a.Fragment,null,r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:t.cardContainer},r.a.createElement(it.a,{className:t.card},r.a.createElement("div",{className:t.mainHeader},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:1},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.push("/news")}})),r.a.createElement(en.a,{item:!0,xs:10},r.a.createElement("div",{className:t.mainHeadertext},r.a.createElement(m.a,{variant:"h6"},"Notification Details"))),r.a.createElement(en.a,{item:!0,xs:1}))),r.a.createElement($a.a,{className:t.NewsHeader,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{variant:"body2",className:t.DateAlign},i.published_date?r.a.createElement("span",{className:t.publishDate},"".concat(ea(i.published_date).format("DD MMM, hh:mm A"))):"","published"===i.status&&N?r.a.createElement("span",null,r.a.createElement("img",{style:{cursor:"pointer"},className:t.reminder,src:Bo.a,alt:"reminder",onClick:function(){var e=go(i.event_date);e&&(x(!0),j(e))}})):"")),title:r.a.createElement("span",{className:t.titleContent},"published"===i.status?i.title&&i.event_date?r.a.createElement(m.a,{variant:"body1"},"".concat(i.title," - ").concat(ea(i.event_date).format("DD/MM/YYYY"))):r.a.createElement(m.a,{variant:"body1"},"".concat(i.title," - N/A")):i.title&&i.event_date?r.a.createElement(m.a,{variant:"body1"},"".concat(i.title," - ").concat(ea(i.event_date).format("DD/MM/YYYY"))):i.title?r.a.createElement(m.a,{variant:"body1"},"".concat(i.title," - N/A")):i.event_date?r.a.createElement(m.a,{variant:"body1"},"N/A - ".concat(ea(i.event_date).format("DD/MM/YYYY"))):r.a.createElement(m.a,{variant:"body1"},"N/A")),subheader:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.statusText,variant:"body2"},"Status - ",i.status))}),r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0,direction:"row"},r.a.createElement(m.a,{className:t.announcementText,variant:"body2"},i.summary)),r.a.createElement(en.a,{container:!0,direction:"row"},i.main_content?r.a.createElement("div",{className:"".concat(t.descriptionContent," ").concat(t.announcementText),dangerouslySetInnerHTML:{__html:i.main_content}}):r.a.createElement(m.a,{className:"".concat(t.title," ").concat(t.descriptionContent1),variant:"body2"},"No description provided"))),"teacher"===R&&"published"!==i.status?r.a.createElement(Do.a,{className:t.editBtn},r.a.createElement(z.a,{color:"primary",variant:"contained",disableElevation:!0,onClick:function(e){a.push("/create-announcement/".concat(i.id))}},"Edit")):"")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),h?r.a.createElement(uo,{open:h,onClose:F,days:y,id:i.id,eventDate:i.event_date,entityDate:A}):""))})),ql=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflow:"auto","&::-webkit-scrollbar":{display:"none"}}}})),Jl=function(e){var t=ql(),a=e.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement(Kl,{newsId:a})))},Ql=a(293),Xl=a.n(Ql),Zl=a(206),$l=a.n(Zl),es=a(207),ts=a.n(es),as=a(291),ns=a.n(as),rs=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"createFolder",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/folders"),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"uploadImage",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/gallery"),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchFolders",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/folders"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchSharedFolders",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/folders/shared"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchImages",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/gallery"),{params:{page:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchSharedImages",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/gallery/shared"),{params:{page:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchImageByFolder",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/folders/").concat(t),{params:{page:a},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchSharedImageByFolder",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/folders/shared/").concat(t),{params:{page:a},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"moveImagesToFolder",value:function(e,t){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/folders/move"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"renameFolder",value:function(e,t){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/folders/rename"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"shareto",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/folders/share/").concat(t),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"deleteImage",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/gallery/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"deleteFolder",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/folders/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchClasses",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/classes"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),os=a(975),cs=a(979),is=a(980),ls=a(981),ss=a(292),ds=Object(dt.a)((function(e){return{gridList:{width:"100%",height:"100%",padding:10,boxSizing:"border-box"},image:{width:"100%",height:"100%"},titleBar:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},icon:{color:e.palette.common.quartz},lightBoxContainer:{zIndex:1800},zIndex:{zIndex:1800}}})),ms=function(e){var t=e.data,a=e.hideDeleteOption,o=ds(),c=Object(L.a)("(max-width:400px)"),i=Object(n.useState)(0),l=Object(S.a)(i,2),s=l[0],d=l[1],m=Object(n.useState)(!1),u=Object(S.a)(m,2),p=u[0],g=u[1],f=JSON.parse(localStorage.getItem("srmSelectedRole"));localStorage.getItem("srmToken");"parent"===f&&localStorage.getItem("srmSelected_Child_token");return r.a.createElement(r.a.Fragment,null,r.a.createElement(cs.a,{cellHeight:200,spacing:2,cols:c?3:4,className:o.gridList},t.map((function(t,n){return r.a.createElement(is.a,{key:t.id,style:{listStyleType:"none"},cols:1},r.a.createElement("img",{src:"".concat("https://dev.srmapi.in","/").concat(t.folder.folder_path,"/").concat(t.folder.name,"/").concat(t.img_name),alt:t.img_name,resizeMode:"contain",className:o.image,onClick:function(){return function(e){g(!0),d(e)}(n)}}),a?null:r.a.createElement(ls.a,{title:"",titlePosition:"bottom",actionIcon:r.a.createElement(W.a,{className:o.icon,onClick:function(){return e.onhandleDeleteImage(t)}},r.a.createElement(Ic.a,null)),actionPosition:"right",className:o.titleBar}))}))),p&&r.a.createElement("div",{className:o.zIndex},r.a.createElement(ss.a,{mainSrc:"".concat("https://dev.srmapi.in","/").concat(t[s].folder.folder_path,"/").concat(t[s].folder.name,"/").concat(t[s].img_name),nextSrc:"".concat("https://dev.srmapi.in","/").concat(t[(s+1)%t.length].folder.folder_path,"/").concat(t[(s+1)%t.length].folder.name,"/").concat(t[(s+1)%t.length].img_name),prevSrc:"".concat("https://dev.srmapi.in","/").concat(t[(s+t.length-1)%t.length].folder.folder_path,"/").concat(t[(s+t.length-1)%t.length].folder.name,"/").concat(t[(s+t.length-1)%t.length].img_name),onCloseRequest:function(){return g(!1)},onMovePrevRequest:function(){return d((s+t.length-1)%t.length)},onMoveNextRequest:function(){return d((s+1)%t.length)},reactModalStyle:{overlay:{zIndex:1800}}})))},us=a(540),ps=a.n(us),gs=a(541),fs=a.n(gs),bs=a(542),hs=a.n(bs),xs=a(543),Es=a.n(xs),vs=Object(dt.a)((function(e){var t;return{folderName:{fontSize:14,fontFamily:"Avenir Book",textAlign:"center",paddingBottom:20,textTransform:"capitalize"},gridCard:{padding:10},whiteCard:{position:"relative",boxSizing:"border-box",cursor:"pointer",width:"100%",height:"100%",backgroundColor:"#fff"},img_container:{width:"100%",display:"flex",justifyContent:"center",paddingTop:20,paddingBottom:10},folderIcon:{width:"55px",height:"55px"},moreIcon:{"&:hover":{backgroundColor:"transparent"}},moreIconContainer:{position:"absolute",top:-5,right:-5},menuContainer:(t={color:"black",minWidth:"150px",paddingTop:"5px",paddingBottom:"5px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"100px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"100px"}),t),menuItem:{paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5},menuList:{width:"100% !important",padding:0},menuIcons:{minWidth:"25px",marginRight:10,display:"flex",justifyContent:"center",alignItems:"center"},typography:{fontFamily:"Avenir Book",fontSize:14}}})),ys=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=e.item,a=e.hideMoreOption,o=e.selectedRole,c=vs(),i=Object(n.useState)(null),l=Object(S.a)(i,2),s=l[0],d=l[1],u=(localStorage.getItem("srmToken"),function(){d(null)}),p=function(){var a=Object(Ca.a)(Sa.a.mark((function a(n){var r;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=n.currentTarget.getAttribute("value"),u(),a.t0=r,a.next="Edit"===a.t0?5:"Share"===a.t0?9:"Delete"===a.t0?13:15;break;case 5:return e.onEditFolderId(t.id),e.onEditFolderName(t.name),e.onhandleModel(),a.abrupt("return",null);case 9:return e.onShareFolderId(t.id),e.onShareFolderName(t.name),e.onhandleShareModel(),a.abrupt("return",null);case 13:return e.deleteFolder(t),a.abrupt("return",null);case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(en.a,{item:!0,xs:6,sm:3,className:c.gridCard},r.a.createElement("div",{className:c.whiteCard},r.a.createElement("div",{onClick:function(){e.onhandleSelectFolder(t.id,t.name)}},r.a.createElement("div",{className:c.img_container},r.a.createElement("img",{src:ps.a,className:c.folderIcon,alt:"Folder"})),r.a.createElement(m.a,{className:c.folderName},t.name)),a?null:r.a.createElement("div",{className:c.moreIconContainer},r.a.createElement(W.a,{color:"primary","aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},disableRipple:!0,disableFocusRipple:!0,className:c.moreIcon},r.a.createElement(Hn.a,null)),r.a.createElement(F.a,{id:"long-menu",anchorEl:s,classes:{paper:c.menuContainer,list:c.menuList},keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:0,horizontal:5},open:Boolean(s),onClose:u},r.a.createElement(M.a,{value:"Edit",onClick:p,className:c.menuItem},r.a.createElement(Z.a,{className:c.menuIcons},r.a.createElement("img",{src:fs.a,fontSize:"small"})),r.a.createElement(m.a,{className:c.typography},"Edit")),"teacher"===o||"admin"===o?r.a.createElement(M.a,{value:"Share",onClick:p,className:c.menuItem},r.a.createElement(Z.a,{className:c.menuIcons},r.a.createElement("img",{src:Es.a,fontSize:"small"})),r.a.createElement(m.a,{className:c.typography},"Share")):null,r.a.createElement(M.a,{value:"Delete",onClick:p,className:c.menuItem},r.a.createElement(Z.a,{className:c.menuIcons},r.a.createElement("img",{src:hs.a,fontSize:"small"})),r.a.createElement(m.a,{className:c.typography},"Delete"))))))})),js=function(e){var t=e.openSnackbar,a=e.status,n=e.msg,o=function(){e.onOpenSnackBar(!1)};return r.a.createElement(ae.a,{open:t,autoHideDuration:5e3,onClose:o},r.a.createElement(ma.a,{onClose:o,severity:a},n))},Os=Object(I.a)((function(){return{popContainer:{minWidth:"200px"},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"}}})),Ss=function(e){var t=Os(),a=e.open,n=e.handleClose,o=e.onhandleDeleteFolder;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:a,onClose:n,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.popContainer},r.a.createElement("div",{className:t.dialogContent},r.a.createElement(m.a,{className:t.confirmationText},"Are you sure you want to delete?")))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{onClick:n,color:"primary",variant:"outlined",className:t.button},"No"),r.a.createElement(z.a,{onClick:o,color:"primary",autoFocus:!0,variant:"contained",className:t.button,disableElevation:!0,disableRipple:!0},"Yes"))))},Cs=Object(dt.a)((function(e){return{chip:{margin:e.spacing(.5)},gridContainer:{height:"100%",width:"100%"},loading:{width:"100%",height:"100px",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"},modelConatiner:{"& .MuiDialog-paperScrollPaper":{minWidth:"400px"}},title:{padding:"20px","& h2":{fontSize:"18px"}},content:{paddingTop:0,paddingLeft:20,paddingRight:20,paddingBottom:10},actions:{padding:20},formControl:{width:"100%"}}})),Ns=function(e){var t=e.folderView,a=e.selectedFolder,o=e.navigation,c=e.reload,i=Cs(),l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=JSON.parse(localStorage.getItem("srmSelectedRole")),x=localStorage.getItem("srmToken");"parent"===h&&(x=localStorage.getItem("srmSelected_Child_token"));var E=Object(n.useState)(!0),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)([]),C=Object(S.a)(O,2),k=C[0],w=C[1],T=Object(n.useState)(!0),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)(1),D=Object(S.a)(B,2),R=D[0],L=D[1],F=Object(n.useState)([]),P=Object(S.a)(F,2),U=P[0],Y=P[1],H=Object(n.useState)(null),W=Object(S.a)(H,2),G=W[0],V=W[1],K=Object(n.useState)(""),q=Object(S.a)(K,2),J=q[0],Q=q[1],X=Object(n.useState)(!1),Z=Object(S.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(null),ae=Object(S.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)(""),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=Object(n.useState)(!1),de=Object(S.a)(se,2),me=de[0],ue=de[1],pe=Object(n.useState)([]),ge=Object(S.a)(pe,2),fe=ge[0],be=ge[1],he=Object(n.useState)(""),xe=Object(S.a)(he,2),Ee=xe[0],ve=xe[1],ye=Object(n.useState)(""),je=Object(S.a)(ye,2),Oe=je[0],Se=je[1],Ce=Object(n.useState)(!1),Ne=Object(S.a)(Ce,2),ke=Ne[0],we=Ne[1],Te=Object(n.useState)({}),Ae=Object(S.a)(Te,2),_e=Ae[0],Ie=Ae[1],Be=Object(n.useState)([]),De=Object(S.a)(Be,2),Re=De[0],Le=De[1],Fe=Object(n.useState)(!1),Me=Object(S.a)(Fe,2),Pe=Me[0],ze=Me[1],Ue=Object(n.useState)({}),Ye=Object(S.a)(Ue,2),He=Ye[0],We=Ye[1];Object(n.useEffect)((function(){d||(Ge(),o&&(b(!0),Xe(o.folderID,o.folderDetail)),Ve(),u(!0))}),[]),Object(n.useEffect)((function(){c&&(Ge(),e.onReload(!1))}),[c]);var Ge=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,rs.fetchFolders(x);case 4:200===(t=e.sent).status&&(console.log(t),w(t.data.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:j(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs.fetchClasses(x);case 3:200===(t=e.sent).status&&(a={},t.data.data.forEach((function(e){a[e.id]=e.class_name})),Ie(Object(N.a)({},a)),Le(Object(Na.a)(Object.values(a)))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rs.fetchImageByFolder(x,a,R);case 3:n=t.sent,j(!1),e.onFolderView(!0),200===n.status&&(Y([].concat(Object(Na.a)(U),Object(Na.a)(n.data.data.data))),n.data.data.current_page!==n.data.data.last_page?L(R+1):I(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),Xe=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a,n){var r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),e.onSelectFolder(a),e.onFolderDetail(n),t.prev=3,t.next=6,rs.fetchImageByFolder(x,a,R);case 6:r=t.sent,e.onFolderView(!0),200===r.status&&(Y(r.data.data.data),r.data.data.current_page!==r.data.data.last_page?L(R+1):I(!1)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:j(!1),b(!1);case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,a){return t.apply(this,arguments)}}(),Ze=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rs.renameFolder(x,{folder_id:G,folder_name:J});case 3:200===t.sent.status&&(ve("success"),Se("Folder Renamed Successfully"),we(!0),e.onReload(!0)),t.next=13;break;case 7:t.prev=7,t.t0=t.catch(0),ve("error"),Se("Something Went Wrong, While Renaming Folder !! "),we(!0),console.log(t.t0);case 13:ee(!1);case 14:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),$e=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],fe.find((function(e){return"All"===e}))?t=Object(Na.a)(Object.keys(_e)):fe.forEach((function(e){t.push(parseInt(Object.keys(_e).find((function(t){return _e[t]===e}))))})),e.prev=3,e.next=6,rs.shareto(x,ne,{classes:t});case 6:200===e.sent.status&&(be([]),ve("success"),Se("Folder Shared Successfully"),we(!0)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(3),ve("error"),Se("Something Went Wrong, While Sharing Folder !!"),we(!0),console.log(e.t0);case 16:ue(!1);case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),et=function(){ee(!0)},tt=function(){ue(!0)},at=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs.deleteFolder(x,He.id);case 3:200===e.sent.status&&(ze(!1),w(k.filter((function(e){return e!==He}))),ve("success"),Se("Folder Deleted Successfully"),we(!0)),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),ve("error"),Se("Something Went Wrong, While Deleting Folder !!"),we(!0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs.deleteImage(x,t.id);case 3:200===e.sent.status&&(Y(U.filter((function(e){return e!==t}))),ve("success"),Se("Image Deleted Successfully"),we(!0)),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),ve("error"),Se("Something Went Wrong, While deleting Image !!"),we(!0);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),rt=function(e){We(e),ze(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:$,onClose:function(){ee(!1),Q("")},"aria-labelledby":"form-dialog-title",className:i.modelConatiner},r.a.createElement(os.a,{id:"form-dialog-title",className:i.title},"Rename Folder"),r.a.createElement(Qe.a,{className:i.content},r.a.createElement(dr.a,{className:i.formControl},r.a.createElement(Xo.a,{id:"folder_name",name:"folder_name",className:i.inputBorder,value:J,onChange:function(e){Q(e.target.value)},required:!0,label:"Folder Name"}))),r.a.createElement(Je.a,{className:i.actions},r.a.createElement(z.a,{variant:"contained",onClick:Ze,color:"primary",disableRipple:!0,disableElevation:!0},"Rename"))),r.a.createElement(qe.a,{open:me,onClose:function(){ue(!1),be([])},"aria-labelledby":"form-dialog-title",className:i.modelConatiner},r.a.createElement(os.a,{id:"form-dialog-title",className:i.title},"Share with"),r.a.createElement(Qe.a,{className:i.content},r.a.createElement(dr.a,{className:i.formControl},r.a.createElement(Wr.a,null,"Select classes"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:fe,multiple:!0,onChange:function(e){be(e.target.value)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:i.chips},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){be(fe.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:i.chip})})))}},r.a.createElement(M.a,{value:"All"},"All"),Re.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(Je.a,{className:i.actions},r.a.createElement(z.a,{variant:"contained",onClick:$e,color:"primary",disableRipple:!0,disableElevation:!0},"Share"))),y||f?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:i.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):r.a.createElement(co.a,{dataLength:U.length,next:Ke,hasMore:!!t&&_,style:{overflow:"hidden"},loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.loading,style:{width:"100%",textAlign:"center",marginTop:"8px"}},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},k.length>0||t?t?U.length>0?r.a.createElement(ms,{data:U,hideDeleteOption:!1,onhandleDeleteImage:nt}):r.a.createElement("div",{className:i.emptyView},r.a.createElement(m.a,null,"You don't have any Image.")):r.a.createElement(en.a,{container:!0,className:i.gridContainer},k.map((function(e,t){return r.a.createElement(ys,{onhandleSelectFolder:Xe,item:e,hideMoreOption:!1,onhandleModel:et,editFolderId:G,onEditFolderId:V,editFolderName:J,onEditFolderName:Q,onhandleShareModel:tt,shareFolderId:ne,onShareFolderId:re,shareFolderName:ie,onShareFolderName:le,deleteFolder:rt})}))):r.a.createElement("div",{className:i.emptyView},r.a.createElement(m.a,null,"You don't have any Folder."))),r.a.createElement(Ss,{open:Pe,handleClose:function(){ze(!1)},onhandleDeleteFolder:at}),r.a.createElement(js,{openSnackbar:ke,onOpenSnackBar:we,status:Ee,msg:Oe}))},ks=Object(dt.a)((function(e){return{loading:{width:"100%",height:"100px",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),ws=function(e){var t=ks(),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=JSON.parse(localStorage.getItem("srmSelectedRole")),x=localStorage.getItem("srmToken");"parent"===h&&(x=localStorage.getItem("srmSelected_Child_token"));var E=Object(n.useState)(!0),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(1),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(""),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(""),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)(!1),F=Object(S.a)(L,2),M=F[0],P=F[1];Object(n.useEffect)((function(){d||(z(),u(!0))}),[]);var z=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,rs.fetchImages(x,N);case 4:200===(t=e.sent).status&&(i([].concat(Object(Na.a)(c),Object(Na.a)(t.data.data.data))),t.data.data.current_page!==t.data.data.last_page?k(N+1):j(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:b(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs.fetchImages(x,N);case 3:t=e.sent,console.log(t),200===t.status&&(i([].concat(Object(Na.a)(c),Object(Na.a)(t.data.data.data))),t.data.data.current_page!==t.data.data.last_page?k(N+1):j(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs.deleteImage(x,t.id);case 3:200===e.sent.status&&(i(c.filter((function(e){return e!==t}))),_("success"),R("Image Deleted Successfully"),P(!0)),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),_("error"),R("Something Went Wrong, While deleting Image !!"),P(!0);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,f?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):c.length>0?r.a.createElement(co.a,{dataLength:c.length,next:U,hasMore:y,style:{overflow:"hidden"},loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading,style:{width:"100%",textAlign:"center",marginTop:"8px"}},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},r.a.createElement(ms,{data:c,hideDeleteOption:!1,onhandleDeleteImage:Y})):r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"You don't have any Image.")),r.a.createElement(js,{openSnackbar:M,onOpenSnackBar:P,status:A,msg:D}))},Ts=Object(dt.a)((function(e){return{":root":{"--makeStyles-mainContainer-23":{overflow:"hidden"}},root:{width:"100%",height:"calc(100% - 130px)",overflow:"auto",display:"flex","& .infinite-scroll-component__outerdiv":{width:"100%"}},headingContainer:{display:"flex",alignItems:"right",justifyContent:"center","& div":{margin:"3px"}},headingText:{fontWeight:500,fontSize:"0.875rem",fontStyle:"normal",color:e.palette.common.bastille,marginLeft:"2px"},backImg:{float:"left",transform:"translate(0px, 4px)",cursor:"pointer"},header:{display:"inline block"},header_title:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center",padding:10,textTransform:"captilize","& .headerTitle":Object(C.a)({marginLeft:134},e.breakpoints.down("xs"),{marginLeft:"30px"})},iconButton:{"&.MuiIconButton-root":{backgroundColor:"transparent"}},div:{margin:"10px",backgroundColor:"transparent"},divStyle:{textAlign:"right"},marginBottom:{marginBottom:"5px"},loadingDiv:{width:"100%",textAlign:"center",marginTop:"8px"},listStyleType:{listStyleType:"none"},modelConatiner:{"& .MuiDialog-paperScrollPaper":{minWidth:"400px"}},title:{padding:20,"& h2":{fontSize:"18px"}},content:{paddingTop:0,paddingLeft:20,paddingRight:20,paddingBottom:10},actions:{padding:20,"& Button":{textTransform:"none"}},formControl:{width:"100%"},addNew:{color:e.palette.common.deluge,float:"right",cursor:"pointer",padding:12,display:"inline-flex",alignItems:"center",justifyContent:"center","& .new":{float:"right",fontSize:"14px",padding:"0px 5px",fontWeight:500},"& img":{height:"20px",cursor:"pointer"}},uploadButton:{padding:0,float:"right","&.MuiIconButton-root":{backgroundColor:"transparent"}},moreButton:{color:"#2C2C2E",float:"right",cursor:"pointer",paddingRight:10,display:"flex",alignItems:"center",justifyContent:"center","& .move":{float:"right",fontSize:"14px",padding:"0px 5px",fontWeight:500},"& img":{height:"23px",cursor:"pointer"}}}})),As=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=Ts(),a=Object(s.g)(),o=a.location,c=localStorage.getItem("srmToken"),i=Object(n.useState)(!1),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(!1),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(""),R=Object(S.a)(D,2),L=R[0],F=R[1],M=Object(n.useState)(o.state?o.state.folderDetail:""),P=Object(S.a)(M,2),U=P[0],Y=P[1],H=Object(n.useState)(o.state?o.state.folderID:null),G=Object(S.a)(H,2),V=G[0],K=G[1],q=Object(n.useState)(!!o.state&&o.state.folderView),J=Object(S.a)(q,2),Q=J[0],X=J[1],Z=function(){X(!1),u(!1)},$=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rs.createFolder({folder_name:L},e.token);case 3:200===t.sent.status&&(b(!0),F(""),Z(),C("success"),T("Folder Created Successfully"),B(!0)),t.next=13;break;case 7:t.prev=7,t.t0=t.catch(0),C("error"),T("Something went wrong !!"),B(!0),console.log(t.t0);case 13:v(!1);case 14:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:E,onClose:function(){v(!1)},"aria-labelledby":"form-dialog-title",className:t.modelConatiner},r.a.createElement(os.a,{id:"form-dialog-title",className:t.title},"Create Folder"),r.a.createElement(Qe.a,{className:t.content},r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(Xo.a,{id:"folder_name",name:"folder_name",className:t.inputBorder,value:L,onChange:function(e){F(e.target.value)},required:!0,label:"Folder Name"}))),r.a.createElement(Je.a,{className:t.actions},r.a.createElement(z.a,{variant:"contained",onClick:$,color:"primary"},"Save"))),r.a.createElement("div",{style:{margin:"10px",backgroundColor:"transparent",height:"100%",overflow:"hidden"}},Q?r.a.createElement("div",{className:t.header},r.a.createElement(m.a,{className:t.header_title},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:Z}),r.a.createElement("span",{className:"headerTitle"},U),r.a.createElement(W.a,{color:"primary","aria-label":"upload picture",component:"span",disableRipple:!0,disableFocusRipple:!0,className:t.uploadButton,onClick:function(){a.push({pathname:"/gallery/upload",state:{folderID:V,folderDetail:U}})}},r.a.createElement(Xl.a,null),r.a.createElement(m.a,{className:t.headingText},"Upload")),r.a.createElement("div",{className:t.moreButton,onClick:function(){a.push({pathname:"/gallery/move",state:{folderID:V,folderDetail:U}})}},r.a.createElement("img",{src:ns.a,alt:"FileMoveIcon"}),r.a.createElement(m.a,{className:"move"},"Move")))):r.a.createElement("div",null,r.a.createElement(W.a,{color:"primary",classes:{root:t.iconButton},onClick:function(){u(!0),X(!1)}},r.a.createElement($l.a,null)),r.a.createElement(W.a,{color:"primary",classes:{root:t.iconButton},onClick:Z},r.a.createElement(ts.a,null)),r.a.createElement("div",{className:t.addNew,onClick:function(){v(!0)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))),r.a.createElement("div",{className:t.root,id:"scrollable"},d?r.a.createElement(ws,null):r.a.createElement(Ns,{token:c,folderView:Q,reload:f,onReload:b,onFolderDetail:Y,onFolderView:X,selectedFolder:V,onSelectFolder:K,navigation:o.state}))),r.a.createElement(js,{openSnackbar:I,onOpenSnackBar:B,status:O,msg:w}))})),_s=Object(dt.a)((function(e){return{":root":{"--makeStyles-mainContainer-23":{overflow:"hidden"}},root:{width:"100%",height:"calc(100% - 130px)",overflow:"auto",display:"flex","& .infinite-scroll-component__outerdiv":{width:"100%"}},headingContainer:{display:"flex",alignItems:"right",justifyContent:"center","& div":{margin:"3px"}},headingText:{fontWeight:500,fontSize:"0.875rem",fontStyle:"normal",color:e.palette.common.bastille,marginLeft:"2px"},backImg:{float:"left",transform:"translate(0px, 4px)",cursor:"pointer"},header:{display:"inline block"},header_title:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center",padding:10,paddingLeft:10,textTransform:"captilize","& .headerTitle":Object(C.a)({marginLeft:134},e.breakpoints.down("xs"),{marginLeft:"30px"})},iconButton:{"&.MuiIconButton-root":{backgroundColor:"transparent"}},div:{margin:"10px",backgroundColor:"transparent",height:"100%"},divStyle:{textAlign:"right"},marginBottom:{marginBottom:"5px"},loadingDiv:{width:"100%",textAlign:"center",marginTop:"8px"},listStyleType:{listStyleType:"none"},modelConatiner:{"& .MuiDialog-paperScrollPaper":{minWidth:"400px"}},title:{padding:20},content:{paddingTop:0,paddingLeft:20,paddingRight:20,paddingBottom:10},actions:{padding:20,"& Button":{textTransform:"none"}},formControl:{width:"100%"},addNew:{color:e.palette.common.deluge,float:"right",cursor:"pointer",padding:12,display:"inline-flex",alignItems:"center",justifyContent:"center","& .new":{float:"right",fontSize:"14px",padding:"0px 5px",fontWeight:500},"& img":{height:"20px",cursor:"pointer"}},uploadButton:{padding:0,float:"right","&.MuiIconButton-root":{backgroundColor:"transparent"}},moreButton:{color:"#2C2C2E",float:"right",cursor:"pointer",paddingRight:10,display:"inline-flex",alignItems:"center",justifyContent:"center","& .move":{float:"right",fontSize:"14px",padding:"0px 5px",fontWeight:500},"& img":{height:"23px",cursor:"pointer"}}}})),Is=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=_s(),a=Object(s.g)(),o=a.location,c=localStorage.getItem("srmToken");"parent"===e.selectedRole&&(c=localStorage.getItem("srmSelected_Child_token"));var i=Object(n.useState)(!1),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(!1),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(""),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(""),R=Object(S.a)(D,2),L=R[0],F=R[1],M=Object(n.useState)(o.state?o.state.folderDetail:""),P=Object(S.a)(M,2),U=P[0],Y=P[1],H=Object(n.useState)(o.state?o.state.folderID:null),G=Object(S.a)(H,2),V=G[0],K=G[1],q=Object(n.useState)(!!o.state&&o.state.folderView),J=Object(S.a)(q,2),Q=J[0],X=J[1],Z=function(){X(!1),u(!1)},$=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs.createFolder({folder_name:L},c);case 3:200===e.sent.status&&(b(!0),Z(),T("success"),B("Folder Created Successfully"),C(!0)),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),T("error"),B("Something went wrong !!"),C(!0),console.log(e.t0);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:E,onClose:function(){v(!1)},"aria-labelledby":"form-dialog-title",className:t.modelConatiner},r.a.createElement(os.a,{id:"form-dialog-title",className:t.title},"Create Folder"),r.a.createElement(Qe.a,{className:t.content},r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(Xo.a,{id:"folder_name",name:"folder_name",className:t.inputBorder,value:L,onChange:function(e){F(e.target.value)},required:!0,label:"Folder Name"}))),r.a.createElement(Je.a,{className:t.actions},r.a.createElement(z.a,{variant:"contained",onClick:$,color:"primary"},"Save"))),r.a.createElement("div",{style:{margin:"10px",backgroundColor:"transparent",height:"100%",overflow:"hidden"}},Q?r.a.createElement("div",{className:t.header},r.a.createElement(m.a,{className:t.header_title},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:Z}),r.a.createElement("span",{className:"headerTitle"},U),r.a.createElement(W.a,{color:"primary","aria-label":"upload picture",component:"span",disableRipple:!0,disableFocusRipple:!0,className:t.uploadButton,onClick:function(){a.push({pathname:"/gallery/upload",state:{folderID:V,folderDetail:U}})}},r.a.createElement(Xl.a,null),r.a.createElement(m.a,{className:t.headingText},"Upload")),r.a.createElement("div",{className:t.moreButton,onClick:function(){a.push({pathname:"/gallery/move",state:{folderID:V,folderDetail:U}})}},r.a.createElement("img",{src:ns.a,alt:"FileMoveIcon"}),r.a.createElement(m.a,{className:"move"},"Move")))):r.a.createElement("div",null,r.a.createElement(W.a,{color:"primary",classes:{root:t.iconButton},onClick:function(){u(!0),X(!1)}},r.a.createElement($l.a,null)),r.a.createElement(W.a,{color:"primary",classes:{root:t.iconButton},onClick:Z},r.a.createElement(ts.a,null)),r.a.createElement("div",{className:t.addNew,onClick:function(){v(!0)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))),r.a.createElement("div",{className:t.root,id:"scrollable"},d?r.a.createElement(ws,null):r.a.createElement(Ns,{folderView:Q,reload:f,onReload:b,onFolderDetail:Y,onFolderView:X,selectedFolder:V,onSelectFolder:K,navigation:o.state}))),r.a.createElement(js,{openSnackbar:O,onOpenSnackBar:C,status:w,msg:I}))})),Bs=Object(dt.a)((function(e){return{gridContainer:{height:"100%",width:"100%"},loading:{width:"100%",height:"100px",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),Ds=function(e){var t=e.folderView,a=e.selectedFolder,o=e.navigation,c=Bs(),i=Object(n.useState)(!1),l=Object(S.a)(i,2),s=l[0],d=l[1],u=e.token,p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)([]),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(!0),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(1),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)([]),_=Object(S.a)(A,2),I=_[0],B=_[1];Object(n.useEffect)((function(){console.log("StatusMounted",s,o),s||(D(),o&&L(o.folderID,o.folderDetail),d(!0))}),[]);var D=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,rs.fetchSharedFolders(u);case 4:200===(t=e.sent).status&&(console.log(t),v(t.data.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:b(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rs.fetchSharedImageByFolder(u,a,w);case 3:n=t.sent,b(!1),e.onFolderView(!0),200===n.status&&(B([].concat(Object(Na.a)(I),Object(Na.a)(n.data.data.data))),n.data.data.current_page!==n.data.data.last_page?T(w+1):C(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a,n){var r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.onSelectFolder(a),e.onFolderDetail(n),t.prev=2,t.next=5,rs.fetchSharedImageByFolder(u,a,w);case 5:r=t.sent,b(!1),e.onFolderView(!0),200===r.status&&(B(r.data.data.data),r.data.data.current_page!==r.data.data.last_page?T(w+1):C(!1)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,f?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:c.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):r.a.createElement(co.a,{dataLength:I.length,next:R,hasMore:!!t&&O,style:{overflow:"hidden"},loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.loading,style:{width:"100%",textAlign:"center",marginTop:"8px"}},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},E.length>0?t?I.length>0?r.a.createElement(ms,{data:I,hideDeleteOption:!0}):r.a.createElement("div",{className:c.emptyView},r.a.createElement(m.a,null,"You don't have any Image.")):r.a.createElement(en.a,{container:!0,className:c.gridContainer},E.map((function(e,t){return r.a.createElement(ys,{onhandleSelectFolder:L,item:e,hideMoreOption:!0})}))):r.a.createElement("div",{className:c.emptyView},r.a.createElement(m.a,null,"You don't have any Folder."))))},Rs=Object(dt.a)((function(e){return{loading:{width:"100%",height:"100px",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),Ls=function(e){var t=Rs(),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=localStorage.getItem("srmToken"),x=Object(n.useState)(!0),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(1),O=Object(S.a)(j,2),C=O[0],N=O[1];Object(n.useEffect)((function(){d||(k(),u(!0))}),[]);var k=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,rs.fetchSharedImages(h,C);case 4:200===(t=e.sent).status&&(i([].concat(Object(Na.a)(c),Object(Na.a)(t.data.data.data))),t.data.data.current_page!==t.data.data.last_page?N(C+1):y(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:b(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs.fetchSharedImages(h,C);case 3:t=e.sent,console.log(t),200===t.status&&(i([].concat(Object(Na.a)(c),Object(Na.a)(t.data.data.data))),t.data.data.current_page!==t.data.data.last_page?N(C+1):y(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,f?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):c.length>0?r.a.createElement(co.a,{dataLength:c.length,next:w,hasMore:v,style:{overflow:"hidden"},loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.loading,style:{width:"100%",textAlign:"center",marginTop:"8px"}},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},r.a.createElement(ms,{data:c,hideDeleteOption:!0})):r.a.createElement("div",{className:t.emptyView},r.a.createElement(m.a,null,"You don't have any Image.")))},Fs=Object(dt.a)((function(e){return{":root":{"--makeStyles-mainContainer-23":{overflow:"hidden"}},root:{width:"100%",height:"calc(100% - 130px)",overflow:"auto",display:"flex","& .infinite-scroll-component__outerdiv":{width:"100%"}},headingContainer:{display:"flex",alignItems:"right",justifyContent:"center","& div":{margin:"3px"}},headingText:{fontWeight:500,fontSize:"0.875rem",fontStyle:"normal",color:e.palette.common.bastille,marginLeft:"2px"},backImg:{float:"left",transform:"translate(0px, 4px)",cursor:"pointer"},header:{display:"inline block"},header_title:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center",padding:10,textTransform:"captilize","& .headerTitle":{marginLeft:-10}},iconButton:{"&.MuiIconButton-root":{backgroundColor:"transparent"}},div:{margin:"10px",backgroundColor:"transparent",height:"100%"},divStyle:{textAlign:"right"},marginBottom:{marginBottom:"5px"},loadingDiv:{width:"100%",textAlign:"center",marginTop:"8px"},listStyleType:{listStyleType:"none"},modelConatiner:{"& .MuiDialog-paperScrollPaper":{minWidth:"400px"}},title:{padding:20},content:{paddingTop:0,paddingLeft:20,paddingRight:20,paddingBottom:10},actions:{padding:20},formControl:{width:"100%"},addNew:{color:e.palette.common.deluge,float:"right",cursor:"pointer",padding:12,display:"inline-flex",alignItems:"center",justifyContent:"center","& .new":{float:"right",fontSize:"14px",padding:"0px 5px",fontWeight:500},"& img":{height:"20px",cursor:"pointer"}},uploadButton:{padding:0,"&.MuiIconButton-root":{backgroundColor:"transparent"}}}})),Ms=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Fs(),a=Object(s.g)().location,o=localStorage.getItem("srmToken");"parent"===e.selectedRole&&(o=localStorage.getItem("srmSelected_Child_token"));var c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(!1),p=Object(S.a)(u,2),g=(p[0],p[1],Object(n.useState)(!1)),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(""),E=Object(S.a)(x,2),v=(E[0],E[1],Object(n.useState)(a.state?a.state.folderDetail:"")),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(a.state?a.state.folderID:null),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(!!a.state&&a.state.folderView),A=Object(S.a)(T,2),_=A[0],I=A[1],B=function(){I(!1),d(!1)},D=function(){h(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"10px",backgroundColor:"transparent",height:"100%",overflow:"hidden"}},_?r.a.createElement("div",{className:t.header},r.a.createElement(m.a,{className:t.header_title},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:B}),r.a.createElement("span",{className:"headerTitle"},j))):r.a.createElement("div",null,r.a.createElement(W.a,{color:"primary",classes:{root:t.iconButton},onClick:function(){d(!0),I(!1)}},r.a.createElement($l.a,null)),r.a.createElement(W.a,{color:"primary",classes:{root:t.iconButton},onClick:B},r.a.createElement(ts.a,null))),r.a.createElement("div",{className:t.root,id:"scrollable"},l?r.a.createElement(Ls,null):r.a.createElement(Ds,{token:o,folderView:_,onFolderDetail:O,onFolderView:I,selectedFolder:k,onSelectFolder:w,navigation:a.state}))),r.a.createElement(ae.a,{open:b,autoHideDuration:5e3,onClose:D},r.a.createElement(ma.a,{onClose:D,severity:"error"},"Something went wrong!! Please try again.")))})),Ps=Object(dt.a)((function(e){return{tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}}}}));function zs(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,null,t))}function Us(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Ys=function(){var e=Ps(),t=Object(n.useState)(0),a=Object(S.a)(t,2),o=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{position:"sticky",className:e.tabBar},r.a.createElement(ro.a,{centered:!0,value:o,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"My Gallery"},Us(0),{className:"".concat(e.eventsTab," ").concat(e.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"Shared with Me"},Us(1),{className:e.eventsTab})))),r.a.createElement(zs,{value:o,index:0},r.a.createElement(Is,{key:0,created_by:!1})),r.a.createElement(zs,{value:o,index:1},r.a.createElement(Ms,{key:1,created_by:!0})))},Hs=Object(I.a)((function(e){return{homeRoot:{height:"100%",overflowY:"hidden"}}})),Ws=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Hs(),a=e.selectedRole;return r.a.createElement("div",{className:t.homeRoot},"teacher"===a||"admin"===a?r.a.createElement(As,null):r.a.createElement(Ys,null))})),Gs=a(545),Vs=a.n(Gs),Ks=a(544),qs=a.n(Ks),Js=Object(dt.a)((function(e){return{image:{width:"100%",height:"100%"},titleBar:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},icon:{color:e.palette.common.quartz}}})),Qs=function(e){var t=e.tile,a=e.index,o=Js(),c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],s=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"".concat("https://dev.srmapi.in","/").concat(t.folder.folder_path,"/").concat(t.folder.name,"/").concat(t.img_name),alt:t.img_name,resizeMode:"contain",className:o.image,onClick:function(){return e.onhandleOpenLightbox(a)}}),r.a.createElement(ls.a,{title:"",titlePosition:"bottom",actionIcon:r.a.createElement(W.a,{className:o.icon,onClick:function(){s(!l),l?e.onhandleUncheckImage(t.id):e.onhandleCheckImage(t.id)}},l?r.a.createElement(qs.a,null):r.a.createElement(Vs.a,null)),actionPosition:"right",className:o.titleBar}))},Xs=Object(dt.a)((function(e){return{gridList:{width:"100%",height:"100%",padding:10,boxSizing:"border-box"},lightBoxContainer:{zIndex:1800},zIndex:{zIndex:1800},saveBtn:{width:"100%",padding:10,paddingTop:20,boxSizing:"border-box","& Button":{float:"right"}}}})),Zs=function(e){var t=e.data,a=e.checkedImages,o=Xs(),c=Object(L.a)("(max-width:400px)"),i=Object(n.useState)(0),l=Object(S.a)(i,2),s=l[0],d=l[1],m=Object(n.useState)(!1),u=Object(S.a)(m,2),p=u[0],g=u[1],f=(localStorage.getItem("srmToken"),function(e){g(!0),d(e)}),b=function(t){e.onCheckedImages([].concat(Object(Na.a)(a),[t]))},h=function(t){e.onCheckedImages(a.filter((function(e){return e!==t})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(cs.a,{cellHeight:200,spacing:2,cols:c?3:4,className:o.gridList},t.map((function(e,t){return r.a.createElement(is.a,{key:e.id,style:{listStyleType:"none"},cols:1},r.a.createElement(Qs,{tile:e,index:t,onhandleCheckImage:b,onhandleUncheckImage:h,onhandleOpenLightbox:f}))}))),r.a.createElement("div",{className:o.saveBtn},a.length>0?r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){e.onHandleMoveto(!1)}},"Move to"):null),p&&r.a.createElement("div",{className:o.zIndex},r.a.createElement(ss.a,{mainSrc:"".concat("https://dev.srmapi.in","/").concat(t[s].folder.folder_path,"/").concat(t[s].folder.name,"/").concat(t[s].img_name),nextSrc:"".concat("https://dev.srmapi.in","/").concat(t[(s+1)%t.length].folder.folder_path,"/").concat(t[(s+1)%t.length].folder.name,"/").concat(t[(s+1)%t.length].img_name),prevSrc:"".concat("https://dev.srmapi.in","/").concat(t[(s+t.length-1)%t.length].folder.folder_path,"/").concat(t[(s+t.length-1)%t.length].folder.name,"/").concat(t[(s+t.length-1)%t.length].img_name),onCloseRequest:function(){return g(!1)},onMovePrevRequest:function(){return d((s+t.length-1)%t.length)},onMoveNextRequest:function(){return d((s+1)%t.length)},reactModalStyle:{overlay:{zIndex:1800}}})))},$s=Object(dt.a)((function(e){return{gridContainer:{height:"100%",width:"100%"},loading:{width:"100%",height:"100px",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"},snackBar:{"&.MuiSnackbar-root":{zIndex:e.zIndex.drawer+1,maxWidth:"400px"}},backImg:{float:"left",transform:"translate(0px, 4px)",cursor:"pointer"},header:{display:"inline block"},header_title:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center",padding:10,textTransform:"captilize","& .headerTitle":{marginLeft:-10}}}})),ed=function(){var e=$s(),t=Object(s.g)(),a=t.location,o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!0),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!0),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(!1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)([]),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(!0),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(1),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)([]),F=Object(S.a)(L,2),M=F[0],P=F[1],z=Object(n.useState)([]),U=Object(S.a)(z,2),Y=U[0],H=U[1],W=JSON.parse(localStorage.getItem("srmSelectedRole")),G=localStorage.getItem("srmToken");"parent"===W&&(G=localStorage.getItem("srmSelected_Child_token")),Object(n.useEffect)((function(){y||(V(),j(!0))}),[]);var V=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,rs.fetchImageByFolder(G,a.state.folderID,D);case 4:200===(t=e.sent).status&&(P(t.data.data.data),t.data.data.current_page!==t.data.data.last_page?R(D+1):_(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:x(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,rs.fetchFolders(G);case 4:200===(t=e.sent).status&&(console.log(t),k(t.data.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:x(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs.fetchImageByFolder(G,a.state.folderID,D);case 3:t=e.sent,x(!1),200===t.status&&(P([].concat(Object(Na.a)(M),Object(Na.a)(t.data.data.data))),t.data.data.current_page!==t.data.data.last_page?R(D+1):_(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),J=function(){l(!1)},Q=function(){var e=Object(Ca.a)(Sa.a.mark((function e(n){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("LIST of image",Y,n),e.prev=1,e.next=4,rs.moveImagesToFolder(G,{folder_id:n,images:Y});case 4:200===e.sent.status&&(l(!0),t.push({pathname:"/gallery",state:{folderID:a.state.folderID,folderDetail:a.state.folderDetail,folderView:!0}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{margin:"10px",backgroundColor:"transparent",overflow:"hidden"}},r.a.createElement("div",{className:e.header},r.a.createElement(m.a,{className:e.header_title},r.a.createElement("img",{src:Yc.a,alt:"Back",className:e.backImg,onClick:function(){p?t.push({pathname:"/gallery",state:{folderID:a.state.folderID,folderDetail:a.state.folderDetail,folderView:!0}}):g(!0)}}),r.a.createElement("span",{className:"headerTitle"},p?"Move":"Move to"," "))),h?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:e.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)):r.a.createElement(co.a,{dataLength:M.length,next:q,hasMore:A,style:{overflow:"hidden"},loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.loading,style:{width:"100%",textAlign:"center",marginTop:"8px"}},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},p?M.length>0?r.a.createElement(Zs,{data:M,onHandleMoveto:function(e){Y.length>0?(K(),g(e)):alert("Select atleast one image to move")},checkedImages:Y,onCheckedImages:H}):r.a.createElement("div",{className:e.emptyView},r.a.createElement(m.a,null,"You don't have any Image.")):N.length>0?r.a.createElement(en.a,{container:!0,className:e.gridContainer},N.map((function(e,t){return r.a.createElement(ys,{onhandleSelectFolder:Q,item:e,hideMoreOption:!0})}))):r.a.createElement("div",{className:e.emptyView},r.a.createElement(m.a,null,"You don't have any Folder."))),r.a.createElement(ae.a,{open:i,autoHideDuration:5e3,onClose:J},r.a.createElement(ma.a,{onClose:J,severity:"success"},"File moved successfully !!")))},td=a(129),ad=a(294),nd=a.n(ad),rd=Object(dt.a)((function(e){var t;return{card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",marginTop:"20px"},cardHeader:{padding:"15px 20px 0 20px"},iconButtonRoot:{padding:"8px"},titleIconSpan:{marginRight:"8px"},titleIcon:{transform:"translateY(3px)"},greentick:{padding:"5px 5px 0px 0px"},cardTitle:{fontSize:14,fontFamily:"Avenir Heavy",fontStyle:"normal",fontWeight:500,cursor:"pointer","&:hover":{textDecoration:"underline"}},cardActions:{padding:"0 20px 20px 20px"},cardContent:{padding:"5px 20px 20px 20px","&:last-child":{paddingBottom:"20px"}},menuItem:{paddingLeft:"10px",paddingRight:"10px",colour:"#1C1C1E"},borderBottomDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"},borderBottomLastDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px"},menuTopItemMargin:{marginTop:"5px"},menuItemRoot:{padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),menuList:{width:"100% !important",padding:0},contentStyle:{color:"#1C1C1E",fontSize:14,fontFamily:"Avenir Book",fontStyle:"normal"},readClass:{textAlign:"right",position:"relative"},amount:{color:"#AEAEB2",fontFamily:"Avenir Book",fontSize:14}}})),od=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=rd(),a=Object(s.g)();return r.a.createElement(it.a,{className:t.card},r.a.createElement($a.a,{className:t.cardHeader,action:r.a.createElement(r.a.Fragment,null,"1"===e.payments.status?r.a.createElement("img",{src:nd.a,alt:"done",className:t.greentick}):""),title:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.cardTitle,onClick:function(){return a.push("/payments/tab/".concat(e.selectedTab,"/").concat(e.payments.id))}},e.payments.payment_title))}),r.a.createElement(lt.a,{classes:{root:t.cardContent}},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:9},r.a.createElement(m.a,{className:t.contentStyle},e.payments.payment_summary)),r.a.createElement(en.a,{item:!0,xs:3,className:t.readClass},r.a.createElement(m.a,{variant:"body2",className:t.amount},r.a.createElement("span",null,"\u20b9"),r.a.createElement("span",null,"\xa0"),r.a.createElement(td.a,{value:e.payments.status?parseInt(e.payments.amount)/100:parseInt(e.payments.amount_due)/100,displayType:"text",thousandSeparator:!0,thousandsGroupStyle:"lakh"}))))))})),cd=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"fetchPaymentsParent",value:function(e,t,a,n,r){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/payments?current_role=").concat(a,"&page=").concat(t,"&status=").concat(n,"&student_id=").concat(r),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchPayments",value:function(e,t,a,n){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/payments?current_role=").concat(a,"&page=").concat(t,"&status=").concat(n),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchFilterPayments",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/payments"),{params:{status:t,page:a},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchPaymentById",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/payments/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchOrderId",value:function(e,t,a,n){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/payments/").concat(a),{amount:n,notification_id:t},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"verifySignature",value:function(e,t,a,n){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/pay/").concat(a,"?current_role=").concat(n),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),id=Object(I.a)((function(e){return{message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},sectionContainer:{overflow:"auto",padding:"0 20px 20px 20px"},cardBoxPadding:Object(C.a)({overflow:"auto",padding:"20px 20px 0 20px"},e.breakpoints.down("sm"),{padding:"16px"}),loading:{textAlign:"center",padding:"8px"},emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"20px"}}})),ld=Object(i.c)((function(e){var t=(e.auth.userInfo||{}).user_classes||{};return{selectedRole:e.auth.selectedRole,school_id:t.school_id}}),{})((function(e){var t=id(),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)({}),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!0),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)({}),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=e.selectedRole;Object(n.useEffect)((function(){if("parent"===A){var e=localStorage.getItem("srmSelected_Child"),t=localStorage.getItem("srmChild_dict"),a=new Function("return ["+t+"];")(),n=a[0][e]||{},r=(n.userDetails||{}).id;console.log("object :>> ",e,t,a,n,r),T(r)}}),[]),console.log("student_id :>> ",w),Object(n.useEffect)((function(){if(window){var e=window.innerHeight;console.log("height :>> ",e),C(e)}}),[]);var _=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r,o,l,s,d,m,p,g;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,b(!0),n=localStorage.getItem("srmToken"),"parent"!==A){t.next=16;break}return r=localStorage.getItem("srmSelected_Child"),o=localStorage.getItem("srmChild_dict"),l=new Function("return ["+o+"];")(),s=l[0][r]||{},d=s.userDetails||{},m=d.id,t.next=12,cd.fetchPaymentsParent(n,a,A,e.status,m);case 12:200===(p=t.sent).status&&(b(!1),i([].concat(Object(Na.a)(c),Object(Na.a)(p.data.data.data))),u(p.data.data)),t.next=21;break;case 16:if("teacher"!==A&&"admin"!==A){t.next=21;break}return t.next=19,cd.fetchPayments(n,a,A,e.status);case 19:200===(g=t.sent).status&&(b(!1),i([].concat(Object(Na.a)(c),Object(Na.a)(g.data.data.data))),u(g.data.data));case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(0),console.log(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){_(1)}),[]);var I=c.map((function(t){return r.a.createElement(od,{selectedTab:e.selectedTab,payments:t,key:t.id})}));return r.a.createElement("div",{className:t.sectionContainer,style:{height:O},onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(d.last_page>E&&t&&!f){var a=E+1;_(a),b(!0),v(a)}},id:"scrollable"},c.length?I:f?"":r.a.createElement("div",null,r.a.createElement(m.a,{className:t.message},"Don't have any Payments.")),f?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):"",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}));function sd(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,null,t))}function dd(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var md=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{display:"none"}},eventsTab:Object(C.a)({padding:"6px 0",borderBottom:"1px solid #aeaeb2","@media (min-width: 600px)":{minWidth:"100px"},"& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}}}})),ud=function(){var e=md(),t=Object(s.g)(),a=Object(n.useState)(0),o=Object(S.a)(a,2),c=(o[0],o[1]),i=Object(s.i)().selectedTab;console.log("selectedTab :>> ",typeof i,parseInt(i));var l=parseInt(i);return r.a.createElement("div",{className:e.container},r.a.createElement(T.a,{position:"sticky",className:e.tabBar},r.a.createElement(ro.a,{centered:!0,value:l,onChange:function(e,a){c(a),t.push("/payments/tab/".concat(a))},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"all"},dd(0),{className:"".concat(e.eventsTab," ").concat(e.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"open"},dd(1),{className:"".concat(e.eventsTab," ").concat(e.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"close"},dd(2),{className:e.eventsTab})))),r.a.createElement(sd,{value:l,index:0},r.a.createElement(ld,{selectedTab:l,key:0,status:"all"})),r.a.createElement(sd,{value:l,index:1},r.a.createElement(ld,{selectedTab:l,key:1,filter:0,status:"open"})),r.a.createElement(sd,{value:l,index:2},r.a.createElement(ld,{selectedTab:l,key:2,filter:1,status:"close"})))},pd={POST_PAYMENT:{START:"payment.post_payment:start",SUCCESS:"payment.post_payment:success",FAIL:"payment.post_payment:fail"},GET_PAYMENT:{START:"payment.get_payment:start",SUCCESS:"payment.get_payment:success",FAIL:"payment.get_payment:fail"},GET_PAYMENT_BY_ID:{START:"payment.get_payment_by_id:start",SUCCESS:"payment.get_payment_by_id:success",FAIL:"payment.get_payment_by_id:fail"},REMOVE_PAYMENT:{START:"payment.remove_payment:start",SUCCESS:"payment.remove_payment:success",FAIL:"payment.remove_payment:fail"},PUT_PAYMENT:{START:"payment.put_payment:start",SUCCESS:"payment.put_payment:success",FAIL:"payment.put_payment:fail"},GET_COMMENTS:{START:"payment.get_comments:start",SUCCESS:"payment.get_comments:success",FAIL:"payment.get_comments:fail"},POST_COMMENTS:{START:"payment.post_comments:start",SUCCESS:"payment.post_comments:success",FAIL:"payment.post_comments:fail"},PAID_USERS:{START:"payment.paid_users:start",SUCCESS:"payment.paid_users:success",FAIL:"payment.paid_users:fail"},UNPAID_USERS:{START:"payment.unpaid_users:start",SUCCESS:"payment.unpaid_users:success",FAIL:"payment.unpaid_users:fail"},PAYMENT_BY_ID:{START:"payment.payment_by_id:start",SUCCESS:"payment.payment_by_id:success",FAIL:"payment.payment_by_id:fail"},POST_PAY:{START:"payment.post_pay:start",SUCCESS:"payment.post_pay:success",FAIL:"payment.post_pay:fail"},CREATE_ORDER:{START:"payment.create_order:start",SUCCESS:"payment.create_order:success",FAIL:"payment.create_order:fail"}},gd=function(e,t,a){return{type:ba,subtypes:pd.GET_PAYMENT_BY_ID,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/notifications","/").concat(e))}(e)}}},fd=Object(dt.a)((function(e){var t,a,n;return n={message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},loading:{width:"100%",textAlign:"center",paddingTop:"8px"},hr:{marginBottom:"0px",color:"#AEAEB2",fontFamily:"Avenir Book"},sectionContainer:(t={padding:"0px 20px 20px 20px"},Object(C.a)(t,e.breakpoints.down("sm"),{}),Object(C.a)(t,"height","100%"),Object(C.a)(t,"overflow","auto"),Object(C.a)(t,"& .MuiButton-root",{textTransform:"capitalize"}),t),card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",margin:"20px"}},Object(C.a)(n,"card",{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",overflow:"auto",height:"400px"}),Object(C.a)(n,"cardHeader",{padding:"20px 20px 0 20px"}),Object(C.a)(n,"cardTitle",{fontSize:14,fontStyle:"normal",fontFamily:"Avenir Heavy",fontWeight:500,textAlign:"center"}),Object(C.a)(n,"cardContent",{padding:"0 20px 0 20px","&:last-child":{paddingBottom:"20px"}}),Object(C.a)(n,"CircularProgress",{margin:"20px",display:"flex",justifyContent:"center",alignItems:"center",width:"85%"}),Object(C.a)(n,"cardContentText",{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E",width:"70%"}),Object(C.a)(n,"textAlignRight",{fontSize:14,fontFamily:"Avenir Book",color:"#AEAEB2",textAlign:"right"}),Object(C.a)(n,"fieldStyle",{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:14,"& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .PrivateNotchedOutline-root":{borderWidth:0},"& .MuiFormLabel-root":{fontFamily:"Avenir Book",fontSize:14},"& .MuiInputBase-root":{fontSize:14}}),Object(C.a)(n,"margin",(a={},Object(C.a)(a,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(a,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(a,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"20px"}),a)),Object(C.a)(n,"commentText",{display:"flex",flexDirection:"column"}),Object(C.a)(n,"commentCard",{marginTop:"20px",padding:"20px"}),Object(C.a)(n,"padding",{paddingTop:"12px"}),Object(C.a)(n,"commentContainer",{marginTop:"20px",display:"flex",justifyContent:"space-between"}),Object(C.a)(n,"errMessage",{textAlign:"center",color:"red",marginBottom:"20px"}),Object(C.a)(n,"hide",{display:"none"}),Object(C.a)(n,"loader",{textAlign:"center",width:"100%",margin:"8px"}),n})),bd=Object(i.c)((function(e){var t=e.Payment;return{data:t.getComments,loading:t.getCommentsLoading,commentLoading:t.postCommentsLoading,selectedRole:e.auth.selectedRole,token:e.auth.token}}),{getComments:function(e,t,a,n,r){return{type:ba,subtypes:pd.GET_COMMENTS,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.get("".concat("/payment-comments","/").concat(e,"?page=").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}(e,t,a)}}},postComments:function(e,t,a,n,r){return{type:ba,subtypes:pd.POST_COMMENTS,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.post("".concat("/payment-comment","/").concat(e),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}(e,t,a)}}}})((function(e){var t=fd(),a=(Object(s.g)(),Object(s.i)().id),o=Object(n.useState)(""),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(""),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)([]),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)({}),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!0),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(1),T=Object(S.a)(w,2),A=T[0],_=T[1],I=(e.loading,e.commentLoading),B=Object(n.useState)(!1),D=Object(S.a)(B,2),R=D[0],L=D[1],F=localStorage.getItem("srmToken"),M=function(e){e&&(k(!1),x([].concat(Object(Na.a)(h),Object(Na.a)(e.data.data))),j(e.data),console.log("result",e.data))},P=function(e){console.log("error",e),k(!1)},U=function(t){e.getComments(a,t,F,M,P)};Object(n.useEffect)((function(){U(1)}),[]);Object(n.useEffect)((function(){R&&U(1)}),[R]);var Y=function(){k(!0),x([]),L(Math.random()),g("")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.sectionContainer},r.a.createElement(it.a,{onScroll:function(e){console.log("event",e),console.log("data.current_page :>> ",y.current_page,y.last_page);var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),y.last_page>A&&t&&!N){console.log("data :>> ",y);var a=A+1;U(a),k(!0),_(a)}},className:t.card},r.a.createElement($a.a,{className:t.cardHeader,title:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.cardTitle},"Comment Section"))}),h.length||N?"":r.a.createElement(m.a,{className:t.message},"No comments available yet!"),h.map((function(e,a){return r.a.createElement(lt.a,{classes:{root:t.cardContent}},r.a.createElement("div",{className:t.commentContainer},r.a.createElement("div",{className:t.commentText},r.a.createElement(m.a,{className:t.cardContentText},e.comment)),r.a.createElement("div",{className:t.commentText},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},e.commentator.fullName),r.a.createElement(m.a,{className:"".concat(t.textAlignRight," ").concat(t.padding)},ea(e.created_at).format("DD MMM YYYY, hh:mm A")))),r.a.createElement("hr",{className:"".concat(t.hr," ").concat(a===h.length-1?t.hide:"")}))})),N?r.a.createElement("div",{className:t.loader},r.a.createElement(kr.a,{color:"primary",size:30})):""),r.a.createElement(it.a,{className:t.commentCard},i?r.a.createElement(m.a,{className:t.errMessage},i):"",r.a.createElement(mr.a,{className:"".concat(t.margin)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{className:t.textArea,id:"outlined-multiline-static",label:"",multiline:!0,rows:5,placeholder:"Add comment",value:p,onChange:function(e){g(e.target.value),l("")},variant:"outlined"})))),r.a.createElement(en.a,{container:!0,style:{marginTop:"20px"}},r.a.createElement(en.a,{item:!0,xs:9}),r.a.createElement(en.a,{item:!0,xs:3,style:{textAlign:"right"}},I?r.a.createElement(kr.a,null):r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(){if(p){var t={comment:p};e.postComments(a,t,F,Y)}else l("Add comment!")},disableElevation:!0},"Comment"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))})),hd=a(983),xd=a(987),Ed=a(986),vd=a(982),yd=a(984),jd=a(985),Od=a(185),Sd=Object(dt.a)((function(e){return{hr:{color:"#1C1C1E"},recieptContainer:{padding:"20px"},header:{textAlign:"center"},tableContainer:{"& .MuiPaper-elevation1":{boxShadow:"none"},"& .MuiPaper-root":{backgroundColor:"transparent"},"& .MuiPaper-rounded":{borderRadius:0}},table:{"& .MuiTableCell-root":{textAlign:"center",border:"1px solid #1C1C1E"},"& .MuiTableCell-alignRight":{textAlign:"center"}},footer:{display:"flex",justifyContent:"space-between"},rowDiv:{display:"flex",justifyContent:"space-between"},text:{width:"75%",marginBottom:"10px"},font:{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E"},headText:{fontFamily:"Avenir Medium",fontSize:14,color:"#1C1C1E"},reciept:{fontFamily:"Avenir Heavy",fontSize:14,color:"#1C1C1E"},tableHeadText:{}}})),Cd=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=Sd(),a=e.receipt||{};console.log("payment",a);var n=a.invoices||[],o=a.user_class||{},c=o.school_data||{},i=a.user||{},l=0;return n.map((function(e){e.amount_paid&&(l+=e.amount_paid/100)})),r.a.createElement("div",{className:t.recieptContainer},r.a.createElement("div",{className:t.header},r.a.createElement(m.a,{className:t.reciept},"Reciept"),r.a.createElement("br",null),r.a.createElement(m.a,{className:t.headText},c.name)," ",r.a.createElement("br",null),r.a.createElement(m.a,{className:t.font})),r.a.createElement("br",null),r.a.createElement(m.a,{className:t.headText},"Reciept No. ",a.id),r.a.createElement("hr",{className:t.hr}),r.a.createElement("br",null),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"Student Name"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},i.fullName,r.a.createElement("hr",{className:t.hr}))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"Parent Name"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},a.assign_to?a.assign_to[0].parents_data.fullName:"",r.a.createElement("hr",{className:t.hr}))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"Class"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},o.className,r.a.createElement("hr",{className:t.hr}))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"Date OF Payment"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},a.paid_date,r.a.createElement("hr",{className:t.hr}))),r.a.createElement("div",{className:t.tableContainer},r.a.createElement(vd.a,{component:Od.a},r.a.createElement(hd.a,{className:t.table,"aria-label":"customized table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{className:t.headText},"Sr. No."),r.a.createElement(Ed.a,{className:t.headText},"Particular"),r.a.createElement(Ed.a,{className:t.headText},"Amount"))),r.a.createElement(xd.a,null,n.map((function(e,n){return r.a.createElement(jd.a,{key:n},r.a.createElement(Ed.a,{className:t.font,component:"th",scope:"row"},n+1),r.a.createElement(Ed.a,{className:t.font},a.payment_title),r.a.createElement(Ed.a,{className:t.font},e.amount_paid?e.amount_paid/100:0))})),r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{component:"th",scope:"row"}),r.a.createElement(Ed.a,{className:t.headText},"Total"),r.a.createElement(Ed.a,{className:t.font},l,"/-")))))),r.a.createElement("br",null),r.a.createElement(m.a,{className:t.headText},"Paid By: ",a.mode),r.a.createElement("br",null),r.a.createElement(m.a,{className:t.headText},"Remarks if any: ",a.remarks),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:t.footer},r.a.createElement(m.a,{className:t.headText},"Signature of Teacher"),r.a.createElement(m.a,{className:t.headText},"Signature of Principal")))})),Nd=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_API_URL:"https://dev.srmapi.in/api/v1",REACT_APP_BACKEND_CHAT_URL:"dev.srmapi.in",REACT_APP_BACKEND_IMAGE_URL:"https://dev.srmapi.in",REACT_APP_USE_API:"Y"}).REACT_APP_RAZERPAY_KEY_ID;function kd(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var wd=Object(dt.a)((function(e){var t,a;return a={hr:{marginBottom:"0px",color:"#8E8E93",fontFamily:"Avenir Book"},sectionContainer:Object(C.a)({padding:"20px"},e.breakpoints.down("sm"),{padding:"20px"}),descriptionContent:{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E"},gridContainer:{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E"},buttonContainer:{width:"100%",paddingTop:"20px","& .MuiButton-root":{textTransform:"capitalize"}},button:{width:"100%"},card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",margin:"20px"},mainHeader:{width:"100%",paddingBottom:"20px"},mainHeadertext:{width:"100%",textAlign:"center"},backImg:{paddingTop:"5px",cursor:"pointer"}},Object(C.a)(a,"card",{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px"}),Object(C.a)(a,"cardHeader",{padding:"15px 20px 0 20px"}),Object(C.a)(a,"iconButtonRoot",{padding:"8px"}),Object(C.a)(a,"titleIconSpan",{marginRight:"8px"}),Object(C.a)(a,"titleIcon",{transform:"translateY(3px)"}),Object(C.a)(a,"greentick",{padding:"15px 5px 0px 0px"}),Object(C.a)(a,"cardTitle",{fontSize:14,fontStyle:"normal",fontWeight:500,fontFamily:"Avenir Heavy"}),Object(C.a)(a,"cardActions",{padding:"0 20px 20px 20px"}),Object(C.a)(a,"cardContent",{padding:"5px 20px 20px 20px","&:last-child":{paddingBottom:"20px"}}),Object(C.a)(a,"menuItem",{paddingLeft:"10px",paddingRight:"10px",colour:"#1C1C1E"}),Object(C.a)(a,"borderBottomDiv",{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"}),Object(C.a)(a,"borderBottomLastDiv",{width:"90%",height:"30px",margin:"auto",marginTop:"5px"}),Object(C.a)(a,"menuTopItemMargin",{marginTop:"5px"}),Object(C.a)(a,"menuItemRoot",{padding:0}),Object(C.a)(a,"menuContainer",(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t)),Object(C.a)(a,"menuList",{width:"100% !important",padding:0}),Object(C.a)(a,"contentStyle",{color:"".concat(e.palette.common.lightFont),fontSize:"14px",fontStyle:"normal"}),Object(C.a)(a,"readClass",{textAlign:"right",width:"100%",paddingTop:"12px"}),Object(C.a)(a,"amount",{color:"#AEAEB2",fontFamily:"Avenir Book",fontSize:14,marginhTop:"12px"}),Object(C.a)(a,"circularProgress",{display:"flex",justifyContent:"center",alignItems:"center",height:"85%"}),Object(C.a)(a,"download",{textAlign:"right",cursor:"pointer"}),Object(C.a)(a,"print",{display:"none"}),Object(C.a)(a,"title",{fontFamily:"Avenir Medium",fontSize:18}),a})),Td=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=wd(),a=(Object(B.a)(),Object(s.g)()),o=Object(s.i)(),c=o.id,i=o.selectedTab,l=Object(n.useState)(!0),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(null),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(!1),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(!1),O=Object(S.a)(j,2),C=O[0],N=O[1],k=e.selectedRole,w=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,cd.fetchPaymentById(t,c);case 4:200===(a=e.sent).status&&h(a.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){b&&p(!1)}),[b]);var T=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n,r,o;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a=localStorage.getItem("srmToken"),e.next=5,cd.fetchOrderId(a,b.notification_id,b.id,b.amount_due);case 5:200===(n=e.sent).status&&(console.log(n.data.data.razorpay_order_id),r={key:Nd,amount:b.amount_due,currency:"INR",name:"SRM",description:"Test Transaction",order_id:n.data.data.razorpay_order_id,handler:function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("response :>> ",t),e.prev=1,e.next=4,cd.verifySignature(a,{mode:"Online Paid",amount_paid:b.amount_due,remarks:"",razorpay_payment_id:t.razorpay_payment_id,razorpay_order_id:t.razorpay_order_id,razorpay_signature:t.razorpay_signature,id:b.id},c,k);case 4:200===e.sent.status&&(y(!0),w()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),theme:{color:"#7B72AF"}},(o=new window.Razorpay(r)).on("payment.failed",(function(e){console.log(e.error),N(!0)})),o.open()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){y(!1),N(!1)},_=Object(n.useRef)(),I=Object(aa.useReactToPrint)({content:function(){return _.current}});return r.a.createElement(r.a.Fragment,null,b?r.a.createElement("div",{className:t.print},r.a.createElement("div",{ref:_},r.a.createElement(Cd,{receipt:b}))):"",u?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.sectionContainer},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.mainHeader},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:1},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.push("/payments/tab/".concat(i))}})),r.a.createElement(en.a,{item:!0,xs:10},r.a.createElement("div",{className:t.mainHeadertext},r.a.createElement(m.a,{className:t.title},"Payment Details"))),r.a.createElement(en.a,{item:!0,xs:1,className:t.download},"1"===b.status?r.a.createElement("img",{src:yi.a,onClick:I,alt:"download",width:"23",height:"24"}):""))),r.a.createElement(it.a,{className:t.card},r.a.createElement($a.a,{className:t.cardHeader,action:r.a.createElement(r.a.Fragment,null,"1"===b.status?r.a.createElement("img",{src:nd.a,alt:"done",className:t.greentick}):""),title:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.cardTitle},b.payment_title))}),r.a.createElement(lt.a,{classes:{root:t.cardContent}},r.a.createElement(en.a,{container:!0,direction:"row",className:t.gridContainer},r.a.createElement("div",{className:"".concat(t.descriptionContent),dangerouslySetInnerHTML:{__html:b.main_content}})),r.a.createElement("hr",{className:t.hr}),r.a.createElement(en.a,{container:!0,direction:"row"},r.a.createElement("div",{className:t.readClass},1==b.status?r.a.createElement(m.a,{variant:"body2",className:t.amount},"Amount Paid: ",r.a.createElement("span",null,"\u20b9"),r.a.createElement("span",null,"\xa0"),r.a.createElement(td.a,{value:parseInt(b.amount_paid)/100,displayType:"text",thousandSeparator:!0,thousandsGroupStyle:"lakh"})):r.a.createElement(m.a,{variant:"body2",className:t.amount},"Amount Due: ",r.a.createElement("span",null,"\u20b9"),r.a.createElement("span",null,"\xa0"),r.a.createElement(td.a,{value:parseInt(b.amount_due)/100,displayType:"text",thousandSeparator:!0,thousandsGroupStyle:"lakh"})))))),"1"!==b.status?r.a.createElement("div",{className:t.buttonContainer},r.a.createElement(z.a,{color:"primary",variant:"contained",className:t.button,onClick:T},"Pay")):"")),r.a.createElement(bd,null)),r.a.createElement(ae.a,{open:v,onClose:A,autoHideDuration:4e3},r.a.createElement(kd,{severity:"success",onClose:A},"Payment Successful")),r.a.createElement(ae.a,{open:C,onClose:A,autoHideDuration:4e3},r.a.createElement(kd,{severity:"error",onClose:A},"Payment Unsuccessfull")))})),Ad=a(296),_d=Object(dt.a)((function(e){var t;return{snackBar:{"&.MuiSnackbar-root":{zIndex:e.zIndex.drawer+1,maxWidth:"400px"}},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},previewChip:{minWidth:160,maxWidth:210},sideMargins:{marginLeft:"20px",marginRight:"20px"},div:{margin:"10px"},publishBtns:{textAlign:"right",justifyContent:"right"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},margin:(t={marginTop:"30px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t),folderSelect:{paddingTop:20},CircularProgress:{position:"absolute",left:"50%",top:"50%",zIndex:"1"},backImg:{float:"left",transform:"translate(0px, 4px)",cursor:"pointer"},header:{display:"inline block"},header_title:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center",padding:12,textTransform:"captilize","& .headerTitle":{marginLeft:10}},saveBtn:{width:"100%",padding:10,paddingTop:20,boxSizing:"border-box","& Button":{float:"right"}}}})),Id=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=_d(),a=Object(s.g)(),o=a.location,c=Object(n.useState)([]),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(!1),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(!1),h=Object(S.a)(b,2),x=h[0],E=h[1],v=JSON.parse(localStorage.getItem("srmSelectedRole")),y=localStorage.getItem("srmToken");"parent"===v&&(y=localStorage.getItem("srmSelected_Child_token"));var j=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},O=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n,r,c;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),t={maxSizeMB:.5,useWebWorker:!0},e.t0=Sa.a.keys(l);case 3:if((e.t1=e.t0()).done){e.next=25;break}return a=e.t1.value,e.prev=5,console.log(l[a]),e.next=9,Object(Ad.a)(l[a],t);case 9:return n=e.sent,e.next=12,j(n);case 12:return r=e.sent,e.next=15,rs.uploadImage({img_name:r,folder_id:o.state.folderID},y);case 15:c=e.sent,console.log(c),e.next=23;break;case 19:e.prev=19,e.t2=e.catch(5),E(!0),console.log(e.t2);case 23:e.next=3;break;case 25:f(!1),N();case 27:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(){return e.apply(this,arguments)}}(),C=function(){E(!1)},N=function(){a.push({pathname:"/gallery",state:{folderID:o.state.folderID,folderDetail:o.state.folderDetail,folderView:!0}})};return r.a.createElement("div",{style:{margin:"10px",backgroundColor:"transparent",overflow:"hidden"}},r.a.createElement("div",{className:t.header},r.a.createElement(m.a,{className:t.header_title},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:N}),r.a.createElement("span",{className:"headerTitle"},o.state.folderDetail))),r.a.createElement("div",{className:t.div},r.a.createElement("div",null,r.a.createElement(fi.a,{onChange:function(e){d(e)},alertSnackbarProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},classes:{root:t.snackBar},autoHideDuration:3e3},acceptedFiles:["image/*"],maxFileSize:1e7,filesLimit:10,showPreviews:!0,showPreviewsInDropzone:!1,useChipsForPreview:!0,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:t.previewChip}},previewText:"Selected files",dropzoneText:"Drag and drop a file (max 10 MB each) here or click"})),r.a.createElement("div",{className:t.saveBtn},r.a.createElement(z.a,{id:"publishBtn",variant:"contained",color:"primary",onClick:O,disabled:0===l.length},"Upload")),r.a.createElement(Nr.a,{open:g,className:t.backdrop},r.a.createElement(kr.a,{color:"inherit"}))),r.a.createElement(ae.a,{open:x,autoHideDuration:5e3,onClose:C},r.a.createElement(ma.a,{onClose:C,severity:"error"},"Something went wrong!! Please try again.")))})),Bd=a(137),Dd=a.n(Bd),Rd=a(120),Ld=a.n(Rd),Fd=a(130),Md=a.n(Fd),Pd=a(208),zd=a.n(Pd),Ud=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"fetchuser",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/user/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"updateUserPic",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/user/").concat(t),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchPhones",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/userPhones"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchUserPhones",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/userPhones"),{params:{user_id:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"updatePhone",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/userPhones/").concat(t),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"postPhone",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/userPhones"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchEmails",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/userEmails"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchUserEmails",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/userEmails"),{params:{user_id:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"updateEmail",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/userEmails/").concat(t),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"postEmail",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/userEmails"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchAddress",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/userAddresses"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"updateAddress",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/userAddresses/").concat(t),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"postAddress",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/userAddresses"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchCountries",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/countries"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchStates",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/states"),{params:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchCities",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/cities"),{params:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchParents",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/get-parents"),{username:t},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchStudents",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/get-students"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"changePassword",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/change_password"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"sendOtp",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/send-otp"),e)}},{key:"otpValidate",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/validate-otp"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}());function Yd(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var Hd=Object(I.a)((function(e){return{dialogPaper:{width:"300px"},cardHeader:{textAlign:"left"},profileTitle:{display:"inline",marginLeft:"5px",fontWeight:500,fontSize:"14px",textTransform:"uppercase"},iconStyle:{width:"19px",height:"19px",transform:"translateY(4px)"},formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center",paddingBttom:"20px"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dataContentRoot:{padding:"24px"},errorColor:{color:"red"},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},margin:{marginTop:"10px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginBotton:"10px"}},reOtp:{color:"".concat(e.palette.common.deluge),cursor:"pointer","&:hover":{textDecoration:"underline"}}}})),Wd=function(e){var t=Hd(),a=Object(n.useRef)(null),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(""),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=(b[0],b[1]),x=Object(n.useState)(""),E=Object(S.a)(x,2),v=(E[0],E[1]),y=Object(s.g)(),j=Object(n.useState)(""),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)(!1),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(!1),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(""),L=Object(S.a)(R,2),F=L[0],M=L[1],P=Object(n.useState)(e.token),U=Object(S.a)(P,2),Y=U[0],H=U[1];function W(){return(W=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Regenerate OTP for: ",e.user),t.next=4,Ud.sendOtp({username:e.user,send_direct:"true",user_id:e.userId});case 4:a=t.sent,console.log("OTP is: ",a),200===a.status&&(console.log("OTP Sent Successfully"),H(a.data.data.access_token),M(a.data.message),A(!0)),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),M("Failed to send OTP"),D(!0);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function G(){return V.apply(this,arguments)}function V(){return(V=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Regenerate OTP for: ",e.user),a=localStorage.getItem("srmToken"),t.next=5,Ud.updatePhone(a,e.editableId,{phone_number:e.user,is_primary:"false"});case 5:n=t.sent,console.log("OTP is: ",n),200===n.status&&(console.log(n),y.push("/profile"),e.onClose()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function K(){return q.apply(this,arguments)}function q(){return(q=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.postPhone(a,{user_id:e.userId,phone_number:e.user,is_primary:"false"});case 4:n=t.sent,console.log("Response",n),200===n.status&&(y.push("/profile"),e.onClose()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function J(){return(J=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.handleLoading(!0),t.next=4,Ud.otpValidate(Y,{otp:p});case 4:a=t.sent,e.handleLoading(!1),200===a.status&&(v(a.data.data.token),h(!0),e.editableId?G():K()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),N("OTP is not correct"),e.handleLoading(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}var Q=function(e){"clickaway"!==e&&(A(!1),D(!1))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:e.open,onClose:e.onClose,maxWidth:"xs",fullWidth:!1,classes:{paper:t.dialogPaper}},r.a.createElement(Qe.a,{classes:{root:t.dataContentRoot}},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:Ld.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"Change Phone Number")),r.a.createElement(m.a,{className:"".concat(t.errorColor)},C),r.a.createElement("form",{className:t.formStyle,onSubmit:function(e){e.preventDefault(),console.log("OTP Submited"),function(){J.apply(this,arguments)}()}},r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"otp",ref:a,name:"otp",className:t.inputBorder,type:"text",onChange:function(e){var t=e.target.name;N("");"otp"===t&&g(p=e.target.value),/^[0-9]{6}$/gm.test(p)?l(!1):l(!0)},placeholder:"Enter OTP"}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"otpSubmit",type:"submit",variant:"contained",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disabled:i,disableElevation:!0},"SUBMIT")),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"outlined",className:"".concat(t.fieldStyle," ","loginBtn"),color:"oulined",disableElevation:!0,onClick:function(t){e.onClose()}},"Cancel")),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(m.a,null,r.a.createElement("span",{className:t.reOtp,onClick:function(e){!function(){W.apply(this,arguments)}()}},"Re-Generate OTP")))))),r.a.createElement(ae.a,{open:T,autoHideDuration:6e3,onClose:Q},r.a.createElement(Yd,{onClose:Q,severity:"success"},F)),r.a.createElement(ae.a,{open:B,autoHideDuration:6e3,onClose:Q},r.a.createElement(Yd,{onClose:Q,severity:"error"},F)))},Gd=Object(I.a)((function(e){return{dialogPaper:{width:"300px"},cardHeader:{textAlign:"left"},profileTitle:{display:"inline",marginLeft:"5px",fontWeight:500,fontSize:"14px",textTransform:"uppercase"},iconStyle:{width:"19px",height:"19px",transform:"translateY(4px)"},formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center",paddingBttom:"20px"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dataContentRoot:{padding:"24px"},errorColor:{color:"red"},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},margin:{marginTop:"10px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginBotton:"10px"}}}})),Vd=Object(i.c)((function(e){return{userInfo:e.auth.userInfo}}))((function(e){var t=Gd(),a=e.userInfo,o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(""),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)(!1),f=Object(S.a)(g,2),b=f[0],h=(f[1],Object(n.useState)("")),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(!1),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(!0),_=Object(S.a)(A,2),I=_[0],B=_[1];function D(e){return R.apply(this,arguments)}function R(){return(R=Object(Ca.a)(Sa.a.mark((function e(t){var n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Send OTP Function for user: ",t),L(!0),e.next=5,Ud.sendOtp({username:t,send_direct:"true",user_id:a.id});case 5:n=e.sent,console.log("OTP is: ",n.data.data.otp),v(n.data.data.access_token),L(!1),200===n.status&&(console.log("OTP Sent Successfully"),l(!0)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),C("User not found"),L(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var L=function(e){T(e)};Object(n.useEffect)((function(){b&&D(u)}),[b]);var F=r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:e.open,onClose:e.handleClose,maxWidth:"xs",fullWidth:!1,classes:{paper:t.dialogPaper}},r.a.createElement(Qe.a,{classes:{root:t.dataContentRoot}},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:Ld.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"Change Phone Number")),r.a.createElement(m.a,{className:"".concat(t.errorColor)},O),r.a.createElement("form",{className:t.formStyle,onSubmit:function(e){e.preventDefault(),B(!0),D(u)}},r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"username",name:"username",className:t.inputBorder,type:"text",onChange:function(e){C("");p(e.target.value),B(!1),/^[0-9]{9}$/gm.test(u)?B(!1):B(!0)},placeholder:"Enter Phone Number"}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"contained",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0,disabled:I},"SUBMIT")),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"outlined",className:"".concat(t.fieldStyle," ","loginBtn"),color:"oulined",disableElevation:!0,onClick:function(t){e.handleClose()}},"Cancel"))))));return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(Wd,{open:e.open,onClose:e.handleClose,editableId:e.editableId,userId:e.userInfo.id,user:u,handleLoading:L,token:E}):F,r.a.createElement(Tr,{open:w}))}));function Kd(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var qd=Object(I.a)((function(e){return{dialogPaper:{width:"300px"},cardHeader:{textAlign:"left"},profileTitle:{display:"inline",marginLeft:"5px",fontWeight:500,fontSize:"14px",textTransform:"uppercase"},iconStyle:{width:"19px",height:"19px",transform:"translateY(4px)"},formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center",paddingBttom:"20px"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dataContentRoot:{padding:"24px"},errorColor:{color:"red"},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},margin:{marginTop:"10px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginBotton:"10px"}},reOtp:{color:"".concat(e.palette.common.deluge),cursor:"pointer","&:hover":{textDecoration:"underline"}}}})),Jd=function(e){var t=qd(),a=Object(n.useRef)(null),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(""),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=(b[0],b[1]),x=Object(n.useState)(""),E=Object(S.a)(x,2),v=(E[0],E[1]),y=Object(s.g)(),j=Object(n.useState)(""),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)(!1),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(!1),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(""),L=Object(S.a)(R,2),F=L[0],M=L[1],P=Object(n.useState)(e.token),U=Object(S.a)(P,2),Y=U[0],H=U[1];function W(){return(W=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Regenerate OTP for: ",e.user),t.next=4,Ud.sendOtp({username:e.user,send_direct:"true",user_id:e.userId});case 4:200===(a=t.sent).status&&(console.log("OTP Sent Successfully"),H(a.data.data.access_token),M(a.data.message),A(!0)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),M("Failed to send OTP"),D(!0);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function G(){return V.apply(this,arguments)}function V(){return(V=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Regenerate OTP for: ",e.user),a=localStorage.getItem("srmToken"),t.next=5,Ud.updateEmail(a,e.editableId,{email:e.user,is_primary:"false"});case 5:200===t.sent.status&&(y.push("/profile"),e.onClose()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function K(){return q.apply(this,arguments)}function q(){return(q=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.postEmail(a,{user_id:e.userId,email:e.user,is_primary:"false"});case 4:n=t.sent,console.log("Response",n),200===n.status&&(y.push("/profile"),e.onClose()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function J(){return(J=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.handleLoading(!0),t.next=4,Ud.otpValidate(Y,{otp:p});case 4:a=t.sent,e.handleLoading(!1),200===a.status&&(v(a.data.data.token),h(!0),console.log(e.editableId,"To be edit"),e.editableId?G():K()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),N("OTP is not correct"),e.handleLoading(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}var Q=function(e){"clickaway"!==e&&(A(!1),D(!1))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:e.open,onClose:e.onClose,maxWidth:"xs",fullWidth:!1,classes:{paper:t.dialogPaper}},r.a.createElement(Qe.a,{classes:{root:t.dataContentRoot}},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:Md.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"Change Email Address")),r.a.createElement(m.a,{className:"".concat(t.errorColor)},C),r.a.createElement("form",{className:t.formStyle,onSubmit:function(e){e.preventDefault(),console.log("OTP Submited"),l(!0),function(){J.apply(this,arguments)}()}},r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"otp",ref:a,name:"otp",className:t.inputBorder,type:"text",onChange:function(e){var t=e.target.name;N("");"otp"===t&&g(p=e.target.value),/^[0-9]{6}$/gm.test(p)?l(!1):l(!0)},placeholder:"Enter OTP"}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"otpSubmit",type:"submit",variant:"contained",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disabled:i,disableElevation:!0},"SUBMIT")),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"outlined",className:"".concat(t.fieldStyle," ","loginBtn"),color:"oulined",disableElevation:!0,onClick:function(t){e.onClose()}},"Cancel")),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(m.a,null,r.a.createElement("span",{className:t.reOtp,onClick:function(){!function(){W.apply(this,arguments)}()}},"Re-Generate OTP")))))),r.a.createElement(ae.a,{open:T,autoHideDuration:6e3,onClose:Q},r.a.createElement(Kd,{onClose:Q,severity:"success"},F)),r.a.createElement(ae.a,{open:B,autoHideDuration:6e3,onClose:Q},r.a.createElement(Kd,{onClose:Q,severity:"error"},F)))},Qd=Object(I.a)((function(e){return{dialogPaper:{width:"300px"},cardHeader:{textAlign:"left"},profileTitle:{display:"inline",marginLeft:"5px",fontWeight:500,fontSize:"14px",textTransform:"uppercase"},iconStyle:{width:"19px",height:"19px",transform:"translateY(4px)"},formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center",paddingBttom:"20px"},boxMargin:{marginTop:"30px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dataContentRoot:{padding:"24px"},errorColor:{color:"red"},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},margin:{marginTop:"10px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginBotton:"10px"}}}})),Xd=Object(i.c)((function(e){return{userInfo:e.auth.userInfo}}))((function(e){var t=Qd(),a=e.userInfo,o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(""),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)(!1),f=Object(S.a)(g,2),b=f[0],h=(f[1],Object(n.useState)("")),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(!1),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(!1),_=Object(S.a)(A,2),I=_[0],B=_[1];function D(e){return R.apply(this,arguments)}function R(){return(R=Object(Ca.a)(Sa.a.mark((function e(t){var n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Send OTP Function for user: ",t),L(!0),e.next=5,Ud.sendOtp({username:t,send_direct:"true",user_id:a.id});case 5:n=e.sent,console.log("OTP is: ",n.data.data.otp),v(n.data.data.access_token),L(!1),200===n.status&&(console.log("OTP Sent Successfully"),l(!0)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),C("Check your email"),L(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var L=function(e){T(e)};Object(n.useEffect)((function(){b&&D(u)}),[b]);var F=r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:e.open,onClose:e.handleClose,maxWidth:"xs",fullWidth:!1,classes:{paper:t.dialogPaper}},r.a.createElement(Qe.a,{classes:{root:t.dataContentRoot}},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:Md.a,className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},"Change Email Address")),r.a.createElement(m.a,{className:"".concat(t.errorColor)},O),r.a.createElement("form",{className:t.formStyle,onSubmit:function(e){e.preventDefault(),B(!0),D(u)}},r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"username",name:"username",className:t.inputBorder,type:"email",onChange:function(e){C(""),B(!1),p(e.target.value)},placeholder:"Enter Email Address",required:!0}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"contained",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0,disabled:I},"SUBMIT")),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"outlined",className:"".concat(t.fieldStyle," ","loginBtn"),color:"oulined",disableElevation:!0,onClick:function(t){e.handleClose()}},"Cancel"))))));return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(Jd,{open:e.open,onClose:e.handleClose,editableId:e.editableId,userId:a.id,user:u,handleLoading:L,token:E}):F,r.a.createElement(Tr,{open:w}))})),Zd=Object(I.a)((function(e){return{dialogPaper:{width:"400px"},cardHeader:{textAlign:"left"},profileTitle:{display:"inline",marginLeft:"5px",fontWeight:500,fontSize:"14px",textTransform:"uppercase"},iconStyle:{width:"19px",height:"19px",transform:"translateY(4px)"},formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center",paddingBttom:"20px"},boxMargin:{marginTop:"10px","@media (max-width:400px)":{marginTop:"10px"}},fieldStyle:{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dataContentRoot:{padding:"24px"},errorColor:{color:"red"},inputBorder:{height:"50px","& span":{paddingLeft:"10px"}},MuiSelect:{textAlign:"left"},margin:{marginTop:"10px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px",marginBotton:"10px"}}}})),$d=Object(i.c)((function(e){return{userInfo:e.auth.userInfo}}))((function(e){console.log(e.address);var t=e.address,a=t.address_line1,o=t.address_line2,c=t.address_line3,i=t.pincode,l=t.city_id,d=t.state_id,u=t.country_id,p=Zd(),g=Object(s.g)(),f=Object(n.useState)(a||""),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(o||""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(c||""),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(e.address?e.address.landmark:""),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(i||""),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)(e.address?e.address.reason:""),F=Object(S.a)(L,2),P=F[0],U=F[1],Y=Object(n.useState)(),H=Object(S.a)(Y,2),W=H[0],G=H[1],V=Object(n.useState)([]),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)([]),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)([]),te=Object(S.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(u||"101"),oe=Object(S.a)(re,2),ce=oe[0],ie=oe[1],le=Object(n.useState)(d||""),se=Object(S.a)(le,2),de=se[0],me=se[1],ue=Object(n.useState)(l||""),pe=Object(S.a)(ue,2),ge=pe[0],fe=pe[1],be=Object(n.useState)(""),he=Object(S.a)(be,2),xe=he[0],Ee=he[1],ve=Object(n.useState)(!1),ye=Object(S.a)(ve,2),je=(ye[0],ye[1]),Oe=e.userInfo.id;function Se(){return(Se=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("user_id",Oe),t.append("address_line1",h),t.append("address_line2",y),t.append("address_line3",N),t.append("landmark",A),t.append("is_primary","false"),t.append("country_id",parseInt(ce)),t.append("state_id",parseInt(de)),t.append("city_id",parseInt(ge)),t.append("pincode",D),t.append("reason",P),t.append("upload_document",W),a=localStorage.getItem("srmToken"),e.next=17,Ud.postAddress(a,t);case 17:200===(n=e.sent).status&&(console.log(n,"response from address"),g.push("/profile")),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0),413===e.t0.response.status&&Ee("File too Large"),Ee("Failed to Update");case 26:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchCountries(a);case 4:200===(n=t.sent).status&&e&&(J(n.data.data),ie("101")),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),Ee("Error in fetching Countries"),Ce(!1);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,Ud.fetchStates(t,{country_id:parseInt(ce)});case 4:200===(a=e.sent).status&&$(a.data.data),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),Ee("Error in fetching sates"),Ce(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}""!==ce&&function(){e.apply(this,arguments)}()}),[ce]),Object(n.useEffect)((function(){function e(){return(e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,Ud.fetchCities(t,{state_id:parseInt(de)});case 4:200===(a=e.sent).status&&ne(a.data.data),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),Ee("Error in fetching cities"),Ce(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}""!==de&&function(){e.apply(this,arguments)}()}),[de]);var Ce=function(e){je(e)},Ne=function(e){Ee(""),"flat"===e.target.name&&x(e.target.value),"area"===e.target.name&&j(e.target.value),"address3"===e.target.name&&k(e.target.value),"landmark"===e.target.name&&_(e.target.value),"pincode"===e.target.name&&R(e.target.value),"reason"===e.target.name&&U(e.target.value),"file"===e.target.name&&G(e.target.files[0])},ke=r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:e.open,onClose:e.handleClose,maxWidth:"xs",fullWidth:!1,classes:{paper:p.dialogPaper}},r.a.createElement(Qe.a,{classes:{root:p.dataContentRoot}},r.a.createElement("div",{className:p.cardHeader},r.a.createElement("img",{src:zd.a,className:p.iconStyle}),r.a.createElement(m.a,{className:p.profileTitle},"Change Address")),r.a.createElement(m.a,{className:"".concat(p.errorColor)},xe),r.a.createElement("form",{encType:"multipart/form-data",className:p.formStyle,onSubmit:function(e){e.preventDefault(),""!==h&&""!==y&&""!==de&&""!==ge&&""!==D&&""!==P&&""!==W&&null!==W&&W?(console.log("Submitted"),function(){Se.apply(this,arguments)}()):Ee("Fill mandatory data")}},r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Qt.a,{id:"flat",name:"flat",className:p.inputBorder,type:"text",onChange:Ne,placeholder:"Flat/Home Number",value:h}))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Qt.a,{id:"area",name:"area",className:p.inputBorder,type:"text",onChange:Ne,placeholder:"Area, Street Number",value:y}))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Qt.a,{id:"address3",name:"address3",className:p.inputBorder,type:"text",onChange:Ne,placeholder:"Address Line 3",value:N}))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Qt.a,{id:"landmark",name:"landmark",className:p.inputBorder,type:"text",onChange:Ne,placeholder:"Landmark",value:A}))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Wr.a,{id:"countryIP"},"Country"),r.a.createElement(Gr.a,{labelId:"countryIP",id:"countryIP",value:ce,onChange:function(e){ie(e.target.value)},classes:{select:p.MuiSelect}},q.map((function(e){return r.a.createElement(M.a,{value:e.id,key:e.id},e.display_name)}))))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Wr.a,{id:"StateIp"},"State"),r.a.createElement(Gr.a,{labelId:"StateIp",id:"StateIp",value:de,onChange:function(e){me(e.target.value)},classes:{select:p.MuiSelect}},Z.map((function(e){return r.a.createElement(M.a,{value:e.id,key:e.id},e.name)}))))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Wr.a,{id:"CityIp"},"City"),r.a.createElement(Gr.a,{labelId:"CityIp",id:"CityIp",value:ge,onChange:function(e){fe(e.target.value)},classes:{select:p.MuiSelect}},ae.map((function(e){return r.a.createElement(M.a,{value:e.id,key:e.id},e.name)}))))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Qt.a,{id:"pincode",name:"pincode",className:p.inputBorder,type:"text",onChange:Ne,placeholder:"Pin Code",value:D}))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement(Qt.a,{id:"reason",name:"reason",className:p.inputBorder,type:"text",onChange:Ne,placeholder:"Reason",value:P}))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(dr.a,{className:p.fieldStyle},r.a.createElement("input",{id:"file",name:"file",className:p.inputBorder,type:"file",onChange:Ne,placeholder:"Images",accept:"image/*"}))),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"contained",className:"".concat(p.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0},"SUBMIT")),r.a.createElement(mr.a,{className:p.margin},r.a.createElement(z.a,{id:"phoneSubmit",type:"submit",variant:"outlined",className:"".concat(p.fieldStyle," ","loginBtn"),color:"oulined",disableElevation:!0,onClick:function(t){e.handleClose()}},"Cancel"))))));return r.a.createElement(r.a.Fragment,null,ke)})),em=Object(I.a)((function(e){return{profileDiv:{marginTop:"32px"},header:{display:"flex"},cardHeader:{marginLeft:"4px"},profileTitle:{display:"inline",marginLeft:"5px",fontWeight:600,textTransform:"uppercase"},editBtnDiv:{marginLeft:"auto",marginRight:"10px",transform:"translateY(2px)"},editBtn:{width:"19px",height:"19px",transform:"translateY(2px)",cursor:"pointer"},iconStyle:{width:"19px",height:"19px",transform:"translateY(4px)"},profile:{marginTop:"12px"},card:{boxShadow:"none",borderRadius:"10px"},cardContent:{padding:"20px !important"}}})),tm=function(e){var t=em(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=e.title,x=e.editableId,E={Phone:Ld.a,"Contact Details":Ld.a,Email:Md.a,Address:zd.a,Children:Dd.a,Parents:Dd.a,"Associated Accounts":Dd.a};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileDiv},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:E[h],className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},h)),"Children"===h||"Parents"===h||"Associated Accounts"===h?"":r.a.createElement("div",{className:t.editBtnDiv},r.a.createElement("img",{src:an.a,className:t.editBtn,onClick:function(e){"Phone"===h&&i(!0),"Contact Details"===h&&i(!0),"Email"===h&&u(!0),"Address"===h&&(console.log("Here"),b(!0))}}))),r.a.createElement("div",{className:t.profile},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},e.children)))),c?r.a.createElement(Vd,{open:c,editableId:x,handleClose:function(){i(!1)}}):"",d?r.a.createElement(Xd,{open:d,editableId:x,handleClose:function(){u(!1)}}):"",f?r.a.createElement($d,{address:e.address,open:f,editableId:x,handleClose:function(){b(!1)}}):"")},am=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"}}})),nm=function(e){var t=am(),a=e.primary,n=e.secondary,o=e.secondaryPhoneId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(tm,{title:"Phone",editableId:o},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:t.labelText},"Primary -")),r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText," ").concat(t.margin5)},a||"N/A"))),r.a.createElement("div",{className:"".concat(t.mainDiv," ").concat(t.mainMarginLeft)},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:t.labelText},"Secondary -")),r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText," ").concat(t.margin5)},n||"N/A")))),r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:"".concat(t.mainDiv," ").concat(t.mainMarginTop)},r.a.createElement(m.a,{className:t.labelText},"NOTE - Only secondary numbers can be edited. Please click on \u201cEdit Button\u201d for changing secondary numbers."))))))},rm=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"}}})),om=function(e){var t=rm(),a=e.primary,n=e.secondary,o=e.secondaryEmailId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(tm,{title:"Email",editableId:o},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:t.labelText},"Primary -")),r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText," ").concat(t.margin5)},a||"N/A"))),r.a.createElement("div",{className:"".concat(t.mainDiv," ").concat(t.mainMarginLeft)},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:t.labelText},"Secondary -")),r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText," ").concat(t.margin5)},n||"N/A")))),r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:"".concat(t.mainDiv," ").concat(t.mainMarginTop)},r.a.createElement(m.a,{className:t.labelText},"NOTE - Only secondary emails can be edited. Please click on \u201cEdit Button\u201d for changing secondary emails."))))))},cm=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"}}})),im=function(e){var t=cm(),a=e.address,n=e.showNoAdd;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(tm,{title:"Address",editableId:e.addressId,address:a},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},a?r.a.createElement(m.a,{className:"".concat(t.normalText)},a.address_line1?"".concat(a.address_line1,","):""," ",a.address_line2?"".concat(a.address_line2,","):""," ",a.address_line3?"".concat(a.address_line3,","):""," ",a.city_name," ",a.state_name," ",a.country_name," ",a.pincode):"",n?r.a.createElement(m.a,{className:"".concat(t.normalText)},"Address update is waiting for approval"):""))))))},lm=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},profile:{textAlign:"right"},profilePictureDiv:{width:"50px",height:"50px",borderRadius:"50%",marginLeft:"auto",border:"1px solid"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.srmBastille),fontWeight:500,opacity:1},lightText:{color:"".concat(e.palette.common.srmBastille),fontSize:"14px",fontStyle:"normal"},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"},TopContent:{},capitalize:{textTransform:"capitalize"},BottomContent:{paddingTop:"20px"}}})),sm=function(e){var t=lm(),a=e.students;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(tm,{title:"Children"},a.map((function(e,a){return r.a.createElement("div",{className:t.TopContent,key:a},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText)},e.firstname," ",e.lastname)))),r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.lightText)},r.a.createElement("span",{className:t.capitalize},e.gender)))))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:t.profilePictureDiv,style:{backgroundImage:"url(".concat(e.thumbnail,")"),"background-repeat":"no-repeat","background-size":"cover","background-position":"center"}})))),r.a.createElement("br",null))})))))},dm=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},profile:{textAlign:"right"},profilePictureDiv:{width:"50px",height:"50px",borderRadius:"50%",marginLeft:"auto",border:"1px solid"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.srmBastille),fontWeight:500,opacity:1},capitalize:{textTransform:"capitalize"},lightText:{color:"".concat(e.palette.common.srmBastille),fontSize:"14px",fontStyle:"normal"},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"}}})),mm=function(e){var t=dm(),a=e.associatedAccounts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(tm,{title:"Associated Accounts"},a.map((function(e,a){return r.a.createElement("div",{className:t.TopContent,key:a},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText)},e.parents_data.firstname," ",e.parents_data.lastname)))),r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.lightText)},r.a.createElement("span",{className:t.capitalize},e.relation_type)))))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:t.profilePictureDiv,style:{backgroundImage:"url(".concat(e.parents_data.thumbnail,")"),"background-repeat":"no-repeat","background-size":"cover","background-position":"center"}})))))})))))},um=Object(I.a)((function(e){return{dialogPaper:{width:"369px"},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"},formStyle:{margin:"auto",width:"100%",justifyContent:"center",textAlign:"center"},fieldStyle:{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px"},errorColor:{color:"red"},helperText:{color:"#f44336",display:"none"},margin:{marginTop:"20px","@media (max-width:400px)":{marginTop:"10px"},"& .loginBtn":{borderRadius:"6px"}},marginBottom:{marginBottom:"20px"}}})),pm=function(e){var t=um(),a=e.open,o=e.handleClose,c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],s=i[1],d=Object(n.useState)(""),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(""),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!1),C=Object(S.a)(O,2),N=C[0],k=(C[1],Object(n.useState)("")),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(!1),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(!1),L=Object(S.a)(R,2),F=L[0],M=L[1],P=Object(n.useState)(!1),U=Object(S.a)(P,2),Y=U[0],H=U[1];Object(n.useEffect)((function(){s(""===h||""===y||h!==y)}),[h,y]);var G=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(h.length<6)){t.next=5;break}A("Password should have more than 6 characters"),t.next=17;break;case 5:return t.prev=5,n=localStorage.getItem("srmToken"),t.next=9,Ud.changePassword(n,{old_password:p,new_password:h,confirm_password:y});case 9:r=t.sent,console.log("Response",r),200===r.data.status?(o(),e.handleSnackbar(!0,r.data.message,!1)):A(r.data.message),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:a,onClose:o,maxWidth:"xs",fullWidth:!1,classes:{paper:t.dialogPaper}},r.a.createElement(Qe.a,null,r.a.createElement("div",null,r.a.createElement("form",{className:t.formStyle,onSubmit:G},r.a.createElement(m.a,{variant:"h6"},"Change Password"),r.a.createElement(m.a,{className:"".concat(t.errorColor)},T),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"oldPassword",className:t.inputBorder,type:B?"text":"password",endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle password visibility",onClick:function(){D(!B)}},B?r.a.createElement(_r.a,null):r.a.createElement(Br.a,null))),required:!0,value:p,onChange:function(e){g(e.target.value)},placeholder:"Old Password"}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"password",className:t.inputBorder,type:F?"text":"password",endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle password visibility",onClick:function(){M(!F)}},F?r.a.createElement(_r.a,null):r.a.createElement(Br.a,null))),required:!0,value:h,onChange:function(e){A(""),x(e.target.value)},placeholder:"Password"}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Qt.a,{id:"repassword",className:t.inputBorder,type:Y?"text":"password",endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,{"aria-label":"toggle confirm password visibility",onClick:function(){H(!Y)}},Y?r.a.createElement(_r.a,null):r.a.createElement(Br.a,null))),required:!0,value:y,onChange:function(e){A(""),j(e.target.value)},error:N,placeholder:"Re-enter passoword"}))),r.a.createElement(mr.a,{className:t.margin},r.a.createElement(z.a,{variant:"contained",type:"submit",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0,disabled:l},"Change")),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.marginBottom)},r.a.createElement(z.a,{variant:"outlined",className:"".concat(t.fieldStyle," ","loginBtn"),color:"primary",disableElevation:!0,onClick:e.handleClose},"Cancel")))))))};function gm(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var fm=Object(I.a)((function(e){return{profileNameDiv:{textAlign:"center",marginTop:"30px"},input:{display:"none"},profilePictureDiv:{width:"120px",height:"120px",borderRadius:"50%",margin:"auto",border:"1px solid"},editProfile:{transform:"translate(35px,75px)",cursor:"pointer"},profileName:{fontStyle:"normal",fontSize:"24px",fontWeight:500},changePwdDiv:{width:"95%",marginTop:"40px",margin:"auto"},changePwd:{width:"100%",height:"50px",borderRadius:"5px",borderWidth:"2px",borderStyle:"solid"}}})),bm=Object(i.c)((function(e){return{userInfo:e.auth.userInfo}}),(function(e){return{onChangeProfile:function(t){return e(tt(t))}}}))((function(e){var t=fm(),a=Object(s.g)(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!0),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!1),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(null),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(null),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)(""),F=Object(S.a)(L,2),M=F[0],P=F[1],U=Object(n.useState)(""),Y=Object(S.a)(U,2),H=Y[0],G=Y[1],V=Object(n.useState)(),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)(""),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)(""),te=Object(S.a)(ee,2),ne=te[0],re=te[1],oe=Object(n.useState)(),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=Object(n.useState)([]),de=Object(S.a)(se,2),me=de[0],ue=de[1],pe=Object(n.useState)(),ge=Object(S.a)(pe,2),fe=ge[0],be=ge[1],he=Object(n.useState)(""),xe=Object(S.a)(he,2),Ee=xe[0],ve=xe[1],ye=Object(n.useState)(""),je=Object(S.a)(ye,2),Oe=je[0],Se=je[1],Ce=Object(n.useState)([]),Ne=Object(S.a)(Ce,2),ke=Ne[0],we=Ne[1],Te=Object(n.useState)(!1),Ae=Object(S.a)(Te,2),_e=Ae[0],Ie=Ae[1],Be=Object(n.useState)([]),De=Object(S.a)(Be,2),Re=De[0],Le=De[1],Fe=e.userInfo,Me=Fe.id;Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchuser(a,Fe.id);case 4:200===(n=t.sent).status&&e&&(_(n.data.data),R(n.data.data.user_details.thumbnail)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchPhones(a);case 4:200===(n=t.sent).status&&e&&(P(n.data.data[0].phone_number),G(n.data.data[1].phone_number),J(n.data.data[1].id)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchEmails(a);case 4:200===(n=t.sent).status&&e&&($(n.data.data[0].email),re(n.data.data[1].email),le(n.data.data[1].id)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchAddress(a);case 4:200===(n=t.sent).status&&e&&(0===n.data.data.length?Ie(!0):(Le(n.data.data[0]),be(n.data.data[0].id))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchStudents(a);case 4:200===(n=t.sent).status&&e&&(r=[],n.data.data.map((function(e){r.push(e.students_data),Se(e.students_data.username)})),ue(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:g(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return t(),a(),n(),r(),o(),function(){e=!1}}),[]),Object(n.useEffect)((function(){var e=!0;return""!==Oe&&function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchParents(a,Oe);case 4:200===(n=t.sent).status?e&&(r=[],n.data.data.map((function(e){Me!==e.parents_data.id&&r.push(e)})),we(r)):console.log("Error"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[Oe]);var Pe=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var n,r,o,c;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},t.next=3,n(Ee);case 3:return r=t.sent,t.prev=4,o=localStorage.getItem("srmToken"),t.next=8,Ud.updateUserPic(o,Fe.id,{thumbnail:r});case 8:200===(c=t.sent).status&&(e.onChangeProfile(c.data.thumbnail),a.push("/profile")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){Ee&&Pe()}),[Ee]);var ze=function(e,t){"clickaway"!==t&&(x(!1),k(!1))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:t.profileNameDiv},r.a.createElement("div",{className:t.profilePictureDiv,style:{backgroundImage:"url(".concat(D,")"),"background-repeat":"no-repeat","background-size":"cover","background-position":"center"}},r.a.createElement("form",null,r.a.createElement("input",{id:"icon-button-file",name:"file",className:"".concat(t.input),type:"file",onChange:function(e){ve(e.target.files[0])},placeholder:"Document",accept:"image/*"})),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(W.a,{color:"primary","aria-label":"upload picture",component:"span",className:t.editProfile},r.a.createElement("img",{src:xl.a,alt:"Edit Profile Pic"})))),r.a.createElement(m.a,{className:t.profileName},A?"".concat(A.user_details.firstname," ").concat(A.user_details.lastname):"")),r.a.createElement(nm,{primary:M,secondary:H,secondaryPhoneId:q}),r.a.createElement(om,{primary:Z,secondary:ne,secondaryEmailId:ie}),r.a.createElement(im,{address:Re,addressId:fe,showNoAdd:_e}),0===me.length?"":r.a.createElement(sm,{students:me}),0===ke.length?"":r.a.createElement(mm,{associatedAccounts:ke}),r.a.createElement("div",{className:t.changePwdDiv},r.a.createElement(z.a,{variant:"outlined",color:"primary",className:t.changePwd,onClick:function(e){l(!0)}},"Change Password"))),r.a.createElement("br",null),r.a.createElement("br",null),i?r.a.createElement(pm,{open:i,handleClose:function(){l(!1)},handleSnackbar:function(e,t,a){x(e),j(t),k(a)}}):"",r.a.createElement(ae.a,{open:h,autoHideDuration:6e3,onClose:ze},r.a.createElement(gm,{onClose:ze,severity:"success"},y)),r.a.createElement(ae.a,{open:N,autoHideDuration:6e3,onClose:ze},r.a.createElement(gm,{onClose:ze,severity:"error"},y)),r.a.createElement(Tr,{open:p}))})),hm=Object(I.a)((function(e){return{profileDiv:{marginTop:"32px"},header:{display:"flex"},cardHeader:{marginLeft:"4px"},profileTitle:{display:"inline",marginLeft:"5px",fontWeight:600,textTransform:"uppercase"},editBtnDiv:{marginLeft:"auto",marginRight:"10px",transform:"translateY(2px)"},editBtn:{width:"19px",height:"19px",transform:"translateY(2px)",cursor:"pointer"},iconStyle:{width:"19px",height:"19px",transform:"translateY(4px)"},profile:{marginTop:"12px"},card:{boxShadow:"none",borderRadius:"10px"},cardContent:{padding:"20px !important"}}})),xm=function(e){var t=hm(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=e.title,x=e.editableId,E={Phone:Ld.a,"Contact Details":Ld.a,Email:Md.a,Address:zd.a,Children:Dd.a,Parents:Dd.a,"Associated Accounts":Dd.a};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileDiv},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.cardHeader},r.a.createElement("img",{src:E[h],className:t.iconStyle}),r.a.createElement(m.a,{className:t.profileTitle},h))),r.a.createElement("div",{className:t.profile},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},e.children)))),c?r.a.createElement(Vd,{open:c,editableId:x,handleClose:function(){i(!1)}}):"",d?r.a.createElement(Xd,{open:d,editableId:x,handleClose:function(){u(!1)}}):"",f?r.a.createElement($d,{address:e.address,open:f,editableId:x,handleClose:function(){b(!1)}}):"")},Em=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},mainDiv:Object(C.a)({display:"flex",width:"100%"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),detailsSpan:{paddingLeft:"30px"},detailsStyle:{paddingLeft:"10px"},iconStyle:{height:"14px"},mainMarginTop:{marginTop:"10px"}}})),vm=function(e){var t=Em(),a=e.gender,n=e.userPhones[0],o=e.userEmails[0];return console.log("UserPhones from phone",e.userPhones),console.log("UserEmails from phone",o),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(xm,{title:"Contact Details"},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:" ".concat(t.margin5)},r.a.createElement("span",null,r.a.createElement("img",{src:Dd.a}),r.a.createElement("span",{className:t.detailsStyle},a)))))),r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(en.a,{container:!0},n?n.map((function(e){return r.a.createElement(en.a,{sm:6,xs:6},r.a.createElement(m.a,{className:" ".concat(t.margin5)},r.a.createElement("span",null,r.a.createElement("img",{src:Ld.a,className:t.iconStyle}),r.a.createElement("span",{className:t.detailsStyle},e.phone_number))))})):""),r.a.createElement(en.a,{container:!0},o?o.map((function(e){return r.a.createElement(en.a,{sm:6,xs:6},r.a.createElement(m.a,{className:" ".concat(t.margin5)},r.a.createElement("span",null,r.a.createElement("img",{src:Md.a,className:t.iconStyle}),r.a.createElement("span",{className:t.detailsStyle},e.email))))})):"")))))))},ym=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"}}})),jm=function(e){var t=ym(),a=e.address;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(xm,{title:"Address",address:a},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},a?r.a.createElement(m.a,{className:"".concat(t.normalText)},a.address_line1?"".concat(a.address_line1,","):""," ",a.address_line2?"".concat(a.address_line2,","):""," ",a.address_line3?"".concat(a.address_line3,","):""," ",a.city_name," ",a.state_name," ",a.country_name," ","- ",a.pincode):""))))))},Om=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},profile:{textAlign:"right"},profilePictureDiv:{width:"50px",height:"50px",borderRadius:"50%",marginLeft:"auto",border:"1px solid"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.srmBastille),fontWeight:500,opacity:1},lightText:{color:"".concat(e.palette.common.srmBastille),fontSize:"14px",fontStyle:"normal"},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),capitalize:{textTransform:"capitaize"},mainMarginTop:{marginTop:"10px"},TopContent:{paddingTop:"10px",borderBottom:"1px solid #D1D1D6",paddingBottom:"10px"}}})),Sm=function(e){var t=Om(),a=e.parentsData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(xm,{title:"Parents"},a.map((function(e){return r.a.createElement("div",{className:t.TopContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText)},e.parents_data.firstname," ",e.parents_data.lastname))),r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.lightText)},r.a.createElement("span",{className:t.capitalize},e.relation_type))))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:t.profilePictureDiv,style:{backgroundImage:"url(".concat(e.parents_data.thumbnail,")"),"background-repeat":"no-repeat","background-size":"cover","background-position":"center"}})))))})))))};function Cm(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var Nm=Object(I.a)((function(e){return{profileNameDiv:{textAlign:"center",marginTop:"30px"},profilePictureDiv:{width:"120px",height:"120px",borderRadius:"50%",margin:"auto",border:"1px solid"},editProfile:{transform:"translate(35px,75px)",cursor:"pointer"},profileName:{fontStyle:"normal",fontSize:"24px",fontWeight:500},changePwdDiv:{width:"95%",marginTop:"40px",margin:"auto"},input:{display:"none"},changePwd:{width:"100%",height:"50px",borderRadius:"5px",borderWidth:"2px",borderStyle:"solid"}}})),km=Object(i.c)((function(e){return{userInfo:e.auth.userInfo}}),(function(e){return{onChangeProfile:function(t){return e(tt(t))}}}))((function(e){var t=Nm(),a=Object(s.g)(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!0),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!1),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(null),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(null),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)([]),F=Object(S.a)(L,2),M=F[0],P=F[1],U=Object(n.useState)([]),Y=Object(S.a)(U,2),H=Y[0],G=Y[1],V=Object(n.useState)(null),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)([]),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)([]),te=Object(S.a)(ee,2),ne=te[0],re=te[1],oe=Object(n.useState)(""),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=e.userInfo;Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchuser(a,se.id);case 4:200===(n=t.sent).status&&e&&(_(n.data.data),R(n.data.data.user_details.thumbnail)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchAddress(a);case 4:n=t.sent,console.log("response",n.data.data[0].address_line1),200===n.status&&e&&J(n.data.data[0]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r,o;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchParents(a,se.username);case 4:200===(n=t.sent).status?e&&(r=[],o=[],n.data.data.map((function(e){r.push(e),o.push(e.parents_data.id)})),$(r),re(o)):console.log("Error"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:g(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return t(),n(),a(),function(){e=!1}}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,Ud.fetchUserPhones(a,t);case 4:200===(n=e.sent).status?(r=M,n.data.data.map((function(e){r.push(e)})),P([r])):console.log("Error"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,Ud.fetchUserEmails(a,t);case 4:200===(n=e.sent).status?(r=H,n.data.data.map((function(e){r.push(e)})),G([r])):console.log("Error"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();0!==ne.length&&ne.map((function(a){e(a),t(a)}))}),[ne]);var de=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var n,r,o,c;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},t.next=3,n(ie);case 3:return r=t.sent,t.prev=4,o=localStorage.getItem("srmToken"),t.next=8,Ud.updateUserPic(o,se.id,{thumbnail:r});case 8:200===(c=t.sent).status&&(a.push("/profile"),e.onChangeProfile(c.data.thumbnail)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){ie&&de()}),[ie]);var me=function(e,t){"clickaway"!==t&&(x(!1),k(!1))};return console.log("Phone",M),console.log("Email",H),console.log("address",q),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:t.profileNameDiv},r.a.createElement("div",{className:t.profilePictureDiv,style:{backgroundImage:"url(".concat(D,")"),"background-repeat":"no-repeat","background-size":"cover","background-position":"center"}},r.a.createElement("form",null,r.a.createElement("input",{id:"icon-button-file",name:"file",className:"".concat(t.input),type:"file",onChange:function(e){le(e.target.files[0])},placeholder:"Document",accept:"image/*"})),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(W.a,{color:"primary","aria-label":"upload picture",component:"span",className:t.editProfile},r.a.createElement("img",{src:xl.a,alt:"Edit Profile Pic"})))),r.a.createElement(m.a,{className:t.profileName},A?"".concat(A.user_details.firstname," ").concat(A.user_details.lastname):"")),r.a.createElement(vm,{gender:se.gender,userPhones:M,userEmails:H}),q?r.a.createElement(jm,{address:q}):"",r.a.createElement(Sm,{parentsData:Z}),r.a.createElement("div",{className:t.changePwdDiv},r.a.createElement(z.a,{variant:"outlined",color:"primary",className:t.changePwd,onClick:function(e){l(!0)}},"Change Password"))),r.a.createElement("br",null),r.a.createElement("br",null),i?r.a.createElement(pm,{open:i,handleClose:function(){l(!1)},handleSnackbar:function(e,t,a){x(e),j(t),k(a)}}):"",r.a.createElement(ae.a,{open:h,autoHideDuration:6e3,onClose:me},r.a.createElement(Cm,{onClose:me,severity:"success"},y)),r.a.createElement(ae.a,{open:N,autoHideDuration:6e3,onClose:me},r.a.createElement(Cm,{onClose:me,severity:"error"},y)),r.a.createElement(Tr,{open:p}))})),wm=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"}}})),Tm=function(e){var t=wm(),a=e.primary,n=e.secondary,o=e.secondaryPhoneId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(tm,{title:"Phone",editableId:o},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:t.labelText},"Primary -")),r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText," ").concat(t.margin5)},a||"N/A"))),r.a.createElement("div",{className:"".concat(t.mainDiv," ").concat(t.mainMarginLeft)},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:t.labelText},"Secondary -")),r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText," ").concat(t.margin5)},n||"N/A")))),r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:"".concat(t.mainDiv," ").concat(t.mainMarginTop)},r.a.createElement(m.a,{className:t.labelText},"NOTE - Only secondary numbers can be edited. Please click on \u201cEdit Button\u201d for changing secondary numbers."))))))},Am=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"}}})),_m=function(e){var t=Am(),a=e.primary,n=e.secondary,o=e.secondaryEmailId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(tm,{title:"Email",editableId:o},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:t.labelText},"Primary -")),r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText," ").concat(t.margin5)},a||"N/A"))),r.a.createElement("div",{className:"".concat(t.mainDiv," ").concat(t.mainMarginLeft)},r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:t.labelText},"Secondary -")),r.a.createElement("div",{className:t.contentDiv},r.a.createElement(m.a,{className:"".concat(t.normalText," ").concat(t.margin5)},n||"N/A")))),r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:"".concat(t.mainDiv," ").concat(t.mainMarginTop)},r.a.createElement(m.a,{className:t.labelText},"NOTE - Only secondary emails can be edited. Please click on \u201cEdit Button\u201d for changing secondary emails."))))))},Im=Object(I.a)((function(e){return{profileContainer:{width:"95%",margin:"0 auto"},mainDiv:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),contentDiv:Object(C.a)({},e.breakpoints.down("xs"),{display:"inline-block"}),labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},margin5:{marginLeft:"5px"},mainMarginLeft:Object(C.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:0}),mainMarginTop:{marginTop:"10px"}}})),Bm=function(e){var t=Im(),a=e.address,n=e.showNoAdd;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.profileContainer},r.a.createElement(tm,{title:"Address",editableId:e.addressId,address:a},r.a.createElement(en.a,{container:!0},r.a.createElement("div",{className:t.mainDiv},r.a.createElement("div",{className:t.contentDiv},a?r.a.createElement(m.a,{className:"".concat(t.normalText)},a.address_line1?"".concat(a.address_line1,","):""," ",a.address_line2?"".concat(a.address_line2,","):""," ",a.address_line3?"".concat(a.address_line3,","):""," ",a.city_name," ",a.state_name," ",a.country_name," ",a.pincode):"",n?r.a.createElement(m.a,{className:"".concat(t.normalText)},"Address update is waiting for approval"):""))))))};function Dm(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var Rm,Lm=Object(I.a)((function(e){return{profileNameDiv:{textAlign:"center",marginTop:"30px"},profilePictureDiv:{width:"120px",height:"120px",borderRadius:"50%",margin:"auto",border:"1px solid"},input:{display:"none"},editProfile:{transform:"translate(35px,75px)",cursor:"pointer"},profileName:{fontStyle:"normal",fontSize:"24px",fontWeight:500},changePwdDiv:{width:"95%",marginTop:"40px",margin:"auto"},changePwd:{width:"100%",height:"50px",borderRadius:"5px",borderWidth:"2px",borderStyle:"solid"}}})),Fm=Object(i.c)((function(e){return{userInfo:e.auth.userInfo}}),(function(e){return{onChangeProfile:function(t){return e(tt(t))}}}))((function(e){var t=Lm(),a=Object(s.g)(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!0),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(!1),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(null),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(null),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)(""),F=Object(S.a)(L,2),M=F[0],P=F[1],U=Object(n.useState)(""),Y=Object(S.a)(U,2),H=Y[0],G=Y[1],V=Object(n.useState)(),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)(""),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)(""),te=Object(S.a)(ee,2),ne=te[0],re=te[1],oe=Object(n.useState)(),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=Object(n.useState)(""),de=Object(S.a)(se,2),me=de[0],ue=de[1],pe=Object(n.useState)(!1),ge=Object(S.a)(pe,2),fe=ge[0],be=ge[1],he=Object(n.useState)(),xe=Object(S.a)(he,2),Ee=xe[0],ve=xe[1],ye=Object(n.useState)([]),je=Object(S.a)(ye,2),Oe=je[0],Se=je[1],Ce=e.userInfo;Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchuser(a,Ce.id);case 4:200===(n=t.sent).status&&e&&(_(n.data.data),R(n.data.data.user_details.thumbnail)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchPhones(a);case 4:200===(n=t.sent).status&&e&&(P(n.data.data[0].phone_number),G(n.data.data[1].phone_number),J(n.data.data[1].id)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchEmails(a);case 4:200===(n=t.sent).status&&e&&($(n.data.data[0].email),re(n.data.data[1].email),le(n.data.data[1].id)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Ud.fetchAddress(a);case 4:200===(n=t.sent).status&&e&&(0===n.data.data.length?be(!0):(Se(n.data.data[0]),ve(n.data.data[0].id))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:g(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return t(),a(),n(),r(),function(){e=!1}}),[]);var Ne=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var n,r,o,c;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},t.next=3,n(me);case 3:return r=t.sent,t.prev=4,o=localStorage.getItem("srmToken"),t.next=8,Ud.updateUserPic(o,Ce.id,{thumbnail:r});case 8:200===(c=t.sent).status&&(e.onChangeProfile(c.data.thumbnail),a.push("/profile")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){me&&Ne()}),[me]);var ke=function(e,t){"clickaway"!==t&&(x(!1),k(!1))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:t.profileNameDiv},r.a.createElement("div",{className:t.profilePictureDiv,style:{backgroundImage:"url(".concat(D,")"),"background-repeat":"no-repeat","background-size":"cover","background-position":"center"}},r.a.createElement("form",null,r.a.createElement("input",{id:"icon-button-file",name:"file",className:"".concat(t.input),type:"file",onChange:function(e){ue(e.target.files[0])},placeholder:"Document",accept:"image/*"})),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(W.a,{color:"primary","aria-label":"upload picture",component:"span",className:t.editProfile},r.a.createElement("img",{src:xl.a,alt:"Edit Profile Pic"})))),r.a.createElement(m.a,{className:t.profileName},A?"".concat(A.user_details.firstname," ").concat(A.user_details.lastname):"")),r.a.createElement(Tm,{primary:M,secondary:H,secondaryPhoneId:q}),r.a.createElement(_m,{primary:Z,secondary:ne,secondaryEmailId:ie}),r.a.createElement(Bm,{address:Oe,addressId:Ee,showNoAdd:fe}),r.a.createElement("div",{className:t.changePwdDiv},r.a.createElement(z.a,{variant:"outlined",color:"primary",className:t.changePwd,onClick:function(e){l(!0)}},"Change Password"))),r.a.createElement("br",null),r.a.createElement("br",null),i?r.a.createElement(pm,{open:i,handleClose:function(){l(!1)},handleSnackbar:function(e,t,a){x(e),j(t),k(a)}}):"",r.a.createElement(ae.a,{open:h,autoHideDuration:6e3,onClose:ke},r.a.createElement(Dm,{onClose:ke,severity:"success"},y)),r.a.createElement(ae.a,{open:N,autoHideDuration:6e3,onClose:ke},r.a.createElement(Dm,{onClose:ke,severity:"error"},y)),r.a.createElement(Tr,{open:p}))})),Mm=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{width:0}},profileContainer:{width:"95%",margin:"0 auto"}}})),Pm=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Mm(),a=e.selectedRole;return r.a.createElement("div",{className:t.container},"parent"===a?r.a.createElement(bm,null):"student"===a?r.a.createElement(km,null):"teacher"===a?r.a.createElement(Fm,null):"",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))})),zm=Object(dt.a)((function(e){var t;return{detailsContainer:{overflow:"auto",height:"100%",padding:"0",margin:"0","&::-webkit-scrollbar":{display:"none"}},card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",margin:"20px"},mainHeader:{width:"100%",paddingTop:"15px"},mainHeadertext:{width:"100%",textAlign:"center"},backImg:{paddingLeft:"15px",paddingTop:"5px",cursor:"pointer"},cardHeader:{padding:"10px 20px 0 20px"},iconButtonRoot:{padding:"8px"},titleIconSpan:{marginRight:"8px"},titleIcon:{transform:"translateY(3px)"},cardTitle:{fontSize:"16px",fontStyle:"normal",fontWeight:500,cursor:"pointer",paddingBottom:"16px","&:hover":{textDecoration:"underline"}},cardActions:{padding:"0 20px 20px 20px"},cardContent:{padding:"0px 20px 20px 20px","&:last-child":{paddingBottom:"20px"}},menuItem:{paddingLeft:"10px",paddingRight:"10px"},borderBottomDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"},borderBottomLastDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px"},menuTopItemMargin:{marginTop:"5px"},menuItemRoot:{padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),menuList:{width:"100% !important",padding:0},contentStyle:{color:"".concat(e.palette.common.lightFont),fontSize:"14px",fontStyle:"normal",paddingBottom:"6px",wordBreak:"break-word"},descriptionContent:{color:"".concat(e.palette.common.lightFont),wordBreak:"break-word","& p":{margin:"0px !important"}},readClass:{position:"relative","& img":{position:"absolute",right:"0px",bottom:"0px"}},payBtn:{width:"113px",height:"36px"}}})),Um=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token,notificationCount:e.notification.notificationCount}}),(function(e){return{addNotificationCount:function(){return e({type:"ADD_NOTIFICATION_COUNT"})},subNotificationCount:function(){return e({type:"SUB_NOTIFICATION_COUNT"})}}}))((function(e){console.log(e);var t=zm(),a=(Object(B.a)(),Object(s.i)().id),o=new URLSearchParams(Object(s.h)().search),c=Object(s.h)(),i=Object(s.g)(),l=Object(n.useState)(null),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)("read"),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(!0),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)({}),O=Object(S.a)(j,2),C=O[0],k=O[1];function w(){return(w=Object(Ca.a)(Sa.a.mark((function e(t){var n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("srmToken"),e.next=4,vc.fetchNotificationDetails(a,n);case 4:r=e.sent,console.log(r),200===r.status&&(k(r.data.data),y(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(e){w.apply(this,arguments)}(a)}),[]);var T=function(){var t=Object(Ca.a)(Sa.a.mark((function t(n){var r,o;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.currentTarget.getAttribute("value"),p(null),r){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,o=localStorage.getItem("srmToken"),t.next=8,vc.updateStatus(C.notify_status_id,{status:r,notifications_id:a},o);case 8:200===t.sent.status&&(k(Object(N.a)(Object(N.a)({},C),{},{status:r})),console.log(b),"read"===r&&"read"!==b?(0!==e.notificationCount&&"unread"===C.status&&e.subNotificationCount(),h("read")):"unread"===r&&"unread"!==b?(e.addNotificationCount(),h("unread")):"deleted"===r&&"deleted"!==b?(0!==e.notificationCount&&"unread"===C.status&&e.subNotificationCount(),console.log("S-D"),h("deleted")):"archive"===r&&"archive"!==b?(0!==e.notificationCount&&"unread"===C.notification_lists.status&&e.subNotificationCount(),h("archive")):console.log()),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:t.detailsContainer},v?"":r.a.createElement(it.a,{className:t.card},r.a.createElement("div",{className:t.mainHeader},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:1},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){i.push({pathname:ln,state:{tab:c.state?c.state.selectedTab:0}})}})),r.a.createElement(en.a,{item:!0,xs:10},r.a.createElement("div",{className:t.mainHeadertext},r.a.createElement(m.a,{variant:"h6"},"Notification Details"))),r.a.createElement(en.a,{item:!0,xs:1}))),r.a.createElement($a.a,{className:t.cardHeader,action:r.a.createElement(r.a.Fragment,null,o.get("cby")?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},classes:{root:t.iconButtonRoot}},r.a.createElement(Hn.a,null)),r.a.createElement(F.a,{id:"long-menu",anchorEl:u,classes:{paper:t.menuContainer,list:t.menuList},elevation:0,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(u),onClose:T},r.a.createElement(M.a,{onClick:T,classes:{root:t.menuItemRoot},disableGutters:!0,className:"".concat(t.menuItem," ").concat(t.menuTopItemMargin," "),value:"archive"},r.a.createElement("div",{className:t.borderBottomDiv},"Archive")),r.a.createElement(M.a,{onClick:T,disableGutters:!0,classes:{root:t.menuItemRoot},className:t.menuItem,value:"deleted"},r.a.createElement("div",{className:t.borderBottomDiv},"Delete")),r.a.createElement(M.a,{onClick:T,disableGutters:!0,classes:{root:t.menuItemRoot},className:t.menuItem,value:"read"},r.a.createElement("div",{className:t.borderBottomDiv},"Mark As Read")),r.a.createElement(M.a,{onClick:T,disableGutters:!0,classes:{root:t.menuItemRoot},className:t.menuItem,value:"unread"},r.a.createElement("div",{className:t.borderBottomLastDiv},"Mark As Unread"))))),title:r.a.createElement(r.a.Fragment,null,o.get("cby")?C.data.title?r.a.createElement(m.a,{className:t.cardTitle},C.data.title):r.a.createElement(m.a,{className:t.cardTitle},"N/A"):r.a.createElement(m.a,{className:t.cardTitle},C.data.title))}),r.a.createElement(lt.a,{classes:{root:t.cardContent}},r.a.createElement(en.a,{container:!0,direction:"row"},r.a.createElement(en.a,{item:!0,xs:11},o.get("cby")?C.data.summary?r.a.createElement(m.a,{className:t.contentStyle},C.data.summary):r.a.createElement(m.a,{className:t.cardTitle},"N/A"):r.a.createElement(m.a,{className:t.contentStyle},C.data.summary))),r.a.createElement(en.a,{container:!0,direction:"row"},r.a.createElement(en.a,{item:!0,xs:11},C.data.main_content?r.a.createElement("div",{className:"".concat(t.descriptionContent," ").concat(t.announcementText),dangerouslySetInnerHTML:{__html:C.data.main_content}}):r.a.createElement(m.a,{className:t.title},"No description provided")),o.get("cby")?"":r.a.createElement(en.a,{item:!0,xs:1,className:t.readClass},"unread"===b?r.a.createElement("img",{src:Sc.a,alt:"unread"}):"read"===b?r.a.createElement("img",{src:jc.a,alt:"read"}):"")))))})),Ym=a(245),Hm=a.n(Ym);a(904),a(799);Hm.a.initializeApp({apiKey:"AIzaSyBLIub0OQQb8Yeb3SsfEDo3gggGaZIdoRU",authDomain:"tsrm-2ec47.firebaseapp.com",databaseURL:"https://tsrm-2ec47.firebaseio.com",projectId:"tsrm-2ec47",storageBucket:"tsrm-2ec47.appspot.com",messagingSenderId:"381477278187",appId:"1:381477278187:web:4e5a33b71b5c2c0f1b49ae",measurementId:"G-5QQBDWX8VJ"}),Rm=Hm.a.messaging.isSupported()?Hm.a.messaging():null;Hm.a.database();var Wm=function(){return new Promise((function(e,t){Notification.requestPermission().then((function(e){if("granted"===e&&Rm)return Rm.getToken()})).then((function(t){e(t)})).catch((function(e){t(e)}))}))},Gm=(a(801),new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"fetchAllFaqs",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/faqs"),{params:{page:t,current_role:a},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchSearchedFaq",value:function(e,t,a,n){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/faqs/search/").concat(n),{params:{page:t,current_role:a},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchFaq",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/faqs/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"createFaq",value:function(e){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/faqs"),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"updateFaq",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/faqs/").concat(t),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"deleteFaq",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/faqs/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}())),Vm=Object(dt.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},card:{width:"100%",margin:"auto",marginTop:"20px",borderRadius:5,boxShadow:"none"},cardContent:{padding:"20px 20px 12px !important",overflow:"auto"},deleteIcon:{transform:"translateY(-3px)"},editBtn:{width:"19px",height:"19px",cursor:"pointer",transform:"translateY(3px)",marginRight:"7px"},labelText:{fontSize:"14px",fontStyle:"normal",color:e.palette.common.lightFont},question:{fontWeight:500,fontSize:"14px"},rightColumn:{position:"relative"},buttonRoot:{position:"absolute",right:0,bottom:0},status:{fontFamily:"Avenir Book",fontSize:"14px",textAlign:"right",fontStyle:"normal",color:e.palette.common.lightFont,"& span":{textTransform:"capitalize"}},deleteBtn:{width:"22px",height:"21px",paddingLeft:"5px",cursor:"pointer",color:"#AEAEB2",transform:"translateY(4px)"}}})),Km=function(e){var t=Vm(),a=Object(s.g)(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],d=e.id,u=e.status,p=e.question,g=e.answer,f=e.showActions,b=e.handleDelete,h=e.student,x=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,Gm.deleteFaq(a,d);case 4:200===e.sent.status?b(d):console.log("Error in deleting"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error in deleting: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(mr.a,{className:t.root},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0,direction:"row"},r.a.createElement(en.a,{item:!0,xs:8,lg:8,md:8,sm:8},r.a.createElement(m.a,{className:t.question},p||"N/A"),r.a.createElement(m.a,{dangerouslySetInnerHTML:{__html:g||"<p>N/A</p>"},className:t.labelText})),r.a.createElement(en.a,{item:!0,xs:4,lg:4,md:4,sm:4,className:t.rightColumn},u?r.a.createElement(m.a,{className:t.status},h?null:"Status:"," ",r.a.createElement("span",null,u)):null,f?r.a.createElement(mr.a,{className:t.buttonRoot},"published"!==u?r.a.createElement("img",{src:an.a,className:t.editBtn,onClick:function(){return a.push("/faq/edit/".concat(d))}}):null,r.a.createElement("span",{onClick:function(){return l(!0)}},r.a.createElement(Ic.a,{fontSize:"inherit",className:t.deleteBtn}))):null))),r.a.createElement(Dc,{open:i,handleClose:function(e){return l(!1)},onhandleDelete:x})))},qm=a(209),Jm=a.n(qm),Qm=Object(dt.a)({root:{maxWidth:"100%"},headerText:{fontFamily:"Avenir Medium",fontSize:"18px",textAlign:"center"},newFaqRoot:{display:"inline-flex",float:"right",paddingRight:"3px",marginTop:"20px",marginBottom:"15px","& > span":{fontSize:"14px"}},newFaqBtn:{paddingRight:"5px",marginTop:"-4px",cursor:"pointer"}}),Xm=function(e){var t=Qm(),a=e.title,n=e.newFaqBtnHandler;return r.a.createElement(mr.a,{className:t.root},r.a.createElement(m.a,{className:t.headerText},a||"Frequently Asked Questions"),n?r.a.createElement(m.a,{color:"primary",className:t.newFaqRoot},r.a.createElement(Jm.a,{color:"primary",className:t.newFaqBtn,onClick:n}),r.a.createElement("span",null,"New")):null)},Zm=Object(dt.a)((function(e){return{searchForm:{width:"100%",marginTop:"20px"},searchContainer:{width:"100%",display:"flex"},search:Object(C.a)({width:"100% !important",padding:"7px 8px",backgroundColor:"white",borderRadius:"5px 0px 0px 5px"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{color:"white",backgroundColor:"#7B72AF",borderRadius:"0px 5px 5px 0px","&:hover":{backgroundColor:"#7B72AF"}}}})),$m=function(e){var t=e.handleSearch,a=e.handleSearchChange,n=e.placeholder,o=void 0===n?"Search":n,c=Zm();return r.a.createElement(mr.a,{component:"form",className:c.searchForm,onSubmit:t},r.a.createElement(mr.a,{className:c.searchContainer},r.a.createElement(Qt.a,{placeholder:o,className:c.search,disableUnderline:!0,onChange:a}),r.a.createElement(W.a,{type:"submit",className:c.searchIcon},r.a.createElement(Vi.a,null))))},eu=Object(dt.a)({emptyView:{width:"100%",textAlign:"center",paddingTop:"100px",fontSize:"18px"}}),tu=function(e){var t=eu(),a=e.text;return r.a.createElement(mr.a,{className:t.emptyView},r.a.createElement(m.a,null,a||"Don't have any FAQ."))},au=Object(dt.a)((function(e){return{loading:{width:"100%",height:"100px",textAlign:"center",paddingTop:"20px",fontSize:"20px"}}})),nu=function(e){var t=e.faqs,a=e.handleDelete;return r.a.createElement(n.Fragment,null,t.map((function(e){return r.a.createElement(en.a,{key:e.id},r.a.createElement(Km,{key:e.id,id:e.id,status:e.status,question:e.question,answer:e.answer,showActions:!0,handleDelete:a}))})))},ru=function(e){var t=e.faqs;return r.a.createElement(n.Fragment,null,t.map((function(e){return r.a.createElement(en.a,{key:e.id},r.a.createElement(Km,{key:e.id,id:e.id,status:e.status,question:e.question,answer:e.answer,showActions:!1,student:!0}))})))},ou=function(e){var t=e.searchQuery,a=e.searchView,o=e.refetch,c=au(),i=Object(n.useState)(!1),l=Object(S.a)(i,2),s=l[0],d=l[1],m=Object(n.useState)([]),u=Object(S.a)(m,2),p=u[0],g=u[1],f=Object(n.useState)(!0),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=JSON.parse(localStorage.getItem("srmSelectedRole")),C="parent"===O?localStorage.getItem("srmSelected_Child_token"):localStorage.getItem("srmToken"),N=function(){var a=Object(Ca.a)(Sa.a.mark((function a(n){var r;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,d(!0),a.next=4,Gm.fetchSearchedFaq(C,n,O,t);case 4:200===(r=a.sent).status&&(g(r.data.data.data),r.data.data.current_page!==r.data.data.last_page?(j(n+1),x(!0)):x(!1),e.onsetRefetch(!1)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.warn("Error: ",a.t0);case 11:return a.prev=11,d(!1),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})));return function(e){return a.apply(this,arguments)}}();Object(n.useEffect)((function(){N(1)}),[a]),Object(n.useEffect)((function(){a&&o&&N(1)}),[o]);var k=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gm.fetchSearchedFaq(C,y,O,t);case 3:200===(a=e.sent).status&&(g([].concat(Object(Na.a)(p),Object(Na.a)(a.data.data.data))),a.data.data.current_page!==a.data.data.last_page?j(y+1):x(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:d(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,s?r.a.createElement("div",{className:c.loading},r.a.createElement(kr.a,{color:"primary",size:30})):r.a.createElement(co.a,{dataLength:p.length,next:k,hasMore:h,style:{overflow:"hidden"},loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.loading,style:{width:"100%",textAlign:"center",marginTop:"8px"}},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},p.length?"teacher"===O||"admin"===O?r.a.createElement(nu,{faqs:p,handleDelete:function(){N(1)}}):r.a.createElement(ru,{faqs:p}):r.a.createElement(tu,null)))},cu=Object(dt.a)((function(e){return{container:{width:"100%",height:"100%",padding:"20px",overflowY:"auto","&::-webkit-scrollbar":{display:"none"}},loading:{width:"100%",height:"100px",textAlign:"center",paddingTop:"20px",fontSize:"20px"}}})),iu=function(e){var t=e.faqs,a=e.handleDelete;return r.a.createElement(n.Fragment,null,t.map((function(e){return r.a.createElement(en.a,{key:e.id},r.a.createElement(Km,{key:e.id,id:e.id,status:e.status,question:e.question,answer:e.answer,showActions:!0,handleDelete:a}))})))},lu=function(){var e=cu(),t=Object(s.g)(),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),d=Object(S.a)(l,2),m=d[0],u=d[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(!1),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(!0),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(1),_=Object(S.a)(A,2),I=_[0],B=_[1],D=JSON.parse(localStorage.getItem("srmSelectedRole")),R="parent"===D?localStorage.getItem("srmSelected_Child_token"):localStorage.getItem("srmToken"),L=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Gm.fetchAllFaqs(R,I,D);case 4:200===(t=e.sent).status&&(i(t.data.data.data),t.data.data.current_page!==t.data.data.last_page?(B(I+1),console.log(t)):T(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Error: ",e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){L()}),[]);var F=function(){var e=Object(Ca.a)(Sa.a.mark((function e(a){var n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gm.createFaq(R);case 3:n=e.sent,r=n.data.data.id,t.push("/faq/create/".concat(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Unhandled error: ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gm.fetchAllFaqs(R,I,D);case 3:200===(t=e.sent).status&&(i([].concat(Object(Na.a)(c),Object(Na.a)(t.data.data.data))),t.data.data.current_page!==t.data.data.last_page?B(I+1):T(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(pr.a,{className:e.container,id:"scrollable"},r.a.createElement(Xm,{title:"Frequently Asked Questions",newLeaveBtnHandler:function(e){return t.push("/faq/create")},newFaqBtnHandler:F}),r.a.createElement($m,{placeholder:"Search By Title",handleSearch:function(e){e.preventDefault(),""!==f&&(E?C(!0):v(!0))},handleSearchChange:function(e){""===e.target.value?(b(e.target.value),v(!1),C(!1)):b(e.target.value)}}),m?r.a.createElement("div",{className:e.loading},r.a.createElement(kr.a,{color:"primary",size:30})):E?r.a.createElement(ou,{searchQuery:f,searchView:E,refetch:O,onsetRefetch:C}):r.a.createElement(co.a,{dataLength:c.length,next:M,hasMore:w,style:{overflow:"hidden"},loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.loading,style:{width:"100%",textAlign:"center",marginTop:"8px"}},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},c.length?r.a.createElement(iu,{faqs:c,handleDelete:function(){L()}}):r.a.createElement(tu,null)))},su=Object(dt.a)((function(e){return{container:{width:"100%",height:"100%",padding:"20px",overflowY:"auto","&::-webkit-scrollbar":{display:"none"}},loading:{width:"100%",height:"100px",textAlign:"center",paddingTop:"20px",fontSize:"20px"}}})),du=function(e){var t=e.faqs;return r.a.createElement(n.Fragment,null,t.map((function(e){return r.a.createElement(en.a,{key:e.id},r.a.createElement(Km,{key:e.id,id:e.id,status:e.status,question:e.question,answer:e.answer,showActions:!1,student:!0}))})))},mu=function(){var e=su(),t=Object(s.g)(),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),d=Object(S.a)(l,2),m=d[0],u=d[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(!1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(!1),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(!0),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(1),_=Object(S.a)(A,2),I=_[0],B=_[1],D=JSON.parse(localStorage.getItem("srmSelectedRole")),R="parent"===D?localStorage.getItem("srmSelected_Child_token"):localStorage.getItem("srmToken"),L=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Gm.fetchAllFaqs(R,I,D);case 4:200===(t=e.sent).status&&(i(t.data.data.data),t.data.data.current_page!==t.data.data.last_page?(B(I+1),console.log(t)):T(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Error: ",e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){L()}),[]);var F=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gm.fetchAllFaqs(R,I,D);case 3:200===(t=e.sent).status&&(i([].concat(Object(Na.a)(c),Object(Na.a)(t.data.data.data))),t.data.data.current_page!==t.data.data.last_page?B(I+1):T(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(pr.a,{className:e.container,id:"scrollable"},r.a.createElement(Xm,{title:"Frequently Asked Questions",newLeaveBtnHandler:function(e){return t.push("/faq/create")}}),r.a.createElement($m,{placeholder:"Search By Title",handleSearch:function(e){e.preventDefault(),""!==f&&(E?C(!0):v(!0))},handleSearchChange:function(e){""===e.target.value?(b(e.target.value),v(!1),C(!1)):b(e.target.value)}}),m?r.a.createElement("div",{className:e.loading},r.a.createElement(kr.a,{color:"primary",size:30})):E?r.a.createElement(ou,{searchQuery:f,searchView:E,refetch:O,onsetRefetch:C}):r.a.createElement(co.a,{dataLength:c.length,next:F,hasMore:w,style:{overflow:"hidden"},loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.loading,style:{width:"100%",textAlign:"center",marginTop:"8px"}},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.5},c.length?r.a.createElement(du,{faqs:c}):r.a.createElement(tu,null)))},uu=Object(dt.a)((function(e){return{container:{width:"100%",height:"100%",backgroundColor:e.palette.mainBackground,margin:0,padding:0,marginBottom:"60px"}}})),pu=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=uu(),a=e.selectedRole;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},"teacher"===a||"admin"===a?r.a.createElement(lu,null):r.a.createElement(mu,null)))})),gu=Object(I.a)((function(e){return{dateTimeContainer:{minWidth:"200px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"}}})),fu=function(e){var t=gu(),a=e.open,n=e.handleClose,o=e.publishDate,c=e.handlePublishDate,i=e.handlePublishLater;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:a,onClose:n,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,justify:"space-around"},r.a.createElement(Ai.a,{variant:"dialog",value:o,onChange:function(e){c(e.toISOString())},label:"Publish Date and Time ",minDate:new Date,format:"yyyy/MM/dd hh:mm a",InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))}}))))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{color:"primary",variant:"outlined",onClick:n,className:t.button},"Cancel"),r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:t.button,onClick:function(){i()}},"Publish"))))},bu=Object(dt.a)((function(e){return{container:{width:"100%",height:"100%",margin:0,padding:0,overflow:"auto"},padding:{padding:"15px",paddingBottom:"100px"},editorCard:{padding:"20px"},cardContentRoot:{padding:"0px"},fieldStyle:{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},backImg:{float:"left",transform:"translate(0px, 2px)",cursor:"pointer"},themeColor:{color:"#1C1C1E",padding:0,margin:0},titleText:{fontSize:"18px",fontFamily:"Avenir Medium",textAlign:"center",margin:"auto"},inputMargin:{marginTop:"20px"},textAlignLeft:{color:"rgba(0, 0, 0, 0.54)"},adornmentColor:{color:e.palette.common.adornment},cardAction:{padding:"20px",paddingRight:"0px"},alignLeft:{textAlign:"left"},alignRight:{textAlign:"right"},Cardtitle:{textAlign:"center"},publishLaterBtn:{border:"1px solid black",backgroundColor:"white",color:"black",marginRight:"20px"},publishBtn:{textTransform:"none"},CircularProgress:{position:"absolute",left:"50%",top:"50%",zIndex:"1"}}})),hu=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole,token:e.auth.token}}))((function(e){var t=bu(),a=Object(n.useState)(!0),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(""),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)("draft"),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(null),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)(!1),w=Object(S.a)(k,2),T=w[0],A=(w[1],Object(n.useState)("")),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(!1),R=Object(S.a)(D,2),L=R[0],F=R[1],M=Object(s.i)().id,P=Object(s.g)(),U=(Object(s.h)(),function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,t=localStorage.getItem("srmToken"),e.next=5,Gm.fetchFaq(t,M);case 5:200===(a=e.sent).status&&(p(a.data.data.question),h(a.data.data.answer),y(a.data.data.status),N(a.data.data.published_date)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Unhandled Error: ",e.t0);case 12:i(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()),Y=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n,r,o;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.published_date,n=t.status,e.prev=1,r=localStorage.getItem("srmToken"),o={},o="draft"===n&&a||"active"===n&&a?{question:u,answer:b,status:n,published_date:"active"===n?a:null}:{question:u,answer:b,status:n},e.next=7,Gm.updateFaq(r,M,o);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Unhandled Error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){U(M)}),[M]),Object(n.useEffect)((function(){var e=setInterval((function(){Y({status:v,published_date:C})}),1e4);return function(){clearInterval(e)}}),[u,b,v,C]);var H=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({published_date:C,status:"active"});case 2:P.push("/faq");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==u&&""!==b){e.next=4;break}B("Fill all data"),e.next=7;break;case 4:return e.next=6,Y({status:"published"});case 6:P.push("/faq");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({status:v,published_date:C});case 2:P.push("/faq");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(mr.a,{className:t.container},!0===c?r.a.createElement("div",{className:t.loder},r.a.createElement(kr.a,{color:"primary",thickness:5,className:t.CircularProgress})):r.a.createElement(pr.a,{classes:{root:t.padding}},r.a.createElement(it.a,{variant:"outlined",className:t.editorCard},r.a.createElement(mr.a,{className:"".concat(t.margin)},r.a.createElement(mr.a,null,r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:G}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText)},T?"Edit FAQ":"Create FAQ"))),r.a.createElement(lt.a,{classes:{root:t.cardContentRoot}},""!==I?r.a.createElement(mr.a,{style:{marginTop:"30px",textAlign:"center"},pt:2},r.a.createElement(mr.a,null,r.a.createElement(m.a,{style:{color:"red"}},I))):null,r.a.createElement(mr.a,{className:t.inputMargin},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"question",name:"question",label:"Question",value:u,onChange:function(e){return p(e.target.value)},required:!0}))),r.a.createElement(mr.a,{className:t.inputMargin},r.a.createElement(m.a,{className:t.textAlignLeft},"Answer"),r.a.createElement(Gc,{handleDescription:function(e){h(e)},value:b,token:e.token}))),r.a.createElement(Do.a,{className:t.cardAction},r.a.createElement(mr.a,{style:{width:"100%",textAlign:"right"}},r.a.createElement(mr.a,null,r.a.createElement(z.a,{className:"".concat(t.publishLaterBtn," ").concat(t.publishBtn),variant:"contained",disableElevation:!0,onClick:function(e){""===u||""===b?B("Fill all data"):F(!0)}},"Publish Later"),r.a.createElement(z.a,{color:"primary",variant:"contained",className:t.publishBtn,disableElevation:!0,onClick:W},"Publish Now")))))),L?r.a.createElement(fu,{open:L,publishDate:C,handleClose:function(){F(!1)},handlePublishDate:N,handlePublishLater:H}):null)})),xu=(a(802),{draft:"Draft","in-progress":"In Progress",submitted:"Submitted",acknowledge:"Acknowledge",resolved:"Resolved",canceled:"Canceled",approved:"Approved"}),Eu=Object(I.a)((function(e){return{card:{boxShadow:"none",borderRadius:"10px",marginTop:"20px"},cardHeader:{padding:"20px 20px 10px"},labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},editBtnDiv:{marginLeft:"auto",transform:"translateY(4px)"},editBtn:{width:"19px",height:"19px",paddingLeft:"10px",transform:"translateY(4px)",cursor:"pointer"},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1,width:"95%",cursor:"pointer"},cardContent:{padding:"0 20px 20px !important",display:"flex",justifyContent:"space-between"},textAlignRight:{textAlign:"right"}}})),vu=function(e){var t=e.item,a=Eu(),n=Object(s.g)();return r.a.createElement(it.a,{className:a.card},r.a.createElement($a.a,{action:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:a.labelText},ta()(t.updated_at).format("DD MMM, HH:mm A"),"draft"===t.status?r.a.createElement("img",{src:an.a,className:a.editBtn,onClick:function(e){n.push("/support/create/".concat(t.id))}}):null)),title:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{onClick:function(e){n.push("/support/".concat(t.id))},className:a.normalText},"Ticket ID - ",t.code)),className:a.cardHeader}),r.a.createElement(lt.a,{className:a.cardContent},r.a.createElement(en.a,{item:!0,xs:9},r.a.createElement(m.a,{className:a.labelText},"Subject - ",t.subject)),r.a.createElement(en.a,{item:!0,xs:3},r.a.createElement(m.a,{className:"".concat(a.labelText," ").concat(a.textAlignRight)},xu[t.status]))))},yu=function(e){return ga.post("".concat("/supports"),e)},ju=function(e,t){return ga.put("".concat("/supports","/").concat(t),e)},Ou={GET_SUPPORTS:{START:"supports.get_supports:start",SUCCESS:"supports.get_supports:success",FAIL:"supports.get_supports:fail"},GET_CATEGORY:{START:"supports.get_category:start",SUCCESS:"supports.get_category:success",FAIL:"supports.get_category:fail"},GET_SINGLE_CATEGORY:{START:"supports.get_single_category:start",SUCCESS:"supports.get_single_category:success",FAIL:"supports.get_single_category:fail"},POST_SUPPORTS:{START:"supports.post_category:start",SUCCESS:"supports.post_category:success",FAIL:"supports.post_category:fail"},GET_SINGLE_SUPPORT:{START:"supports.get_single_support:start",SUCCESS:"supports.get_single_support:success",FAIL:"supports.get_single_support:fail"},UPDATE_SUPPORT:{START:"supports.update_support:start",SUCCESS:"supports.update_support:success",FAIL:"supports.update_support:fail"},POST_COMMENT:{START:"supports.post_comment:start",SUCCESS:"supports.post_comment:success",FAIL:"supports.post_comment:fail"},GET_SUPPORT_HISTORY:{START:"supports.get_support_history:start",SUCCESS:"supports.get_support_history:success",FAIL:"supports.get_support_history:fail"}},Su=function(e,t,a){return{type:ba,subtypes:Ou.GET_SINGLE_SUPPORT,data:{id:e},onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/supports","/").concat(e))}(e)}}},Cu=function(e,t,a,n){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return{type:ba,subtypes:Ou.UPDATE_SUPPORT,data:{data:e,id:t,loading:r},onSuccessCallback:a,onFailCallback:n,promise:function(){return ju(e,t)}}},Nu=Object(I.a)((function(e){return{loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},emptyList:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",lineHeight:"1.5",paddingLeft:"25px",display:"flex",flex:1,height:"500px",justifyContent:"center",alignItems:"center"},clickHere:{color:"#0000FF",fontFamily:"Avenir-Book",padding:"0 5px",cursor:"pointer"}}})),ku=Object(i.c)((function(e){var t=e.Supports,a=e.auth,n=t.supports,r=void 0===n?[]:n,o=t.supportsListInfo;return{data:r,listInfo:void 0===o?{}:o,loading:t.supportLoading,paginationLoading:t.supportPaginationLoading,refetch:t.refetchSupports,role:a.selectedRole}}),{getSupports:function(e){return{type:ba,subtypes:Ou.GET_SUPPORTS,data:{data:e},promise:function(){return t=e,ga.get("".concat("/supports"),{params:t});var t}}}})((function(e){var t=e.loading,a=e.data,o=void 0===a?[]:a,c=e.listInfo,i=void 0===c?{}:c,l=(e.paginationLoading,e.refetch),d=e.role,u=i.current_page,p=i.last_page,g=Nu(),f=Object(s.g)(),b=function(e){f.push("/support/create")};Object(n.useEffect)((function(){h(null,!0)}),[]),Object(n.useEffect)((function(){l&&h()}),[l]);var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,n=Object(N.a)({},t);"teacher"===d&&(n.created_by=!0),e.getSupports(n,a)};if(t)return r.a.createElement("div",{className:g.loading},r.a.createElement(kr.a,{color:"primary",size:30}));if(!o.length)return r.a.createElement(m.a,{className:g.emptyList},"You do not have any tickets to view."," ",r.a.createElement("span",{onClick:b,className:g.clickHere}," ","Click here"," ")," ","to raise a new ticket");var x=o.map((function(e,t){return r.a.createElement(vu,{item:e,index:t})}));return r.a.createElement(co.a,{dataLength:o.length,next:function(){u===p||t||(console.log("onEndReached props",i),h({page:u+1}))},hasMore:u!==p,loader:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.loading},r.a.createElement(kr.a,{color:"primary",size:30})),r.a.createElement("br",null)),scrollableTarget:"scrollable",scrollThreshold:.2},x)})),wu=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{width:0}},supportContainer:{width:"95%",margin:"0 auto"},header:{paddingTop:"20px",textAlign:"right"},addNew:{color:e.palette.common.deluge,marginTop:"15px","& .new":{float:"right",fontSize:"14px"},"& img":{height:"20px",cursor:"pointer"}},addNewDiv:{cursor:"pointer",width:"fit-content",marginLeft:"auto"},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},createHeader:{textAlign:"right",fontWeight:500},createTitle:{fontSize:"16px",padding:"0 10px 0 5px",cursor:"pointer"},createButtonIcon:{height:"20px",transform:"translateY(5px)",cursor:"pointer"}}})),Tu=Object(i.c)((function(e){return{role:e.auth.selectedRole}}))((function(e){var t=wu(),a=Object(s.g)(),n=function(e){a.push("/support/create")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.supportContainer},"admin"!==e.role&&r.a.createElement("div",{className:t.header},r.a.createElement(m.a,{className:t.createHeader,color:"primary"},r.a.createElement(Jm.a,{color:"primary",className:t.createButtonIcon,onClick:n}),r.a.createElement("span",{className:t.createTitle,onClick:n},"New"))),r.a.createElement(ku,null)))})),Au=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{width:0}},supportContainer:{width:"100%",margin:"0 20px"}}})),_u=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Au();return r.a.createElement("div",{className:t.container},r.a.createElement(Tu,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))})),Iu=Object(dt.a)((function(e){return{categoryClass:{"& span":{textAlign:"left"}},categorySelect:{textAlign:"left"}}})),Bu=Object(i.c)((function(e){var t=e.Supports,a=t.categories;return{data:void 0===a?[]:a,loading:t.categoryLoading}}),{getCategory:function(){return{type:ba,subtypes:Ou.GET_CATEGORY,promise:function(){return ga.get("".concat("/category"))}}}})((function(e){var t=e.data,a=void 0===t?[]:t,o=e.loading,c=Iu();Object(n.useEffect)((function(){i()}),[]);var i=function(){e.getCategory()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gr.a,{labelId:"Categories",id:"demo-simple-select-helper",value:e.value,onChange:function(t){e.onChange&&e.onChange(t.target.value)},className:c.categoryClass,classes:{select:c.categorySelect}},o?r.a.createElement(M.a,null,r.a.createElement(kr.a,{color:"primary",size:30})):a.map((function(e){return r.a.createElement(M.a,{value:e.id},e.category_name)}))))})),Du=Object(dt.a)((function(e){return{Formcontainer:{boxSizing:"border-box",width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",padding:"20px",marginBottom:"100px","&::-webkit-scrollbar":{width:0}},formStyle:{width:"100%",backgroundColor:"white",borderRadius:"5px"},header:{padding:"20px",paddingBottom:"0px"},backImg:{float:"left",cursor:"pointer"},adornmentColor:{color:"rgba(0, 0, 0, 0.54)"},themeColor:{color:"#1C1C1E"},errorColor:{color:"red"},titleText:{textAlign:"center",fontFamily:"Avenir Medium",fontSize:"18px"},fieldStyle:{width:"100%",fontFamily:"Avenir Book",fontSize:" 1rem",boxSizing:"border-box",paddingTop:10,paddingBottom:10,paddingRight:20,paddingLeft:20,"& .publishBtn":{borderRadius:"3px",width:"120px",textTransform:"none"},"& .MuiInputBase-root":{margin:"0px"},"& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .tox-tinymce":{height:"350px !important"}},datePicker:{width:"100%"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},contentCenter:{justifyContent:"center"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},publishBtns:{width:"120px",textAlign:"right",justifyContent:"right"},margin:{"& .publishLaterBtn":{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},richTextEditor:{height:"350px"},width:{width:"100%"},formControl:{boxSizing:"border-box",width:"100%",paddingTop:5,paddingBottom:5,paddingRight:20,paddingLeft:20},description:{paddingTop:12}}})),Ru=Object(i.c)((function(e){var t=e.auth,a=e.Supports,n=t.token,r=a.categoryLoading,o=a.postSupportLoading,c=a.singleSupportLoading,i=a.updateSupportLoading;return{token:n,categoryLoading:r,postLoading:o||i,singleSupportLoading:c}}),{postSupport:function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{type:ba,subtypes:Ou.POST_SUPPORTS,data:{data:e,loading:n},onSuccessCallback:t,onFailCallback:a,promise:function(){return yu(e)}}},getSingleSupport:Su,updateSupport:Cu})((function(e){var t=Du(),a=Object(s.g)(),o=Object(s.i)().id,c=Object(n.useState)(""),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(""),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)({}),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)(o),D=Object(S.a)(B,2),R=D[0],L=D[1];Object(n.useEffect)((function(){o&&F(o)}),[]);var F=function(){e.getSingleSupport(o,M)},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,a=void 0===t?{}:t;d(a.subject||""),f(a.description||""),O(a.category_id||"")};Object(n.useEffect)((function(){E("")}),[j,l,g]);Object(n.useEffect)((function(){!R&&j&&P()}),[j]);var P=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={subject:l.trim(),category_id:j,description:g.trim()};!j&&e.postLoading||(t&&(n.status=t),R?e.updateSupport(n,R,(function(e){return U(e,a)}),(function(e){return Y(e,a)}),a):R||e.postLoading||e.postSupport(n,(function(e){return U(e,a)}),(function(e){return Y(e,a)}),!0))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.data,n=void 0===a?{}:a;t?(H({type:"success",message:"Support Ticket Submitted!"}),G()):R||L(n.id)},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t&&H({message:e.message})},H=function(e){w(!0),I(e)},W=function(){w(!1)},G=function(){a.replace("/support")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.Formcontainer},r.a.createElement("form",{className:t.formStyle,onSubmit:function(e){e.preventDefault(),(l.trim()?j?g.trim()||(E("Please Enter Description"),0):(E("Please Select Category"),0):(E("Please Enter Valid Subject."),0))&&(clearInterval(void 0),P("submitted",!0),console.log("Form Submitted"))}},r.a.createElement("div",{className:t.header,pt:2},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:G}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText)},"Create Ticket")),x?r.a.createElement(m.a,{className:"".concat(t.errorColor)},x):"",r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(Xo.a,{id:"subject",name:"subject",label:"Subject",value:l,onChange:function(e){var t=e.target.value;d(t)},required:!0})),r.a.createElement("div",{className:t.formControl},r.a.createElement(dr.a,{className:t.width},r.a.createElement(Wr.a,{className:t.textAlignLeft},"Categories"),r.a.createElement(Bu,{value:j,onChange:function(e){O(e)}}))),r.a.createElement(en.a,{className:t.fieldStyle},r.a.createElement(m.a,{className:"".concat(t.textAlignLeft,"  ").concat(t.description)},"Description"),r.a.createElement(Gc,{handleDescription:function(e){f(e)},value:g,token:e.token,style:{height:"350px"}})),r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:8,xs:12,className:t.publishBtns},r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",disableElevation:!0},"Submit")),r.a.createElement(en.a,{item:!0,sm:4,xs:12,className:t.textAlignLeft},r.a.createElement(Nr.a,{open:e.postLoading||e.singleSupportLoading,className:t.backdrop},r.a.createElement(kr.a,{color:"inherit"})))),r.a.createElement(ae.a,{open:k,autoHideDuration:5e3,onClose:W},r.a.createElement(ma.a,{onClose:W,severity:_.type||"error"},_.message||"Something went wrong!! Please try again.")))))})),Lu=Object(I.a)((function(e){return{logoutContainer:{minWidth:"200px"},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"}}})),Fu=function(e){var t=Lu(),a=e.open,n=e.handleClose;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:a,onClose:n,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.logoutContainer},r.a.createElement("div",{className:t.dialogContent},r.a.createElement(Ze.a,{color:"primary"})),r.a.createElement("div",{className:t.dialogContent},r.a.createElement(m.a,{className:t.confirmationText},"Want to Approve?")))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{onClick:n,color:"primary",variant:"outlined",className:t.button},"No"),r.a.createElement(z.a,{onClick:e.handleApproveClose,color:"primary",autoFocus:!0,variant:"contained",className:t.button},"Yes"))))},Mu=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{width:0}},supportContainer:{width:"95%",height:"100%",margin:"0 auto"},card:{marginTop:"20px",boxShadow:"none",borderRadius:"10px"},Header:{textAlign:"center"},labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},backImg:{float:"left",cursor:"pointer",transform:"translateY(5px)"},marginT30:{marginTop:"30px"},mainSection:Object(C.a)({display:"flex"},e.breakpoints.down("xs"),{display:"block"}),contentSection:Object(C.a)({width:"calc(100% - 150px)"},e.breakpoints.down("xs"),{width:"100%"}),subContentSection:Object(C.a)({width:"150px",marginLeft:"auto",textAlign:"right"},e.breakpoints.down("xs"),{margin:0,textAlign:"left"}),highlightedText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:1},cardContent:{padding:"30px 20px 34px !important"},textAlignRight:{textAlign:"right"},selectDiv:{width:"100%"},formControl:{width:"100%"},detailsSection:{marginTop:"20px"},loading:{display:"flex",justifyContent:"center",paddingTop:"40px"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},display:{display:"flex"},div:{width:"max-content",marginLeft:"auto"}}})),Pu=Object(i.c)((function(e){var t=e.auth,a=e.Supports,n=a.singleCategoryLoading,r=a.updateSupportLoading;return{selectedRole:t.selectedRole,categoryLoading:n,updateLoading:r}}),{getSingleCategory:function(e,t){return{type:ba,subtypes:Ou.GET_SINGLE_CATEGORY,onSuccessCallback:t,promise:function(){return function(e){return ga.get("".concat("/category","/").concat(e))}(e)}}},updateSupport:Cu})((function(e){var t=Mu(),a=Object(s.g)(),o=e.selectedRole,c=Object(n.useState)(""),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(!1),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!1),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(""),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(!1),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)({}),D=Object(S.a)(B,2),R=D[0],L=D[1],F=Object(n.useState)(Math.random()),P=Object(S.a)(F,2),z=P[0],U=P[1],Y=e.data,H=void 0===Y?{}:Y;Object(n.useEffect)((function(){d(g)}),[z]),Object(n.useEffect)((function(){d(H.status),H.category_id&&e.getSingleCategory(H.category_id,W)}),[H]);var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,a=void 0===t?{}:t;console.log("onGetCategory",e),w(a.category_name)},G=function(){O(!1)},V=function(t){var a={status:t};e.updateSupport(a,e.id,K,q)},K=function(){U(Math.random()),J({type:"success",message:"Status Updated"})},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};J({message:e.message})},J=function(e){I(!0),L(e)},Q=function(){I(!1)},X=H.address_id?[{key:"submitted",title:"Submitted"},{key:"canceled",title:"Canceled"},{key:"approved",title:"Approved"}]:[{key:"submitted",title:"Submitted"},{key:"acknowledge",title:"Acknowledged"},{key:"in-progress",title:"InProgress"},{key:"resolved",title:"Resolved"},{key:"canceled",title:"Canceled"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.detailsCard},r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement("div",{className:t.Header},r.a.createElement("div",{className:t.backBtnDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.push("/support")}})),r.a.createElement("div",{className:t.ticketNumber},r.a.createElement(m.a,{variant:"h5"},H.code))),e.loading?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(t.mainSection," ").concat(t.marginT30)},r.a.createElement("div",{className:t.contentSection},r.a.createElement(m.a,{className:t.highlightedText},H.subject)),r.a.createElement("div",{className:t.subContentSection},r.a.createElement(m.a,{className:t.labelText},ta()(H.updated_at).format("DD MMM, HH:mm A")))),r.a.createElement("div",{className:"".concat(t.mainSection," ").concat(t.display)},"admin"===o?"":r.a.createElement("div",{className:t.contentSection},r.a.createElement(m.a,{className:t.normalText},"Status - ",xu[H.status])),r.a.createElement("div",{className:"".concat(t.subContentSection," ").concat(t.div)},e.categoryLoading?r.a.createElement(kr.a,{size:20}):r.a.createElement(m.a,{className:t.labelText},k))),"admin"===o?r.a.createElement("div",{className:t.selectDiv},r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(Wr.a,{id:"demo-controlled-open-select-label"},"Status"),l?r.a.createElement(Gr.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:x,onClose:function(){E(!1)},onOpen:function(){E(!0)},value:l,onChange:function(e){var t=e.target.value;f(t),"approved"===t?O(!0):V(t)}},X.map((function(e){return r.a.createElement(M.a,{value:e.key},e.title)}))):null)):"",r.a.createElement("div",{className:t.detailsSection},r.a.createElement(m.a,{className:t.normalText},H.description?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:H.description}}):null)))))),j?r.a.createElement(Fu,{open:j,handleApproveClose:function(){G(),V(g)},handleClose:G}):"",r.a.createElement(Nr.a,{open:e.updateLoading,className:t.backdrop},r.a.createElement(kr.a,{color:"inherit"})),r.a.createElement(ae.a,{open:_,autoHideDuration:5e3,onClose:Q},r.a.createElement(ma.a,{onClose:Q,severity:R.type||"error"},R.message||"Something went wrong!! Please try again.")))})),zu=Object(I.a)((function(e){return{card:{boxShadow:"none",borderBottomLeftRadius:"3px",borderBottomRightRadius:"3px",minHeight:"100px"},labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:1},cardContent:{padding:"20px !important"},textAlignRight:Object(C.a)({textAlign:"right"},e.breakpoints.down("sm"),{textAlign:"left"}),borderBottom:{margin:"0 20px 0 20px",borderBottom:"1px solid #707070"},marginTop30:{marginTop:"30px"},textAreaRoot:{width:"100%",backgroundColor:"#fff","&::-webkit-scrollbar":{width:0}},buttonBox:Object(C.a)({textAlign:"right",marginTop:"30px"},e.breakpoints.down("sm"),{textAlign:"left"}),commentBtns:{width:"100px",height:"45px",border:"1px solid ".concat(e.palette.common.deluge)},cancelBtn:{backgroundColor:"#fff",marginRight:"10px","&:hover":{backgroundColor:"#fff"}},emptyMsg:{padding:"15px"}}})),Uu=Object(i.c)((function(e){var t=e.Supports,a=e.auth;return{loading:t.postCommentLoading,userInfo:a.userInfo||{}}}),{postComment:function(e,t,a){return{type:ba,subtypes:Ou.POST_COMMENT,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.post("".concat("/supportComments"),e)}(e)}}}})((function(e){var t=zu(),a=Object(n.useState)(""),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),s=Object(S.a)(l,2),d=s[0],u=s[1],p=e.data,g=void 0===p?[]:p;Object(n.useEffect)((function(){u("")}),[c]);var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.userInfo,n=void 0===a?{}:a,r=Object(N.a)(Object(N.a)({},t.data),{},{user_data:n});e.onComment(r),i("")},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(e.message)},h=!c.trim()||e.loading,x=Object(Na.a)(g).reverse();return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{className:t.card},!g.length&&r.a.createElement(m.a,{className:t.emptyMsg},"This ticket has no comments yet."),x.map((function(e,a){var n=e.user_data,o=void 0===n?{}:n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,sm:9},r.a.createElement(m.a,{className:t.normalText},e.description)),r.a.createElement(en.a,{item:!0,sm:3},r.a.createElement(m.a,{className:"".concat(t.labelText," ").concat(t.textAlignRight)},"".concat(o.firstname," ").concat(o.lastname)),r.a.createElement(m.a,{className:"".concat(t.labelText," ").concat(t.textAlignRight)},ta()(e.updated_at).format("DD MMM, HH:mm A"))))),a+1!==g.length?r.a.createElement("div",{className:t.borderBottom}):null)}))),r.a.createElement("div",{className:"".concat(t.addCommentDiv," ").concat(t.marginTop30)},r.a.createElement("form",null,r.a.createElement(Xo.a,{id:"outlined-multiline-static",multiline:!0,rows:4,placeholder:"Add comment",variant:"outlined",value:c,onChange:function(e){i(e.target.value)},classes:{root:t.textAreaRoot}}),d&&r.a.createElement(m.a,{color:"secondary"},d),r.a.createElement(mr.a,{className:t.buttonBox},r.a.createElement(z.a,{variant:"contained",className:"".concat(t.commentBtns," ").concat(t.cancelBtn),disableElevation:!0,onClick:function(e){i("")}},"Cancel"),r.a.createElement(z.a,{disabled:h,variant:"contained",color:"primary",className:t.commentBtns,onClick:function(){var t={description:c,support_id:e.id};e.postComment(t,f,b)},disableElevation:!0},e.loading?r.a.createElement(kr.a,{size:25}):"Add")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))})),Yu=Object(I.a)((function(e){return{card:{boxShadow:"none",borderBottomLeftRadius:"3px",borderBottomRightRadius:"3px"},labelText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:.5},normalText:{fontSize:"14px",fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),opacity:1},cardContent:{padding:"20px !important"},textAlignRight:{textAlign:"right"},borderBottom:{margin:"0 20px 0 20px",borderBottom:"1px solid #707070"},loader:{display:"flex",justifyContent:"center",paddingTop:"25px",paddingBottom:"25px"}}})),Hu=Object(i.c)((function(e){var t=e.Supports;e.auth;return{loading:t.supportHistoryLoading}}),{getSupportsHistory:function(e,t,a){return{type:ba,subtypes:Ou.GET_SUPPORT_HISTORY,onSuccessCallback:t,onFailCallback:a,promise:function(){return t=e,ga.get("".concat("/supportHistories"),{params:t});var t}}}})((function(e){var t=Object(n.useState)([]),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Yu();Object(n.useEffect)((function(){e.getSupportsHistory({support_id:e.id},l,s)}),[]);var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(e.data||[])},s=function(){},d=(e.data,e.loading);return r.a.createElement(it.a,{className:i.card},!d&&!o.length&&r.a.createElement(m.a,{className:i.emptyMsg},"This ticket has no history yet."),d?r.a.createElement("div",{className:i.loader},r.a.createElement(kr.a,null)):o.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{className:i.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,sm:8},r.a.createElement(m.a,{className:i.labelText},"".concat(e.firstname," ").concat(e.lastname)),r.a.createElement(m.a,{className:i.normalText},"Status Change To ",e.status)),r.a.createElement(en.a,{item:!0,sm:4},r.a.createElement(m.a,{className:"".concat(i.labelText," ").concat(i.textAlignRight)},ta()(e.updated_at).format("DD MMM, HH:mm A"))))),o.length!==t+1&&r.a.createElement("div",{className:i.borderBottom}))})))}));function Wu(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,null,t))}function Gu(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Vu=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto","&::-webkit-scrollbar":{width:0}},supportContainer:{width:"95%",height:"100%",margin:"0 auto"},commentsSection:{marginTop:"30px"},appbarRoot:{backgroundColor:e.palette.common.white,boxShadow:"none",color:e.palette.common.blackRussian,borderTopLeftRadius:"3px",borderTopRightRadius:"3px"},tabBar:{backgroundColor:e.palette.common.white,boxShadow:"none"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2",fontWeight:500,"& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}}}})),Ku=Object(i.c)((function(e){return{loading:e.Supports.singleSupportLoading}}),{getSingleSupport:Su})((function(e){var t=Object(n.useState)({}),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),l=Object(S.a)(i,2),d=(l[0],l[1]),m=Object(n.useState)(0),u=Object(S.a)(m,2),p=u[0],g=u[1],f=Object(s.i)().id,b=Vu();Object(n.useEffect)((function(){e.getSingleSupport(f,h,x)}),[]);var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(e.data||{})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(e.message||"Something Went Wrong")};return r.a.createElement("div",{className:b.container},r.a.createElement("div",{className:b.supportContainer},r.a.createElement(Pu,{data:o||{},loading:e.loading,id:f}),"draft"!==o.status&&r.a.createElement("div",{className:b.commentsSection},r.a.createElement(T.a,{position:"static",className:b.tabbar,classes:{root:b.appbarRoot}},r.a.createElement(ro.a,{centered:!0,value:p,onChange:function(e,t){g(t)},indicatorColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"Comments"},Gu(0),{className:"".concat(b.eventsTab," ").concat(b.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"History"},Gu(1),{className:b.eventsTab})))),r.a.createElement(Wu,{value:p,index:0},r.a.createElement(Uu,{onComment:function(e){var t=Object(Na.a)(o.comment_lists);t.push(e),c(Object(N.a)(Object(N.a)({},o),{},{comment_lists:t}))},id:f,data:o.comment_lists||[]})),r.a.createElement(Wu,{value:p,index:1},r.a.createElement(Hu,{id:o.id,data:o.history_lists||[]})))))})),qu=Object(dt.a)({root:{width:"100%",textAlign:"center",fontSize:"20px",paddingTop:"60px"}}),Ju=function(e){var t=qu(),a=e.text;return r.a.createElement(mr.a,{className:t.root},r.a.createElement(m.a,null,a||"You don't have any leave."))},Qu=Object(dt.a)({loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"}}),Xu=function(){var e=Qu();return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(mr.a,{className:e.loading},r.a.createElement(kr.a,null)),r.a.createElement("br",null))},Zu=Object(dt.a)({root:{fontFamily:"Avenir Medium",fontSize:"20px"},title:{textAlign:"center",margin:"15px 0px"},content:{marginLeft:"15px",marginRight:"15px","& > *":{display:"inline-block",paddingTop:"8px",paddingLeft:"5px"}},statusRoot:{display:"inline-flex"},statusText:{marginLeft:"5px"},newLeaveRoot:{display:"inline-flex",float:"right",paddingRight:"3px",cursor:"pointer","& span":{color:p,fontSize:"14px"}},newLeaveBtn:{paddingRight:"5px",marginTop:"-2px"}}),$u=function(e){var t=Zu(),a=e.title,n=e.titleText,o=e.newLeaveBtn,c=e.newLeaveBtnHandler;return r.a.createElement(mr.a,{className:t.root},a?r.a.createElement(m.a,{className:t.title},n||"My Leave"):null,r.a.createElement(mr.a,{className:t.content},r.a.createElement(m.a,{className:t.statusRoot},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 14 18"},r.a.createElement("g",{transform:"translate(-10.439 -7)"},r.a.createElement("path",{class:"a",d:"M21.153,7H11V25H25V10.517Zm.186,1.017,2.542,2.324-2.542,0ZM11.646,24.393V7.607h9.046v3.337l3.662.005V24.393Z",transform:"translate(-0.561)"}),r.a.createElement("rect",{class:"a",width:"6",transform:"translate(13.065 8.878)"}),r.a.createElement("rect",{class:"a",width:"9.197",height:"1",transform:"translate(13 11.84)"}),r.a.createElement("rect",{class:"a",width:"7",height:"1",transform:"translate(13.074 13.825)"}),r.a.createElement("rect",{class:"a",width:"9.197",transform:"translate(13 16.806)"}),r.a.createElement("rect",{class:"a",width:"7",height:"1",transform:"translate(13.074 16.802)"}),r.a.createElement("rect",{class:"a",width:"9.197",height:"1",transform:"translate(13 19.779)"}),r.a.createElement("rect",{class:"a",width:"7",height:"1",transform:"translate(13.074 21.746)"}))),r.a.createElement("span",{className:t.statusText},"Status")),o?r.a.createElement(m.a,{className:t.newLeaveRoot},r.a.createElement(Jm.a,{color:"primary",className:t.newLeaveBtn,onClick:c}),r.a.createElement("span",null,"New")):null))},ep=a(155),tp=a.n(ep),ap=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"postLeave",value:function(e,t,a){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/leaves"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}},{key:"putLeave",value:function(e,t){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/leaves"),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchMoreLeave",value:function(e,t){return oa.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchAllLeaves",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/leaves"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchAllLeavesQueve",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/leavesqueue"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchMoreLeavesQueve",value:function(e,t){return console.log(t),oa.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchAllUserdata",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/user/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"fetchAllTeacher",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/getUsers/teacher"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchAllAdmin",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/getUsers/admin"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchDiaryLeaves",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/dairy?get_by=leave&current_role=").concat(t,"&student_id=").concat(a),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchMoreDiaryLeave",value:function(e,t){return oa.a.get(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),np=a(297),rp=a.n(np),op=a(301),cp=a(302),ip=Object(dt.a)((function(e){var t;return t={root:{paddingBottom:"100px",width:"calc(100% - 40px)",margin:"10px"},book:{fontFamily:"Avenir Book"},tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}},paper:{textAlign:"center",color:e.palette.text.secondary,boxShadow:"none",marginTop:"20px",padding:"10px",borderRadius:"5px",width:"calc(100% - 40px)",margin:"0 auto"},left:{paddingRight:"12px",borderRight:"1px solid #cacacc"},rowflex:{display:"flex",flexWrap:"wrap"},img:{width:"50px",height:"50px",borderRadius:"50%",marginLeft:"auto",border:"1px solid",marginTop:"5px"},center:{paddingLeft:"12px"},uppertext:{fontFamily:"Avenir Medium",fontSize:"14px",color:"#1C1C1E",paddingBottom:"2px"},borderLeft:{borderLeft:"2px solid #dedede",textAlign:"left",paddingLeft:"10px"},create:{float:"right",paddingRight:"21px",paddingTop:"8px"},createHeader:{display:"flex",float:"right"},createButtonIcon:{paddingRight:"5px"},createTitle:{display:"flex",paddingTop:"4px"},align:{textAlign:"justify",paddingLeft:"8px"},status:{display:"inline-block",paddingTop:"8px",marginLeft:"2px"},createButtonIconCircle:{cursor:"pointer",backgroundColor:"#fff",borderRadius:"50%",display:"inline-block",border:"1px solid red",width:"16px",height:"16px",marginRight:"12px",color:op.a[500]},createButtonIconCircleOk:{cursor:"pointer",backgroundColor:"#fff",borderRadius:"50%",display:"inline-block",border:"1px solid green",width:"16px",height:"16px",color:cp.a[500]},Pending:{paddingTop:"6px",fontSize:"14px"},Approved:{color:"#40BD13",paddingTop:"10px",fontSize:"14px"},Cancelled:{color:"#D92424",paddingTop:"10px",fontSize:"14px"},Rejected:{color:"#D92424",paddingTop:"10px",fontSize:"14px"},leavereason:{fontSize:"15px","white-space":"pre-wrap"},name:{transform:"translateY(10px)",textAlign:"left",paddingLeft:"15px",paddingTop:"12px",fontFamily:"Avenir Medium",fontSize:"14px"}},Object(C.a)(t,"book",{fontFamily:"Avenir Book","& > *":{fontSize:"14px"}}),Object(C.a)(t,"leaveStatus",{textAlign:"right",paddingRight:"10px"}),Object(C.a)(t,"reason",{fontFamily:"Avenir Medium"}),Object(C.a)(t,"leavesRoot",{maxWidth:"100%",paddingBottom:"100px"}),t})),lp=function(){var e=ip(),t=Object(n.useRef)(null),a=Object(n.useState)(!0),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)([]),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(null),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(1),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(!0),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(s.g)();Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,ap.fetchAllLeavesQueve(a);case 4:n=t.sent,N(!1),e&&(p(n.data.data.data),null===(r=n.data.data.next_page_url)?i(!1):(h(r),y(v+1))),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),N(!1),console.log("Error: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var w=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,ap.fetchMoreLeavesQueve(t,b);case 4:a=e.sent,p([].concat(Object(Na.a)(u),Object(Na.a)(a.data.data.data))),null===(n=a.data.data.next_page_url)?i(!1):(h(n),y(v+1)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,ap.putLeave({leavecode:t,leavestatus:"REJECTED"},a);case 4:200===e.sent.status&&k.replace("/leave"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,ap.putLeave({leavecode:t,leavestatus:"APPROVED"},a);case 4:200===e.sent.status&&k.replace("/leave"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(mr.a,{className:e.root,ref:t,id:"scrollable"},r.a.createElement($u,{title:!0,titleText:"Teacher's Leaves"}),r.a.createElement(co.a,{dataLength:u.length,next:w,hasMore:c,loader:r.a.createElement(Xu,null),scrollableTarget:"scrollable",scrollThreshold:.2},u.map((function(t){return r.a.createElement(Od.a,{className:e.paper},r.a.createElement(mr.a,{className:e.rowflex},r.a.createElement(en.a,{item:!0,xs:12,lg:4,md:4,sm:6},r.a.createElement(mr.a,{className:e.rowflex},r.a.createElement(en.a,{style:{marginRight:"7px"},item:!0,xs:2},r.a.createElement("img",{className:e.img,src:t.users.thumbnail})),r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement(mr.a,{className:e.name},t.users.firstname,"\xa0",t.users.lastname)))),r.a.createElement(en.a,{item:!0,xs:12,lg:6,md:6,sm:6,className:e.borderLeft},r.a.createElement(m.a,{variant:"body1",className:e.leavereason},r.a.createElement(mr.a,{className:e.uppertext},r.a.createElement(tp.a,{format:"D MMM YYYY"},t.start_date),"\xa0 \xa0 -\xa0 \xa0",r.a.createElement(tp.a,{format:"D MMM YYYY"},t.end_date),r.a.createElement("span",{className:e.book},t.full_day?r.a.createElement("span",{className:e.book},"\xa0\u2985Full Day\u2986"):0==t.half_day_half?r.a.createElement("span",{className:e.book},"\xa0\u2985Half day - First Half\u2986"):r.a.createElement("span",{className:e.book},"\xa0\u2985Half day - Second Half\u2986"))),r.a.createElement(mr.a,{className:e.book},"Reason - ",t.reason))),r.a.createElement(en.a,{item:!0,xs:2},r.a.createElement(m.a,{className:e.leaveStatus},r.a.createElement(mr.a,{style:{padding:"10px 1px 0px 0px"}},"PENDING"==t.leave_status?r.a.createElement(X.a,{color:"action",className:e.createButtonIconCircle,onClick:function(e){return T(t.leave_code)},value:t.leave_code}):null,"PENDING"==t.leave_status?r.a.createElement(rp.a,{color:"action",className:e.createButtonIconCircleOk,onClick:function(e){return A(t.leave_code)},value:t.leave_code}):null),"PENDING"==t.leave_status?r.a.createElement(mr.a,{className:e.Pending},"Pending"):null,"REJECTED"==t.leave_status?r.a.createElement(mr.a,{className:e.Rejected},"Rejected"):null,"CANCELLED"==t.leave_status?r.a.createElement(mr.a,{className:e.Cancelled},"Cancelled"):null,"APPROVED"==t.leave_status?r.a.createElement(mr.a,{className:e.Approved},"Approved"):null))))})),C||u.length?null:r.a.createElement(Ju,{text:"No leaves"})))},sp=Object(dt.a)((function(e){return{root:{textAlign:"center",color:e.palette.text.secondary,boxShadow:"none",borderRadius:"5px",marginTop:"20px",padding:"20px",display:"flex",flexWrap:"wrap",backgroundColor:"white",width:"calc(100% - 40px)",margin:"0 auto"},leftColumn:{textAlign:"justify"},leaveReason:{"white-space":"pre-wrap"},leaveDate:{fontFamily:"Avenir Medium",fontSize:"14px",color:"#1C1C1E",paddingBottom:"10px"},leaveDetails:{color:h},pb10:{paddingBottom:"10px"},rightColumn:{paddingTop:"15px",textAlign:"right"},PENDING:{marginBottom:"4px",paddingTop:"4px"},SEEN:{color:"#40BD13"},APPROVED:{color:"#40BD13"},CANCELLED:{color:"#D92424"},REJECTED:{color:"#D92424"},statusText:{fontSize:"14px",paddingTop:"8px"},cancelBtnIcon:{fontSize:"18px",marginRight:"16px",backgroundColor:"#fff",borderRadius:"50%",border:"1px solid red",marginTop:"-12px",color:"#D92424"}}})),dp=function(e){var t=sp(),a=e.status;return r.a.createElement(m.a,{className:"".concat(t[a]," ").concat(t.statusText)},function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}(a))},mp=function(e){var t=sp(),a=e.leave,n=e.cancelBtnHandler;return r.a.createElement(en.a,{container:!0,className:t.root},r.a.createElement(en.a,{item:!0,xs:9,className:t.leftColumn},r.a.createElement(mr.a,{className:t.leaveReason},r.a.createElement(m.a,{className:t.leaveDate},r.a.createElement(tp.a,{format:"D MMM YYYY"},a.start_date),"\xa0 \xa0 -\xa0 \xa0",r.a.createElement(tp.a,{format:"D MMM YYYY"},a.end_date)),r.a.createElement(mr.a,{className:t.leaveDetails},a.full_day?r.a.createElement(m.a,{variant:"subtitle2",className:t.pb10},"Full Day"):0===a.half_day_half?r.a.createElement(m.a,{variant:"subtitle2"},"Half day - First Half"):r.a.createElement(m.a,{variant:"subtitle2"},"Half day - Second Half"),r.a.createElement(m.a,{variant:"subtitle2"},"Reason - ",a.reason)))),r.a.createElement(en.a,{item:!0,xs:3,className:t.rightColumn},"PENDING"===a.leave_status?r.a.createElement(X.a,{color:"action",className:t.cancelBtnIcon,style:{cursor:n?"pointer":"unset"},onClick:function(e){return n(a.leave_code)},value:a.leave_code}):null,r.a.createElement(dp,{status:a.leave_status})))},up=Object(dt.a)((function(e){return{tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},tabPanel:{width:"100%",margin:"0 auto",marginTop:"10px"},uppertext:{fontFamily:"Avenir Medium",fontSize:"14px",color:"#1C1C1E",paddingBottom:"2px"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}},paper:{textAlign:"center",color:e.palette.text.secondary,boxShadow:"none",marginTop:"20px",padding:"10px",borderRadius:"5px",width:"calc(100% - 60px)",margin:"0 auto"},left:{paddingRight:"12px",borderRight:"1px solid #cacacc"},rowflex:{display:"flex",flexWrap:"wrap"},img:{width:"50px",height:"50px",borderRadius:"50%",margin:"auto",border:"1px solid",marginTop:"5px"},center:{paddingLeft:"12px"},borderLeft:{borderLeft:"2px solid #dedede",textAlign:"left",paddingLeft:"10px"},align:{textAlign:"justify"},createButtonIconCircle:{cursor:"pointer",backgroundColor:"#fff",borderRadius:"100%",display:"inline-block",border:"1px solid red",width:"18px",height:"18px",marginRight:"30px"},createButtonIconCircle1:{cursor:"pointer",backgroundColor:"#fff",borderRadius:"100%",display:"inline-block",border:"1px solid red",width:"18px",height:"18px",marginRight:"7px"},createButtonIconCircleOk:{backgroundColor:"#fff",borderRadius:"50%",display:"inline-block",border:"1px solid green",width:"18px",height:"18px",marginTop:"25px",margin:"auto",cursor:"pointer",color:cp.a[500]},Seen:{color:"#40BD13",paddingTop:"20px",fontSize:"14px"},Cancelled:{color:"#D92424",paddingTop:"20px",fontSize:"14px"},Approved1:{color:"#40BD13",padding:"2px",transform:"translateY(-3px)",textAlign:"center"},Cancelled1:{color:"#D92424",transform:"translateY(-3px)",padding:"2px",textAlign:"center"},Rejected1:{color:"#D92424",transform:"translateY(-3px)",padding:"2px",textAlign:"center"},book:{fontFamily:"Avenir Book","& > *":{fontSize:"14px"}},name:{transform:"translateY(10px)",textAlign:"left",paddingLeft:"15px",fontFamily:"Avenir Medium",fontSize:"14px"},name1:{transform:"translateY(17px)",textAlign:"left",paddingLeft:"15px",fontFamily:"Avenir Medium"},stat:{textAlign:"right",transform:"translateY(10px)",paddingTop:"25px"},stat2:Object(C.a)({textAlign:"right",transform:"translateY(10px)",paddingTop:"15px"},"textAlign","center"),stat1:{textAlign:"right",transform:"translateY(-25px)"},stat11:{textAlign:"center",transform:"translateY(3px)"},leavereason:{"white-space":"pre-wrap"},leaveStatus:{textAlign:"right",paddingRight:"10px"},reason:{fontFamily:"Avenir Medium"},leavesRoot:{maxWidth:"100%",paddingBottom:"100px"},activeTab:{fontWeight:800},pendingBtnContainer:{paddingRight:"10px",marginTop:"-4px"}}}));function pp(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,null,t))}function gp(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var fp=function(){var e=up(),t=Object(n.useState)(0),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useRef)(null),l=Object(n.useState)(!0),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(!0),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)([]),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(null),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)(null),w=Object(S.a)(k,2),A=w[0],_=w[1],I=Object(n.useState)(1),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)([]),F=Object(S.a)(L,2),M=F[0],P=F[1],z=Object(n.useState)(!1),U=Object(S.a)(z,2),Y=(U[0],U[1]),H=Object(n.useState)(!0),W=Object(S.a)(H,2),G=W[0],V=W[1],K=Object(s.g)();Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,ap.fetchAllLeaves(a);case 4:n=t.sent,V(!1),e&&(y(n.data.data.data),null===(r=n.data.data.next_page_url)?p(!1):(N(r),R(D+1),p(!0))),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),V(!1),console.log("Error: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,ap.fetchAllLeavesQueve(a);case 4:n=t.sent,e&&(P(n.data.data.data),0===n.data.data.data.length&&Y(!0),null===(r=n.data.data.next_page_url)?h(!1):(_(r),R(D+1),h(!0))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),t(),function(){e=!1}}),[]);var q=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,ap.fetchAllLeavesQueve(t);case 4:for(n in(a=e.sent).data.data.data)P(a.data.data.data),0===a.data.data.data.length&&Y(!0),null===(r=a.data.data.next_page_url)?h(!1):(_(r),R(D+1),h(!0));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,ap.fetchMoreLeave(t,C);case 4:a=e.sent,y([].concat(Object(Na.a)(v),Object(Na.a)(a.data.data.data))),null===(n=a.data.data.next_page_url)?p(!1):(N(n),R(D+1),p(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,ap.fetchMoreLeavesQueve(t,A);case 4:a=e.sent,P([].concat(Object(Na.a)(M),Object(Na.a)(a.data.data.data))),0===a.data.data.data.length&&Y(!0),null===(n=a.data.data.next_page_url)?h(!1):(_(n),R(D+1),h(!0)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,ap.putLeave({leavecode:t,leavestatus:"CANCELLED"},a);case 4:200===e.sent.status&&K.replace("/leave"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,ap.putLeave({leavecode:t,leavestatus:"SEEN"},a);case 4:200===e.sent.status&&q(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(mr.a,{ref:i,id:"scrollable"},r.a.createElement(T.a,{position:"sticky",className:e.tabBar},r.a.createElement(ro.a,{centered:!0,value:o,onChange:function(e,t){return c(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"My Leave"},gp(0),{className:"".concat(e.eventsTab," ").concat(e.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"Student Leave"},gp(1),{className:"".concat(e.eventsTab)})))),r.a.createElement(pp,{value:o,index:0},r.a.createElement($u,{title:!1,newLeaveBtn:!0,newLeaveBtnHandler:function(e){K.push("/leave/create")}}),r.a.createElement(mr.a,{className:e.leavesRoot},r.a.createElement(co.a,{dataLength:v.length,next:J,hasMore:u,loader:r.a.createElement(Xu,null),scrollableTarget:"scrollable",scrollThreshold:.5},v.map((function(e){return r.a.createElement(mp,{leave:e,cancelBtnHandler:X})})),G||v.length?null:r.a.createElement(Ju,null)))),r.a.createElement(pp,{value:o,index:1},r.a.createElement(mr.a,{className:e.leavesRoot},r.a.createElement(co.a,{dataLength:v.length,next:Q,hasMore:b,loader:r.a.createElement(Xu,null),scrollableTarget:"scrollable",scrollThreshold:.5},M.map((function(t){return r.a.createElement(Od.a,{className:e.paper},r.a.createElement(mr.a,{className:e.rowflex},r.a.createElement(en.a,{item:!0,xs:12,lg:4,md:4,sm:6},r.a.createElement(mr.a,{className:e.rowflex},r.a.createElement(en.a,{style:{marginRight:"7px"},item:!0,xs:2},r.a.createElement("img",{className:e.img,src:t.users.thumbnail})),r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement(mr.a,{className:e.name},t.users.firstname,"\xa0",t.users.lastname),r.a.createElement(mr.a,{className:e.name1},"null"==="".concat(t.users.user_classes.classes_data)?null:r.a.createElement(mr.a,{style:{fontFamily:"Avenir Medium",fontSize:"14px"}},t.users.user_classes.classes_data.class_name))))),r.a.createElement(en.a,{item:!0,xs:12,lg:6,md:6,sm:6,className:e.borderLeft},r.a.createElement(m.a,{className:e.leavereason},r.a.createElement(mr.a,{className:e.uppertext},r.a.createElement(tp.a,{format:"D MMM YYYY"},t.start_date),"\xa0 -\xa0",r.a.createElement(tp.a,{format:"D MMM YYYY"},t.end_date),r.a.createElement("span",{className:e.book},t.full_day?r.a.createElement("span",{className:e.book},"\xa0\u2985Full Day\u2986"):0==t.half_day_half?r.a.createElement("span",{className:e.book},"\xa0\u2985Half day - First Half\u2986"):r.a.createElement("span",{className:e.book},"\xa0\u2985Half day - Second Half\u2986"))),r.a.createElement(m.a,{className:e.reason},"Reason - ",t.reason))),r.a.createElement(en.a,{item:!0,xs:12,lg:2,md:2,sm:12},r.a.createElement(mr.a,{className:e.leaveStatus},"PENDING"==t.leave_status?r.a.createElement(mr.a,{className:e.pendingBtnContainer},r.a.createElement(rp.a,{color:"action",className:"".concat(e.createButtonIconCircleOk," ").concat(e.actionBtns),onClick:function(e){return Z(t.leave_code)},value:t.leave_code})):null,"CANCELLED"==t.leave_status?r.a.createElement(m.a,{className:e.Cancelled},"Cancelled"):null,"SEEN"==t.leave_status?r.a.createElement(m.a,{className:e.Seen},"Seen"):null))))})),G||M.length?null:r.a.createElement(Ju,null)))))},bp=Object(dt.a)({leavesRoot:{maxWidth:"100%",paddingBottom:"100px"}}),hp=function(){var e=bp(),t=Object(n.useState)(!0),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),l=Object(S.a)(i,2),d=l[0],m=l[1],u=Object(n.useState)(null),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(1),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!0),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(s.g)();Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmSelected_Child_token"),t.next=4,ap.fetchAllLeaves(a);case 4:n=t.sent,O(!1),e&&(m(n.data.data.data),null===(r=n.data.data.next_page_url)?c(!1):(f(r),E(x+1),c(!0))),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),O(!1),console.log("Error: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var N=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,ap.fetchMoreLeave(t,g);case 4:a=e.sent,m([].concat(Object(Na.a)(d),Object(Na.a)(a.data.data.data))),null===(n=a.data.data.next_page_url)?c(!1):(f(n),E(x+1),c(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("srmToken"),e.next=4,ap.putLeave({leavecode:t,leavestatus:"CANCELLED"},a);case 4:200===e.sent.status&&C.replace("/leave"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(mr.a,{id:"scrollable"},r.a.createElement($u,{title:!0,newLeaveBtn:!0,newLeaveBtnHandler:function(e){C.push("/leave/create")}}),r.a.createElement(mr.a,{className:e.leavesRoot},r.a.createElement(co.a,{dataLength:d.length,next:N,hasMore:o,loader:r.a.createElement(Xu,null),scrollableTarget:"scrollable",scrollThreshold:.5},d.map((function(e){return r.a.createElement(mp,{leave:e,cancelBtnHandler:k})})),j||d.length?null:r.a.createElement(Ju,null))))},xp=Object(dt.a)({leavesRoot:{maxWidth:"100%",paddingBottom:"100px"}}),Ep=function(){var e=xp(),t=Object(n.useState)(!0),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),l=Object(S.a)(i,2),s=l[0],d=l[1],u=Object(n.useState)(null),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(1),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!0),y=Object(S.a)(v,2),j=y[0],O=y[1];Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,ap.fetchAllLeaves(a);case 4:n=t.sent,O(!1),e&&(d(n.data.data.data),null===(r=n.data.data.next_page_url)?c(!1):(f(r),E(x+1),c(!0))),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),O(!1),console.log("Error: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var C=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,ap.fetchMoreLeave(t,g);case 4:a=e.sent,d([].concat(Object(Na.a)(s),Object(Na.a)(a.data.data.data))),null===(n=a.data.data.next_page_url)?c(!1):(f(n),E(x+1),c(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(mr.a,{id:"scrollable"},r.a.createElement($u,{title:!0}),r.a.createElement(mr.a,{className:e.leavesRoot},r.a.createElement(co.a,{dataLength:s.length,next:C,hasMore:o,loader:r.a.createElement(Xu,null),scrollableTarget:"scrollable",scrollThreshold:.5},r.a.createElement(m.a,null,s.map((function(e){return r.a.createElement(mp,{leave:e})})),j||s.length?null:r.a.createElement(Ju,null)))))},vp=Object(dt.a)((function(e){return{container:{width:"100%",height:"100%",backgroundColor:e.palette.mainBackground,margin:0,padding:0,overflow:"auto","&::-webkit-scrollbar":{width:0}}}})),yp=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=vp(),a=e.selectedRole;return r.a.createElement(mr.a,{className:t.container},"admin"===a?r.a.createElement(lp,null):null,"teacher"===a?r.a.createElement(fp,null):null,"parent"===a?r.a.createElement(hp,null):null,"student"===a?r.a.createElement(Ep,null):null)})),jp=a(988),Op=a(989),Sp=a(996),Cp=a(913);function Np(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var kp=Object(dt.a)((function(e){var t,a;return a={formStyle:{margin:"auto",width:"95%",backgroundColor:"white",justifyContent:"center",textAlign:"center",borderRadius:"5px"},backImg:{float:"left",cursor:"pointer"},adornmentColor:{color:"rgba(0, 0, 0, 0.54)"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0},errorColor:{color:"red"},fieldStyle:{width:"97%",fontFamily:"Avenir Book",fontSize:" 1rem",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px"},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),paper:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",border:"1px solid #eaeaea",padding:e.spacing(.5),textAlign:"left"},paperShowIn:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:"auto"},chip:{margin:e.spacing(.5)},paperBoxShadow:{boxShadow:"2px 2px 2px 0 #E5E5EA"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},contentCenter:{justifyContent:"center"},chips:{display:"flex",flexWrap:"wrap"}},Object(C.a)(a,"chip",{margin:2}),Object(C.a)(a,"form_txtarea",{marginBottom:"20px"}),Object(C.a)(a,"textarea",{width:"100%",height:"100px",borderRadius:"5px",fontFamily:'Avenir Book,Avenir,Avenir Black Oblique,Roboto,"Helvetica Neue",Arial,sans-serif',fontWeight:"400",lineHeight:"1.5",outline:"none"}),Object(C.a)(a,"form_row",{display:"flex",textAlign:"center",marginTop:"20px",marginBottom:"20px"}),Object(C.a)(a,"label",{marginRight:"15px",fontSize:"1rem",fontFamily:'Avenir,Avenir Book,Avenir Black Oblique,Roboto,"Helvetica Neue",Arial,sans-serif',fontWeight:"400",lineHeight:"1.5"}),Object(C.a)(a,"select",{border:"none",borderBottom:"1px solid #7b72af",padding:"5px 0px"}),Object(C.a)(a,"selectadmin",{marginLeft:"12px",paddingTop:"6px"}),Object(C.a)(a,"topdate",{marginTop:"18px"}),Object(C.a)(a,"leavereason",{fontSize:"15px"}),Object(C.a)(a,"tchClassRoot",{marginLeft:"27px",transform:"translateY(-10px)"}),Object(C.a)(a,"tchSelect",{width:"150px"}),Object(C.a)(a,"sideMargins",{marginLeft:"20px"}),Object(C.a)(a,"publishBtns",{textAlign:"right",justifyContent:"right"}),Object(C.a)(a,"margin",(t={marginTop:"30px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({float:"right",borderRadius:"3px",width:"inherit",margin:0,textTransform:"none"},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t)),Object(C.a)(a,"titleText",{textAlign:"center",margin:"auto",fontFamily:"Avenir Medium",fontize:"1.2rem",color:"#1C1C1E"}),a})),wp=Object(i.c)((function(e){return{token:e.auth.token}}))((function(e){var t=Object(s.g)(),a=Object(s.i)().id,o=kp(),c=Object(n.useState)(null),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(null),p=Object(S.a)(u,2),g=p[0],f=p[1],b=r.a.useState(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(""),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!0),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(!1),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)(0),D=Object(S.a)(B,2),R=D[0],L=D[1],F=r.a.useState(!1),P=Object(S.a)(F,2),U=P[0],Y=P[1],H=Object(n.useState)([]),G=Object(S.a)(H,2),V=G[0],K=G[1],q=Object(n.useState)(!1),J=Object(S.a)(q,2),Q=J[0],X=J[1],Z=Object(n.useState)(""),$=Object(S.a)(Z,2),ee=$[0],te=$[1];Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,ap.fetchAllAdmin(a);case 4:n=t.sent,e&&K([].concat(Object(Na.a)(V),Object(Na.a)(n.data.data))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var ne=function(){var n=Object(Ca.a)(Sa.a.mark((function n(){return Sa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(k&&L(2),null!=l&&null!=g&&""!=x&&""!=j){n.next=6;break}te("Form is incomplete"),X(!0),n.next=10;break;case 6:return n.next=8,ap.postLeave({id:a},{leavearr:{start_date:l,end_date:g,half_day:_,full_day:k,half_day_half:R,sanctioner_id:j,reason:x}},e.token);case 8:200===n.sent.status&&t.replace("/leave");case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),re=function(e,t){"h_day"==t?(Y(!0),I(!0),w(!1),L(0)):(Y(!1),I(!1),w(!0))},oe=function(e,t){"clickaway"!==t&&X(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{className:o.formStyle},r.a.createElement(mr.a,{className:"".concat(o.margin," ").concat(o.sideMargins),pt:4},r.a.createElement(mr.a,null,r.a.createElement("img",{src:Yc.a,alt:"Back",className:o.backImg,onClick:function(e){t.push("/leave")}}),r.a.createElement(m.a,{variant:"h5",className:"".concat(o.themeColor," ").concat(o.titleText)},"Create leave"))),r.a.createElement(mr.a,null,r.a.createElement(ae.a,{open:Q,autoHideDuration:6e3,onClose:oe},r.a.createElement(Np,{onClose:oe,severity:"error"},ee)),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:o.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12,className:o.topdate},r.a.createElement($i.a,{id:"eventDate",label:"From Date",variant:"dialog",minDate:new Date,format:"yyyy/MM/dd",value:l,onChange:function(e){null!=g&&g.getTime()<=e.getTime()?(te("From Date can't be greater than End Date"),X(!0),f(null),d(e)):d(e)},disablePast:"true",KeyboardButtonProps:{"aria-label":"change date"},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:o.datePicker}))))),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:o.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{minDate:new Date,variant:"dialog",format:"yyyy/MM/dd",id:"enddate",label:"End Date",disablePast:"true",value:g,onChange:function(e){return null==l?(alert("Please Select any Date"),!1):e.getTime()<=l.getTime()?(te("From Date can't be greater than End Date"),X(!0),!1):void f(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:o.datePicker})))))),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(en.a,{className:o.fieldStyle},r.a.createElement(mr.a,{className:o.form_row},r.a.createElement(m.a,{variant:"h5",className:"".concat(o.slotd)},r.a.createElement(dr.a,{component:"fieldset"},r.a.createElement(jp.a,{row:!0,"aria-label":"position",name:"slot",defaultValue:"top"},r.a.createElement(Op.a,{value:"f_day",onClick:function(e){re(0,"f_day")},control:r.a.createElement(Sp.a,{color:"primary"}),label:"Full day",checked:k}),r.a.createElement(Op.a,{value:"h_day",onClick:function(e){re(0,"h_day")},control:r.a.createElement(Sp.a,{color:"primary"}),label:"Half Day",checked:_})))),1==U&&r.a.createElement(m.a,{variant:"h5"},r.a.createElement(Gr.a,{defaultValue:0,value:R,onChange:function(e){L(e.target.value)},inputProps:{name:"type",id:"type"}},r.a.createElement(M.a,{value:0},"First Half"),r.a.createElement(M.a,{value:1},"Second Half"))),r.a.createElement(dr.a,{classes:{root:o.tchClassRoot}},r.a.createElement(Wr.a,{id:"demo-simple-select-label"},"Admin's Name"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,className:o.tchSelect,onChange:function(e){O(e.target.value)}},V.map((function(e){return r.a.createElement(M.a,{value:e.user_id},e.firstname,"\xa0",e.lastname)}))))))),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(en.a,{className:o.fieldStyle},r.a.createElement(mr.a,{className:o.form_txtarea},r.a.createElement(m.a,{className:"".concat(o.titleText)},r.a.createElement(Cp.a,{className:o.textarea,rowsMax:4,"aria-label":"maximum height",placeholder:"Reason*",style:{height:85},onChange:function(e){E(e.target.value)},name:"content"}))))),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(en.a,{container:!0,className:o.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(o.fieldStyle," ","publishBtn"),color:"primary",onClick:ne,type:"submit",disableElevation:!0},"Submit")))),r.a.createElement("br",null)))}));function Tp(e){return r.a.createElement(ma.a,Object.assign({elevation:6,variant:"filled"},e))}var Ap=Object(dt.a)((function(e){var t,a;return a={formStyle:{margin:"auto",width:"95%",backgroundColor:"white",justifyContent:"center",textAlign:"center",borderRadius:"5px"},backImg:{float:"left",transform:"translate(0px, 7px)",cursor:"pointer"},titleText:{textAlign:"center",margin:"auto",fontFamily:"Avenir Medium",fontize:"1.2rem",color:"#1C1C1E"},adornmentColor:{color:"rgba(0, 0, 0, 0.54)"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0},errorColor:{color:"red"},fieldStyle:{width:"97%",fontFamily:"Avenir Book",fontSize:" 1rem",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},inputBorder:{height:"50px"},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),paper:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",border:"1px solid #eaeaea",padding:e.spacing(.5),textAlign:"left"},paperShowIn:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:"auto"},chip:{margin:e.spacing(.5)},paperBoxShadow:{boxShadow:"2px 2px 2px 0 #E5E5EA"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},contentCenter:{justifyContent:"center"},chips:{display:"flex",flexWrap:"wrap"}},Object(C.a)(a,"chip",{margin:2}),Object(C.a)(a,"margin",(t={marginTop:"30px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({float:"right",borderRadius:"3px",width:"inherit",margin:0,textTransform:"none"},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t)),Object(C.a)(a,"form_txtarea",{marginBottom:"20px"}),Object(C.a)(a,"tchSelect",{width:"150px"}),Object(C.a)(a,"textarea",{width:"100%",height:"100px",borderRadius:"5px",fontFamily:'Avenir Book,Avenir,Avenir Black Oblique,Roboto,"Helvetica Neue",Arial,sans-serif',fontWeight:"400",lineHeight:"1.5",outline:"none"}),Object(C.a)(a,"form_row",{display:"flex",marginTop:"20px",marginBottom:"20px"}),Object(C.a)(a,"label",{marginRight:"15px",fontSize:"1rem",fontFamily:'Avenir,Avenir Book,Avenir Black Oblique,Roboto,"Helvetica Neue",Arial,sans-serif',fontWeight:"400",lineHeight:"1.5"}),Object(C.a)(a,"select",{border:"none",borderBottom:"1px solid #7b72af",padding:"5px 0px"}),Object(C.a)(a,"selectadmin",{marginLeft:"21px",transform:"translateY(3px)"}),Object(C.a)(a,"tchClassRoot",{marginLeft:"27px",transform:"translateY(-13px)"}),Object(C.a)(a,"topdate",{marginTop:"18px"}),Object(C.a)(a,"leavereason",{fontSize:"15px"}),Object(C.a)(a,"slotd",{width:"220px",textAlign:"left"}),Object(C.a)(a,"sideMargins",{marginLeft:"20px",marginRight:"20px"}),a})),_p=Object(i.c)((function(e){return{token:e.auth.token}}))((function(e){var t=Object(s.g)(),a=Object(s.i)().id,o=Ap(),c=Object(n.useState)(null),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(null),p=Object(S.a)(u,2),g=p[0],f=p[1],b=r.a.useState(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(""),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!0),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(!1),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)(0),D=Object(S.a)(B,2),R=D[0],L=D[1],F=r.a.useState(!1),P=Object(S.a)(F,2),U=P[0],Y=P[1],H=Object(n.useState)(!1),G=Object(S.a)(H,2),V=G[0],K=G[1],q=Object(n.useState)(""),J=Object(S.a)(q,2),Q=J[0],X=J[1],Z=Object(n.useState)([]),$=Object(S.a)(Z,2),ee=$[0],te=$[1];Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,ap.fetchAllTeacher(a);case 4:n=t.sent,e&&te([].concat(Object(Na.a)(ee),Object(Na.a)(n.data.data))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var ne=function(e,t){"h_day"==t?(Y(!0),I(!0),w(!1),L(0)):(Y(!1),I(!1),w(!0))},re=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k&&L(2),null!=l&&null!=g&&""!=x&&""!=j){e.next=6;break}X("Form is incomplete"),K(!0),e.next=10;break;case 6:return e.next=8,ap.postLeave({id:a},{leavearr:{start_date:l,end_date:g,half_day:_,full_day:k,half_day_half:R,sanctioner_id:j,reason:x}},window.localStorage.getItem("srmSelected_Child_token"));case 8:200===e.sent.status&&t.replace("/leave");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e,t){"clickaway"!==t&&K(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{className:o.formStyle},r.a.createElement(mr.a,{className:"".concat(o.margin," ").concat(o.sideMargins),pt:4},r.a.createElement(mr.a,null,r.a.createElement("img",{src:Yc.a,alt:"Back",className:o.backImg,onClick:function(e){t.push("/leave")}}),r.a.createElement(m.a,{variant:"h5",className:"".concat(o.themeColor," ").concat(o.titleText)},"Create leave"))),r.a.createElement(ae.a,{open:V,autoHideDuration:6e3,onClose:oe},r.a.createElement(Tp,{onClose:oe,severity:"error"},Q)),r.a.createElement(mr.a,null,r.a.createElement(mr.a,{className:o.margin},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:o.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12,className:o.topdate},r.a.createElement($i.a,{id:"eventDate",label:"From Date",variant:"dialog",minDate:new Date,format:"yyyy/MM/dd",value:l,onChange:function(e){null!=g&&g.getTime()<=e.getTime()?(X("From Date can't be greater than End Date"),K(!0),f(null),d(e)):d(e)},disablePast:"true",KeyboardButtonProps:{"aria-label":"change date"},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:o.datePicker}))))),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:o.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{minDate:new Date,variant:"dialog",format:"yyyy/MM/dd",id:"enddate",label:"End Date",disablePast:"true",value:g,onChange:function(e){return null==l?(alert("Please Select any Date"),!1):e.getTime()<=l.getTime()?(X("From Date can't be greater than End Date"),K(!0),!1):void f(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:o.datePicker})))))),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(en.a,{className:o.fieldStyle},r.a.createElement(mr.a,{className:o.form_row},r.a.createElement(m.a,{variant:"h5",className:"".concat(o.slotd)},r.a.createElement(dr.a,{component:"fieldset"},r.a.createElement(jp.a,{row:!0,"aria-label":"position",name:"slot",defaultValue:"top"},r.a.createElement(Op.a,{value:"f_day",onClick:function(e){ne(0,"f_day")},control:r.a.createElement(Sp.a,{color:"primary"}),label:"Full day",checked:k}),r.a.createElement(Op.a,{value:"h_day",onClick:function(e){ne(0,"h_day")},control:r.a.createElement(Sp.a,{color:"primary"}),label:"Half Day",checked:_})))),1==U&&r.a.createElement(m.a,{variant:"h5"},r.a.createElement(Gr.a,{defaultValue:0,value:R,onChange:function(e){L(e.target.value)},inputProps:{name:"type",id:"type"}},r.a.createElement(M.a,{value:0},"First Half"),r.a.createElement(M.a,{value:1},"Second Half"))),r.a.createElement(dr.a,{classes:{root:o.tchClassRoot}},r.a.createElement(Wr.a,{id:"demo-simple-select-label"},"Teacher's Name"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,className:o.tchSelect,onChange:function(e){O(e.target.value)}},ee.map((function(e){return r.a.createElement(M.a,{value:e.user_id},e.firstname,"\xa0",e.lastname)}))))))),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(en.a,{className:o.fieldStyle},r.a.createElement(mr.a,{className:o.form_txtarea},r.a.createElement(m.a,{className:"".concat(o.titleText)},r.a.createElement(Cp.a,{className:o.textarea,rowsMax:4,"aria-label":"maximum height",placeholder:"Reason*",style:{height:85},onChange:function(e){E(e.target.value)},name:"content"}))))),r.a.createElement(mr.a,{className:o.margin},r.a.createElement(en.a,{container:!0,className:o.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(o.fieldStyle," ","publishBtn"),color:"primary",onClick:re,type:"submit",disableElevation:!0},"Submit"))),r.a.createElement("br",null))))})),Ip=Object(dt.a)((function(e){return{container:{width:"100%",height:"100%",backgroundColor:e.palette.mainBackground,margin:0,padding:0}}})),Bp=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Ip(),a=e.selectedRole;return r.a.createElement("div",{className:t.container},"teacher"===a||"admin"===a?r.a.createElement(wp,null):null,"parent"===a?r.a.createElement(_p,null):null)})),Dp=(a(803),Object(Jt.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14},error:{fontSize:"10px"}}}))(Ed.a)),Rp={absent:"absentStatus",present:"presentStatus",holiday:"holidayStatus"},Lp=function(e){var t=e.status,a=e.onClick,n=void 0===a?function(){}:a,o=e.loading,c=e.error,i=e.className,l=void 0===i?"":i;return r.a.createElement(Dp,{onClick:function(){Rp[t]&&!o&&n()},align:"center"},o?r.a.createElement(kr.a,{size:12}):r.a.createElement(Ke.a,{className:"".concat(Rp[t]||"emptyStatus"," ").concat(l)}),c?r.a.createElement(m.a,{className:"error"},r.a.createElement("div",{className:"error"},c)):null)},Fp=Object(dt.a)((function(e){return{tableHeader:{display:"flex",textAlign:"center",margin:"0px",padding:"10px 20px",fontSize:"20px",backgroundColor:"lightgrey",height:"20px",font:"normal normal medium 16px/21px Avenir",letterSpacing:"-0.26px",color:"#000000",opacity:"1"},tableHeadermid:{width:"100%"},tableHeaderBtn:{cursor:"pointer"},tableHeaderBtn_dis:{color:"grey"}}})),Mp=function(e){var t=Fp();return r.a.createElement("div",{className:t.tableHeader},r.a.createElement(m.a,{onClick:e.onPrevious,className:t.tableHeaderBtn},"Previous"),e.renderFilter?e.renderFilter:r.a.createElement(m.a,{className:t.tableHeadermid},"Weekly ",e.selectedMonth),e.isnext?r.a.createElement(m.a,{onClick:e.onNext,className:t.tableHeaderBtn},"Next"):r.a.createElement(m.a,{className:t.tableHeaderBtn_dis},"Next"))},Pp={GET_ATTENDENCE:{START:"attendence.get_attendence:start",SUCCESS:"attendence.get_attendence:success",FAIL:"attendence.get_attendence:fail"},GET_CLASSES:{START:"attendence.get_classes:start",SUCCESS:"attendence.get_classes:success",FAIL:"attendence.get_classes:fail"},GET_SINGLE_CLASS:{START:"attendence.get_single_class:start",SUCCESS:"attendence.get_single_class:success",FAIL:"attendence.get_single_class:fail"},GET_STUDENTS:{START:"attendence.get_students:start",SUCCESS:"attendence.get_students:success",FAIL:"attendence.get_students:fail"},GET_SUBJECTS:{START:"attendence.get_subjects:start",SUCCESS:"attendence.get_subjects:success",FAIL:"attendence.get_subjects:fail"},POST_ATTENDANCE:{START:"attendence.post_attendance:start",SUCCESS:"attendence.post_attendance:success",FAIL:"attendence.post_attendance:fail"},UPDATE_ATTENDANCE:{START:"attendence.update_attendance:start",SUCCESS:"attendence.update_attendance:success",FAIL:"attendence.update_attendance:fail"},IMPORT_ATTENDANCE:{START:"attendence.import_attendance:start",SUCCESS:"attendence.import_attendance:success",FAIL:"attendence.import_attendance:fail"},EXPORT_ATTENDANCE:{START:"attendence.export_attendance:start",SUCCESS:"attendence.export_attendance:success",FAIL:"attendence.export_attendance:fail"},GET_WEEKLY_TIMETABLE_SUBJECTS:{START:"attendence.get_weekly_timetable_subjects:start",SUCCESS:"attendence.get_weekly_timetable_subjects:success",FAIL:"attendence.get_weekly_timetable_subjects:fail"},POST_ADD_SUBJECTS_OR_TIME:{START:"attendence.post_add_subjects_or_time:start",SUCCESS:"attendence.post_add_subjects_or_time:success",FAIL:"attendence.post_add_subjects_or_time:fail"},GET_WEEK_FILTER_USING_ALL:{START:"attendence.get_week_filter_using_all:start",SUCCESS:"attendence.get_week_filter_using_all:success",FAIL:"attendence.get_week_filter_using_all:fail"},PUBLISH_WEEKLY_TIME_TABLE:{START:"attendence.publish_weekly_time_table:start",SUCCESS:"attendence.publish_weekly_time_table:success",FAIL:"attendence.publish_weekly_time_table:fail"},ADD_DISH_IN_DISHES:{START:"attendence.add_dish_in_dishes:start",SUCCESS:"attendence.add_dish_in_dishes:success",FAIL:"attendence.add_dish_in_dishes:fail"},SHOW_DISH_LIST_IN_DISHES:{START:"attendence.show_dish_list_in_dishes:start",SUCCESS:"attendence.show_dish_list_in_dishes:success",FAIL:"attendence.show_dish_list_in_dishes:fail"},DELETE_ROW_WEEKLY_TIME_TABLE:{START:"attendence.delete_row_weekly_time_table:start",SUCCESS:"attendence.delete_row_weekly_time_table:success",FAIL:"attendence.delete_row_weekly_time_table:fail"},DELETE_DISH_IN_DISHES:{START:"attendence.delete_dish_in_dishes:start",SUCCESS:"attendence.delete_dish_in_dishes:success",FAIL:"attendence.delete_dish_in_dishes:fail"},UPDATE_DISH_IN_DISHES:{START:"attendence.update_dish_in_dishes:start",SUCCESS:"attendence.update_dish_in_dishes:success",FAIL:"attendence.update_dish_in_dishes:fail"},LUNCH_MENU_SEARCH:{START:"attendence.lunch_menu_search:start",SUCCESS:"attendence.lunch_menu_search:success",FAIL:"attendence.lunch_menu_search:fail"},LUNCH_MENU_GET_BY_DISH:{START:"attendence.lunch_menu_get_by_dish:start",SUCCESS:"attendence.lunch_menu_get_by_dish:success",FAIL:"attendence.lunch_menu_get_by_dish:fail"},LUNCH_MENU_GET_BY_WEEK:{START:"attendence.lunch_menu_get_by_week:start",SUCCESS:"attendence.lunch_menu_get_by_week:success",FAIL:"attendence.lunch_menu_get_by_week:fail"},LUNCH_MENU_PUBLISH_NOW:{START:"attendence.lunch_menu_publish_now:start",SUCCESS:"attendence.lunch_menu_publish_now:success",FAIL:"attendence.lunch_menu_publish_now:fail"},GET_LUNCH_MENU_ID:{START:"attendence.get_lunch_menu_id:start",SUCCESS:"attendence.get_lunch_menu_id:success",FAIL:"attendence.get_lunch_menu_id:fail"},LUNCH_MENU_ALL:{START:"attendence.lunch_menu_all:start",SUCCESS:"attendence.lunch_menu_all:success",FAIL:"attendence.lunch_menu_all:fail"},MENU_DISH_DETAILS:{START:"attendence.menu_dish_details:start",SUCCESS:"attendence.menu_dish_details:success",FAIL:"attendence.menu_dish_details:fail"},DELETE_MENU_IN_LIST:{START:"attendence.delete_menu_in_list:start",SUCCESS:"attendence.delete_menu_in_list:success",FAIL:"attendence.delete_menu_in_list:fail"},REMOVE_LUNCH_IMAGE:{START:"attendence.remove_lunch_image:start",SUCCESS:"attendence.remove_lunch_image:success",FAIL:"attendence.remove_lunch_image:fail"},HOLIDAY_ALL:{START:"attendence.holiday_all:start",SUCCESS:"attendence.holiday_all:success",FAIL:"attendence.holiday_all:fail"},GET_BY_MONTH:{START:"attendence.get_by_month:start",SUCCESS:"attendence.get_by_month:success",FAIL:"attendence.get_by_month:fail"},HOLIDAY_BY_MONTH:{START:"attendence.holiday_by_month:start",SUCCESS:"attendence.holiday_by_month:success",FAIL:"attendence.holiday_by_month:fail"},MISCELLANEOUS:{START:"attendence.miscellaneous:start",SUCCESS:"attendence.miscellaneous:success",FAIL:"attendence.miscellaneous:fail"},UPDATE_MISCELLANEOUS:{START:"attendence.update_miscellaneous:start",SUCCESS:"attendence.update_miscellaneous:success",FAIL:"attendence.update_miscellaneous:fail"},GET_MISCELLANEOUS:{START:"attendence.get_miscellaneous:start",SUCCESS:"attendence.get_miscellaneous:success",FAIL:"attendence.get_miscellaneous:fail"},GET_ALL_MISCELLANEOUS:{START:"attendence.get_all_miscellaneous:start",SUCCESS:"attendence.get_all_miscellaneous:success",FAIL:"attendence.get_all_miscellaneous:fail"},POST_DIARY_MULTIPLE:{START:"attendence.post_diary_multiple:start",SUCCESS:"attendence.post_diary_multiple:success",FAIL:"attendence.post_diary_multiple:fail"},PUT_DIARY_MULTIPLE:{START:"attendence.put_diary_multiple:start",SUCCESS:"attendence.put_diary_multiple:success",FAIL:"attendence.put_diary_multiple:fail"},GET_DIARY_MULTIPLE:{START:"attendence.get_diary_multiple:start",SUCCESS:"attendence.get_diary_multiple:success",FAIL:"attendence.get_diary_multiple:fail"},DIARY_MULTIPLE_SEEN_UNSEEN:{START:"attendence.diary_multiple_seen_unseen:start",SUCCESS:"attendence.diary_multiple_seen_unseen:success",FAIL:"attendence.diary_multiple_seen_unseen:fail"},DELETE_DIARY_MULTIPLE:{START:"attendence.delete_diary_multiple:start",SUCCESS:"attendence.delete_diary_multiple:success",FAIL:"attendence.delete_diary_multiple:fail"},SCHOOL_GRADE:{START:"attendence.school_grade:start",SUCCESS:"attendence.school_grade:success",FAIL:"attendence.school_grade:fail"},INDIVIDUAL_DIARY_POST:{START:"attendence.individual_diary_post:start",SUCCESS:"attendence.individual_diary_post:success",FAIL:"attendence.individual_diary_post:fail"},INDIVIDUAL_DIARY_PUT:{START:"attendence.individual_diary_put:start",SUCCESS:"attendence.individual_diary_put:success",FAIL:"attendence.individual_diary_put:fail"},INDIVIDUAL_DIARY_PUT_FOR_PARENT:{START:"attendence.individual_diary_put_for_parent:start",SUCCESS:"attendence.individual_diary_put_for_parent:success",FAIL:"attendence.individual_diary_put_for_parent:fail"},BY_ME_TEACHER_DIARY:{START:"attendence.by_me_teacher_diary:start",SUCCESS:"attendence.by_me_teacher_diary:success",FAIL:"attendence.by_me_teacher_diary:fail"},FOR_ME_TEACHER_DIARY:{START:"attendence.for_me_teacher_diary:start",SUCCESS:"attendence.for_me_teacher_diary:success",FAIL:"attendence.for_me_teacher_diary:fail"},GET_DETAILS_BY_ID:{START:"attendence.get_details_by_id:start",SUCCESS:"attendence.get_details_by_id:success",FAIL:"attendence.get_details_by_id:fail"},CLASS_STUDENT_LIST:{START:"attendence.class_student_list:start",SUCCESS:"attendence.class_student_list:success",FAIL:"attendence.class_student_list:fail"},GET_LIBRARY_INFO:{START:"attendence.get_library_info:start",SUCCESS:"attendence.get_library_info:success",FAIL:"attendence.get_library_info:fail"},GET_LIBRARY_INFO_BY_ID:{START:"attendence.get_library_info_by_id:start",SUCCESS:"attendence.get_library_info_by_id:success",FAIL:"attendence.get_library_info_by_id:fail"},POST_LIBRARY:{START:"attendence.post_library:start",SUCCESS:"attendence.post_library:success",FAIL:"attendence.post_library:fail"},PUT_LIBRARY:{START:"attendence.put_library:start",SUCCESS:"attendence.put_library:success",FAIL:"attendence.put_library:fail"},PUT_RETURN_LIBRARY:{START:"attendence.put_return_library:start",SUCCESS:"attendence.put_return_library:success",FAIL:"attendence.put_return_library:fail"},STUDENT_SIDE_DATA:{START:"attendence.student_side_data:start",SUCCESS:"attendence.student_side_data:success",FAIL:"attendence.student_side_data:fail"},SEARCH_BOOK:{START:"attendence.search_book:start",SUCCESS:"attendence.search_book:success",FAIL:"attendence.search_book:fail"},PUT_ACKNOWLEDGEMENT:{START:"attendence.put_acknowledgement:start",SUCCESS:"attendence.put_acknowledgement:success",FAIL:"attendence.put_acknowledgement:fail"},DIARY_PROFILE:{START:"attendence.diary_profile:start",SUCCESS:"attendence.diary_profile:success",FAIL:"attendence.diary_profile:fail"}},zp=function(e,t,a){return{type:ba,subtypes:Pp.GET_ATTENDENCE,onSuccessCallback:t,onFailCallback:a,data:{params:e},promise:function(){return function(e){return ga.get("".concat("/attendances"),{params:e})}(e)}}},Up=function(){return{type:ba,subtypes:Pp.GET_CLASSES,promise:function(){return ga.get("".concat("/classes"))}}},Yp=function(e,t,a){return{type:ba,subtypes:Pp.GET_SINGLE_CLASS,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/classes","/").concat(e))}(e)}}},Hp=function(e,t,a){return{type:ba,subtypes:Pp.GET_WEEK_FILTER_USING_ALL,onSuccessCallback:t,onFailCallback:a,data:{classId:e},promise:function(){return function(e){return ga.get("".concat("/week_all","?class_id=").concat(e))}(e)}}},Wp=function(e,t,a,n){return{type:ba,subtypes:Pp.PUBLISH_WEEKLY_TIME_TABLE,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/week_time_table_publish","?class_id=").concat(t),e)}(e,t)}}},Gp=function(e,t,a,n){return{type:ba,subtypes:Pp.SHOW_DISH_LIST_IN_DISHES,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/lunch","?school_id=").concat(t,"&page=").concat(e))}(e,t)}}},Vp=function(e,t,a,n,r,o){return{type:ba,subtypes:Pp.LUNCH_MENU_SEARCH,onSuccessCallback:r,onFailCallback:o,promise:function(){return function(e,t,a,n){return ga.get("".concat("/lunch_menu_search","/").concat(e,"?school_id=").concat(a,"&class_id=").concat(t),n)}(e,t,a,n)}}},Kp=function(e,t,a){return{type:ba,subtypes:Pp.LUNCH_MENU_GET_BY_WEEK,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/lunch_menu","?get_by=week"),e)}(e)}}},qp=function(e,t,a,n,r){return{type:ba,subtypes:Pp.LUNCH_MENU_ALL,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.get("".concat("/lunch_menu_all","?school_id=").concat(e,"&class_id=").concat(t),a)}(e,t,a)}}},Jp=function(e,t,a){return{type:ba,subtypes:Pp.GET_BY_MONTH,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/holiday","?get_by=month"),e)}(e)}}},Qp=function(e,t,a,n){return{type:ba,subtypes:Pp.GET_MISCELLANEOUS,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/miscellaneous","/").concat(e,"?current_role=").concat(t))}(e,t)}}},Xp=function(e,t,a){return{type:ba,subtypes:Pp.GET_DIARY_MULTIPLE,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/dairy_many","?page=").concat(e))}(e)}}},Zp=function(e,t,a,n){return{type:ba,subtypes:Pp.DIARY_MULTIPLE_SEEN_UNSEEN,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/dairy","/").concat(e,"?current_role=").concat(t))}(e,t)}}},$p=function(e,t,a){return{type:ba,subtypes:Pp.DELETE_DIARY_MULTIPLE,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.remove("".concat("/dairy","/").concat(e))}(e)}}},eg=function(e,t,a,n,r){return{type:ba,subtypes:Pp.GET_DETAILS_BY_ID,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.get("".concat("/dairy","/").concat(e,"?current_role=").concat(t,"&student_id=").concat(a))}(e,t,a)}}},tg=function(e,t,a,n,r,o){return{type:ba,subtypes:Pp.GET_DETAILS_BY_ID,onSuccessCallback:r,onFailCallback:o,promise:function(){return function(e,t,a,n){return console.log("token :>> ",n),ga.get("".concat("/dairy","/").concat(e,"?current_role=").concat(t,"&student_id=").concat(a),{headers:{Authorization:"Bearer ".concat(n)}})}(e,t,a,n)}}},ag=function(e,t,a,n){return{type:ba,subtypes:Pp.CLASS_STUDENT_LIST,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/classStudentList","?class_id=").concat(e,"&username=").concat(t))}(e,t)}}},ng=function(e,t,a,n){return{type:ba,subtypes:Pp.GET_LIBRARY_INFO,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/library","?student_id=").concat(t,"&page=").concat(e))}(e,t)}}},rg=function(e,t,a){return{type:ba,subtypes:Pp.GET_LIBRARY_INFO,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/library","?page=").concat(e))}(e)}}},og=Object(dt.a)((function(e){return{categoryClass:{"& span":{textAlign:"left"}},categorySelect:{textAlign:"left"}}})),cg=Object(i.c)((function(e){var t=e.Attendence,a=t.subjects;return{data:void 0===a?[]:a,loading:t.singleClassLoading}}),{getSingleClass:Yp})((function(e){var t=Object(n.useState)([]),a=Object(S.a)(t,2),o=a[0],c=a[1],i=og(),l=e.loading;Object(n.useEffect)((function(){s()}),[e.class_id]);var s=function(){e.class_id&&e.getSingleClass(e.class_id,d,m)},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.data,n=void 0===a?{}:a,r=n.subject_lists,o=void 0===r?[]:r;if(c(o),o.length){var i=o[0]||{},l=i.subject_data,s=void 0===l?{}:l;e.onChange(s.id)}},m=function(){s()};return r.a.createElement(Gr.a,{labelId:"Categories",id:"demo-simple-select-helper",value:e.value,onChange:function(t){e.onChange&&e.onChange(t.target.value)},className:i.categoryClass,classes:{select:i.categorySelect}},l?r.a.createElement(M.a,{disabled:!0,value:""},"Loading..."):null,l?null:o.map((function(e){var t=e.subject_data,a=void 0===t?{}:t;return r.a.createElement(M.a,{value:a.id},a.name)})))})),ig=Object(dt.a)((function(e){return{categoryClass:{color:"rgba(0, 0, 0, 0.54)","& span":{textAlign:"left"}},categorySelect:{textAlign:"left"}}})),lg=Object(i.c)((function(e){var t=e.Attendence,a=t.classes;return{data:void 0===a?[]:a,loading:t.classesLoading}}),{getClasses:Up})((function(e){var t=e.data,a=void 0===t?[]:t,o=e.loading,c=ig();Object(n.useEffect)((function(){i()}),[]),Object(n.useEffect)((function(){a.length&&!e.value&&e.onChange(a[0].id,a[0])}),[o]);var i=function(){e.getClasses()};return r.a.createElement(Gr.a,{labelId:"Categories",id:"demo-simple-select-helper",value:e.value,onChange:function(t){var n=a.find((function(e){return e.id===t.target.value}));e.onChange&&e.onChange(t.target.value,n)},className:c.categoryClass,classes:{select:c.categorySelect}},o?r.a.createElement(M.a,{disabled:!0,value:""},"Loading..."):null,a.map((function(e){return r.a.createElement(M.a,{value:e.id},e.class_name)})))})),sg=a(547),dg=a.n(sg),mg=a(546),ug=a.n(mg),pg=Object(dt.a)((function(e){return{VerticalAlignTopIcon:{color:"#ababaf"},topButton:{float:"right",padding:"0px 20px 0px 0px"},menuButton:{margin:"5px"},title:{padding:"20px","& h2":{fontSize:"18px"}},content:{paddingTop:0,paddingLeft:20,paddingRight:20,paddingBottom:10},actions:{padding:"20px",paddingTop:"0px"},formControl:{width:"100%",paddingBottom:"20px"}}})),gg=Object(i.c)((function(e){var t=e.Attendence;return{exportLoading:t.exportLoading,importLoading:t.importLoading}}),{exportAttendance:function(e,t,a){return{type:ba,subtypes:Pp.EXPORT_ATTENDANCE,onSuccessCallback:t,onFailCallback:a,promise:function(){return t=e,ga.get("".concat("/attendancesexport"),{params:t});var t}}}})((function(e){var t=Object(n.useState)(!1),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)({}),l=Object(S.a)(i,2),d=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(null),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(null),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=pg(),A=Object(s.g)(),_=function(e){c(!0),m(e)},I=function(){c(!1)},B=function(){_({type:"success",message:"Export Success!"})},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_({message:e.message})};return r.a.createElement("div",{className:T.topButton},r.a.createElement(qe.a,{open:k,onClose:function(){w(!1)},"aria-labelledby":"form-dialog-title",className:T.modelConatiner},r.a.createElement(os.a,{id:"form-dialog-title",className:T.title},"Export Attendance"),r.a.createElement(Qe.a,{className:T.content},r.a.createElement(dr.a,{className:T.formControl},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement($i.a,{id:"from_date",label:"From Date",variant:"dialog",format:"dd/MM/yyyy",value:x,onChange:function(e){E(e)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:T.datePicker,required:!0}))),r.a.createElement(dr.a,{className:T.formControl},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement($i.a,{id:"to_date",label:"To Date",variant:"dialog",format:"dd/MM/yyyy",value:j,onChange:function(e){O(e)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:T.datePicker,required:!0})))),r.a.createElement(Je.a,{className:T.actions},r.a.createElement(z.a,{variant:"contained",onClick:function(){w(!1);var t={from_date:ta()(x).format("YYYY-MM-DD"),to_date:ta()(j).format("YYYY-MM-DD"),class_id:e.class_id};f(!0);var a=ga.getAuthorizationToken();oa()({url:"".concat("/attendancesexport"),method:"GET",params:t,responseType:"blob",headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){f(!1);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","attendance.xlsx"),document.body.appendChild(a),a.click(),B()})).catch((function(){D(),f(!1)}))},color:"primary",disableRipple:!0,disableElevation:!0},"Download"))),r.a.createElement(W.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){A.push("/attendance/upload")},className:T.menuButton},r.a.createElement(ug.a,{className:T.VerticalAlignTopIcon})),r.a.createElement(W.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:w,className:T.menuButton},g?r.a.createElement(kr.a,{size:20}):r.a.createElement(dg.a,{className:T.VerticalAlignTopIcon})),r.a.createElement(ae.a,{open:o,autoHideDuration:5e3,onClose:I},r.a.createElement(ma.a,{onClose:I,severity:d.type||"error"},d.message||"Something went wrong!! Please try again.")))})),fg=Object(dt.a)((function(e){return{topPanelRow:{marginTop:"20px"},panelCol:{width:"100%"},formControl:{margin:e.spacing(1),minWidth:120},topButton:{float:"right",padding:"0px 20px 0px 0px"},menuButton:{margin:"5px"}}})),bg=function(e){var t=fg();return r.a.createElement(en.a,{container:!0,className:t.topPanelRow},r.a.createElement(en.a,{item:!0,xs:12,className:t.panelCol},r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(lg,{onChange:e.setClassId,value:e.class_id})),r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(cg,{value:e.subject_id,onChange:e.setSubjectId,class_id:e.class_id})),r.a.createElement(gg,e)))},hg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],a=Object.keys(e);return a.length&&a.map((function(a){var n={},r=e[a],o=Object.keys(r),c=[];o.length&&(n=Object(N.a)({},r[0]),o.map((function(e){var t=r[e].attendance_date,a=yo(t);c.push(Object(N.a)(Object(N.a)({},r[e]),a))})),n.dates=c),t.push(n)})),t},xg=function(){return r.a.createElement("div",{className:"tableBottom"},r.a.createElement("div",{className:"stateRow"},r.a.createElement(Ke.a,{className:"presentStatus"}),r.a.createElement("p",{className:"rollStatus"},"Present")),r.a.createElement("div",{className:"stateRow"},r.a.createElement(Ke.a,{className:"absentStatus"}),r.a.createElement("p",{className:"rollStatus"},"Absent")),r.a.createElement("div",{className:"stateRow"},r.a.createElement(Ke.a,{className:"holidayStatus"}),r.a.createElement("p",{className:"rollStatus"},"Holiday")))},Eg=Object(dt.a)((function(e){var t;return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",display:"flex",flexDirection:"column"},content:{flexGrow:"1",display:"flex",flexDirection:"column",minHeight:"0",padding:"0 20px 20px 20px"},panel:{flexGrow:"1",overflow:"auto",minHeight:"100%",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},marginTop:{marginTop:"20px"},middlePanelRow:{marginTop:"20px",backgroundColor:"#e6e6e6",borderRadius:"10px",display:"block"},table:{minWidth:700},tableTitle:(t={backgroundColor:"white !important",color:"var(--unnamed-color-1c1c1e)",textAlign:"center",font:"normal normal normal 14px/21px Avenir",letterSpacing:"-0.22px"},Object(C.a)(t,"color","#1C1C1E !important"),Object(C.a)(t,"opacity","1"),t),tableNameColumn:{textAlign:"center",font:"normal normal normal 12px/16px Avenir",letterSpacing:"0px",color:"#808082",opacity:"1"},tableNoColumn:{textAlign:"center",font:"normal normal normal 12px/16px Avenir",letterSpacing:"0px",color:"#808082",opacity:"1"},emptyData:{padding:"50px 20px"},loadingView:{height:"150px"},loader:{position:"absolute",left:"30px",right:"50px",display:"flex",justifyContent:"center",alignItems:"center",height:"150px"},dot:{cursor:"pointer"}}})),vg=Object(Jt.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Ed.a),yg=Object(Jt.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(jd.a),jg=Object(i.c)((function(e){var t=e.auth,a=e.Attendence,n=a.classesLoading,r=a.attendenceLoading,o=a.singleClassLoading;return{selectedRole:t.selectedRole,loading:r||n||o}}),{getAttendence:zp,updateAddendance:function(e,t,a,n){return{type:ba,subtypes:Pp.UPDATE_ATTENDANCE,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/attendances","/").concat(t),e)}(e,t)}}}})((function(e){var t=["JAN","FEB","MAR","APR","MAY","JUNE","JULY","AUG","SEP","OCT","NOV","DEC"],a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(Oo),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(xo),j=Object(S.a)(y,2),O=(j[0],j[1]),k=Object(n.useState)(""),w=Object(S.a)(k,2),T=(w[0],w[1]),A=Object(n.useState)(vo),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)({}),R=Object(S.a)(D,2),L=R[0],F=R[1],M=Object(n.useState)(!1),P=Object(S.a)(M,2),z=P[0],U=P[1],Y=Object(n.useState)(!1),H=Object(S.a)(Y,2),W=H[0],G=H[1],V=Object(n.useState)(!1),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)(""),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)(""),te=Object(S.a)(ee,2),ae=te[0],ne=te[1],re=e.loading,oe=Eg(),ce=ta()(E).format("YYYY-MM-DD"),ie=ta()(ko(E)).format("YYYY-MM-DD");Object(n.useEffect)((function(){d&&f&&se()}),[d,f,E]);var le=function(e){var a=e.split("-");console.log(a);var n=t[a[1]-1]+"'"+a[0].slice(2,4);console.log(n),B(n)},se=function(){var t={class_id:d,subject_id:f,current_role:e.selectedRole,from_date:ce,to_date:ie};e.getAttendence(t,de,me)},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,a=void 0===t?{}:t,n=hg(a);i(n)},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T(e.message)},ue=To(E),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=ue.map((function(e){return e.date})),a=t.map((function(e){return{attendance_date:e}}));return e.length&&e.map((function(e){var n=t.indexOf(e.attendance_date);-1!==n&&a.splice(n,1,e)})),a},ge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="".concat(a).concat(n);U(r),F(Object(N.a)(Object(N.a)({},L),{},Object(C.a)({},r,!1)));var o={present:"absent",absent:"holiday",holiday:"present"},c={user_id:t.user_id,class_id:t.class_id,attendance_date:t.attendance_date,subject_id:f,status:o[t.status]||"absent",current_role:e.selectedRole};e.updateAddendance(c,t.id,(function(e){return fe(e,a)}),(function(e){return be(e,r)}))},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.data,n=void 0===a?{}:a;U(!1),Ee(n,t)},be=function(){var e=arguments.length>1?arguments[1]:void 0;F(Object(N.a)(Object(N.a)({},L),{},Object(C.a)({},e,"Update Error"))),U(!1),$("error"),ne("You're not allowed to update past attendance"),J(!0)},he=function(e,t){return!1!==z&&"".concat(e).concat(t)===z},xe=function(e,t){var a="".concat(e).concat(t);return L[a]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(Na.a)(c),n=a[t].dates||[];n.map((function(t){t.attendance_date===e.attendance_date&&(t.status=e.status)})),a[t].dates=n,i(a)};return r.a.createElement("div",{className:oe.container},r.a.createElement(en.a,{container:!0,className:oe.content},r.a.createElement(en.a,{item:!0,sm:12,className:oe.panel},r.a.createElement(bg,{class_id:d,setClassId:function(e){u(e),b("")},subject_id:f,setSubjectId:b,from_date:ce,to_date:ie}),r.a.createElement(vd.a,{component:Od.a},r.a.createElement(Mp,{onNext:function(){if(ta()(E).format("YYYY-MM-DD")!==ta()(Oo).format("YYYY-MM-DD")){var e=Co(E);v(e),O(ho(e)),le(ho(e)),ta()(e).format("YYYY-MM-DD")===ta()(Oo).format("YYYY-MM-DD")&&G(!1)}else G(!1)},onPrevious:function(){var e=No(E);v(e),O(ho(e)),le(ho(e)),G(!0)},isnext:W,selectedMonth:I}),r.a.createElement(hd.a,{"aria-label":"customized table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,{className:"tableRowHeader"},r.a.createElement(vg,{className:oe.tableTitle},"Roll No"),r.a.createElement(vg,{className:oe.tableTitle,align:"center"},"Name"),ue.map((function(e){return r.a.createElement(vg,{className:oe.tableTitle,align:"center"},r.a.createElement("p",null,e.day.date_day),r.a.createElement("span",null,"(",e.day.day_sort,")"))})))),re?r.a.createElement("div",{className:oe.loadingView},r.a.createElement("div",{className:oe.loader},r.a.createElement(kr.a,{center:!0,alignCenter:!0}))):r.a.createElement(xd.a,null,c.length?c.map((function(e,t){return r.a.createElement(yg,{key:t,className:"statusTable"},r.a.createElement(vg,{className:oe.tableNoColumn},e.roll_no),r.a.createElement(vg,{component:"th",scope:"row",className:oe.tableNameColumn},"".concat(e.firsname," ").concat(e.lastname)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.dates,n=void 0===a?[]:a,o=pe(n),c={class_id:e.class_id,roll_no:e.roll_no,user_id:e.user_id};return o.map((function(e,a){var n=_o(e.attendance_date),o=he(t,a),i=xe(t,a);return r.a.createElement(Lp,{loading:o,error:i,className:oe.dot,onClick:function(){return ge(Object(N.a)(Object(N.a)({},c),e),t,a)},status:n?"":e.status})}))}(e,t))})):r.a.createElement("div",{className:oe.loadingView},r.a.createElement("div",{className:oe.loader},r.a.createElement(m.a,null,"Attendance Data Not Available"))))),r.a.createElement(xg,null)))),r.a.createElement(ci,{openSnackbar:q,onOpenSnackBar:J,status:Z,msg:ae}))})),Og=a(548),Sg=a.n(Og),Cg=a(549),Ng=a.n(Cg),kg=Object(dt.a)((function(e){return{summaryHerderTitle:{display:"flex"},summaryIcon:{color:"rgb(142 142 147)"},summaryTitle:{textAlign:"left",font:"normal normal 900 15px Avenir",letterSpacing:"0px",color:"#2C2C2E",padding:"3px 0px 0px 3px"},summaryContent:{marginTop:"10px",borderRadius:"10px",padding:"10px",marginBottom:"30px"},contentRow:{display:"flex",padding:"20px 10px 0px 10px"},dayNum:{background:"rgb(123 114 175 / 0.2) 0% 0% no-repeat padding-box;",borderRadius:"4px",padding:"1px 6px",width:"fit-content",fontSize:"14px",letterSpacing:"0px",color:"#2C2C2E",margin:"0px 20px 0px 10px"},summaryMainContent:{textAlign:"left",font:"normal normal 300 14px/24px Avenir",letterSpacing:"0px",color:"#1C1C1E"},loaderView:{justifyContent:"center",alignItems:"center",display:"flex",padding:"30px"}}})),wg=function(e){var t=e.data,a=void 0===t?{}:t,n=e.loading,o=a.percentageData,c=void 0===o?[]:o,i=kg();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.summaryHerderTitle},r.a.createElement("img",{src:Ng.a,alt:"Menu",width:"24",height:"24"}),r.a.createElement(m.a,{className:i.summaryTitle},"SUMMARY")),r.a.createElement(Od.a,{className:i.summaryContent},n?r.a.createElement("div",{className:i.loaderView},r.a.createElement(kr.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.contentRow},r.a.createElement(m.a,null,"Total Class Days"),r.a.createElement(m.a,{className:i.dayNum},a.allClasses),r.a.createElement(m.a,null,"Holidays"),r.a.createElement(m.a,{className:i.dayNum},a.holiday),r.a.createElement(m.a,null,"Days Attended"),r.a.createElement(m.a,{className:i.dayNum},a.present),r.a.createElement(m.a,null,"Days Absent"),r.a.createElement(m.a,{className:i.dayNum},a.absent)),r.a.createElement("div",{className:i.contentRow},r.a.createElement(m.a,{className:i.summaryMainContent},c.map((function(e){return r.a.createElement("span",null,e.subject," -"," ",r.a.createElement("b",null,e.percentage?Number(e.percentage).toFixed(2):0,"%"),","," ")})))))))},Tg=Object(dt.a)((function(e){return{expandMore:{color:"black",cursor:"pointer"},tableHeadermid:{width:"100%"},tableHeaderBtn:{cursor:"pointer"},span:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},downArrow:{textTransform:"none"},cont:{display:"flex",justifyContent:"center",alignItems:"center"}}})),Ag={week:"Weekly",month:"Monthly"},_g=function(e){var t=r.a.useState(null),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Tg(),l=e.selected;Object(n.useEffect)((function(){e.onSelect("week")}),[]);var s=function(e){c(e.currentTarget)},d=function(){c(null)};return r.a.createElement("div",{className:i.tableHeadermid},r.a.createElement("div",{className:i.cont},r.a.createElement(m.a,null,r.a.createElement("span",{onClick:s,className:i.span},Ag[l],r.a.createElement(J.a,{onClick:s,className:i.expandMore,fontSize:"small"})))),r.a.createElement(F.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:d},Object.keys(Ag).map((function(t){return r.a.createElement(M.a,{onClick:function(){return function(t){d(),e.onSelect(t)}(t)}},Ag[t])}))))},Ig=Object(dt.a)((function(e){var t;return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",display:"flex",flexDirection:"column"},content:{flexGrow:"1",display:"flex",flexDirection:"column",minHeight:"0",padding:"0 20px 20px 20px"},panel:{flexGrow:"1",overflow:"auto",minHeight:"100%",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},topPanelRow:{marginTop:"20px"},panelCol:{width:"100%"},summaryTitle:{textAlign:"left",font:"normal normal 900 15px Avenir",letterSpacing:"0px",color:"#2C2C2E",padding:"3px 0px 0px 3px"},contentTitle:{display:"flex",marginTop:"20px"},mainContent:{borderRadius:"10px",marginTop:"10px"},tableHeader:{backgroundColor:"#E8E8E8",display:"flex"},tableHeaderBtn:{padding:"10px 20px"},tableHeadermid:{width:"100%"},tableRowHeader:{backgroundColor:"white"},tableTitle:(t={backgroundColor:"white !important",color:"var(--unnamed-color-1c1c1e)",font:"normal normal 300 14px/19px Avenir",letterSpacing:"0px"},Object(C.a)(t,"color","#1C1C1E !important"),Object(C.a)(t,"opacity","1"),t),loadingView:{height:"150px"},loader:{position:"absolute",left:"30px",right:"50px",display:"flex",justifyContent:"center",alignItems:"center",height:"150px"}}})),Bg=Object(Jt.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Ed.a),Dg=Object(Jt.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(jd.a),Rg=Object(i.c)((function(e){var t=e.auth;e.Attendence.attendenceLoading;return{selectedRole:t.selectedRole}}),{getAttendence:zp,getSingleClass:Yp})((function(e){var t=Object(n.useState)(""),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)({}),l=Object(S.a)(i,2),s=l[0],d=l[1],u=Object(n.useState)([]),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(Oo),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(So),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)([]),k=Object(S.a)(C,2),w=k[0],T=k[1],A=Object(n.useState)(!1),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(""),R=Object(S.a)(D,2),L=(R[0],R[1]),F=Object(n.useState)(xo),M=Object(S.a)(F,2),P=M[0],z=M[1],U=Object(n.useState)(""),Y=Object(S.a)(U,2),H=Y[0],W=Y[1],G=Object(n.useState)({}),V=Object(S.a)(G,2),K=V[0],q=V[1],J=Object(n.useState)(!1),Q=Object(S.a)(J,2),X=Q[0],Z=Q[1];Object(n.useEffect)((function(){o&&$(o)}),[j,x]);var $=function(t){if(!I){var a="month"===t?j:x,n="month"===t?function(e){var t=ta()(ho(e)).daysInMonth();return ta()(e).add(t-1,"days")}(j):ko(x),r=ta()(a).format("YYYY-MM-DD"),o=ta()(n).format("YYYY-MM-DD");B(!0),console.log({get_by:t,from_date:r,to_date:o}),e.getAttendence({get_by:t,from_date:r,to_date:o},(function(e){return te(e,t)}),ae)}},ee=function(e){c(e),z(ho("month"===e?j:x)),e!==o&&$(e)},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.data,n=void 0===a?{}:a,r=n.attendance,o=void 0===r?{}:r;if(d(n),o.length){var c=o[0]||{};W(c),ne(c.class_id,o,t)}else B(!1)},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(!1),L(e.message)},ne=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;g.length?oe(g,a,K,n):e.getSingleClass(t,(function(e){return re(e,a,n)}),null)},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=e.data,r=void 0===n?{}:n,o=r.subject_lists,c=void 0===o?[]:o,i=[],l={};c.map((function(e){var t=e.subject_data,a=void 0===t?{}:t;i.push(Object(N.a)(Object(N.a)({},a),{},{subject_id:a.id,subject_name:a.name})),l[a.id]=a.name,q(l)})),f(i),oe(i,t,l,a)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"week",r=[];(r="month"===n?Ao()||[]:To(x)||[]).map((function(n,o){var c={};e.map((function(e){c[e.name||e.id]={}})),t.map((function(e){if(n.date===e.attendance_date){var t=a[Number(e.subject_id)];c[t]=Object(N.a)(Object(N.a)({},e),{},{user:void 0})}})),r[o]=Object(N.a)(Object(N.a)({},n),{},{subjectAttendance:c})})),T(r),B(!1)},ce=Ig();return r.a.createElement("div",{className:ce.container},r.a.createElement(en.a,{container:!0,className:ce.content},r.a.createElement(en.a,{item:!0,sm:12,className:ce.panel},r.a.createElement(en.a,{container:!0,className:ce.topPanelRow},r.a.createElement(en.a,{item:!0,xs:12,className:ce.panelCol},r.a.createElement(wg,{data:s,loading:I}),r.a.createElement("div",{className:ce.contentTitle},r.a.createElement("img",{src:Sg.a,alt:"Menu",width:"24",height:"24"}),r.a.createElement(m.a,{className:ce.summaryTitle},"LOGS")),r.a.createElement(vd.a,{className:ce.mainContent,component:Od.a},r.a.createElement(Mp,{isnext:X,renderFilter:r.a.createElement(_g,{selected:o,onSelect:ee}),onNext:function(){var e;if(!I)if("month"===o){if(ta()(j).format("YYYY-MM-DD")===ta()(So).format("YYYY-MM-DD"))return;var t=(e=j,ta()(e).add(1,"months"));O(t),z(ho(t)),ta()(t).format("YYYY-MM-DD")===ta()(So).format("YYYY-MM-DD")&&Z(!1)}else{if(ta()(x).format("YYYY-MM-DD")===ta()(Oo).format("YYYY-MM-DD"))return;var a=Co(x);E(a),z(ho(a)),ta()(a).format("YYYY-MM-DD")===ta()(Oo).format("YYYY-MM-DD")&&Z(!1)}},onPrevious:function(){var e;if(Z(!0),!I)if("month"===o){var t=(e=j,ta()(e).add(-1,"months"));O(t),z(ho(t))}else{var a=No(x);E(a),z(ho(a))}}}),r.a.createElement(vd.a,null,r.a.createElement(hd.a,{stickyHeader:!0,"aria-label":"customized table"},g.length?r.a.createElement(yd.a,null,r.a.createElement(jd.a,{className:ce.tableRowHeader},r.a.createElement(Bg,{className:ce.tableTitle},"Month - ",P),g.map((function(e){return r.a.createElement(Bg,{className:ce.tableTitle,align:"center"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.length<=4)return e;var t=e.split(" ");if(1===t.length)return"".concat(e.slice(0,4),".");var a="";return t.map((function(e,n){var r=n+1===t.length;a=r?"".concat(a," ").concat(e.slice(0,3),"."):"".concat(a," ").concat(e[0],".")})),a}(e.name)||e.id)})))):null,I?r.a.createElement("div",{className:ce.loadingView},r.a.createElement("div",{className:ce.loader},r.a.createElement(kr.a,{center:!0,alignCenter:!0}))):r.a.createElement(xd.a,null,w.length?w.map((function(e,t){var a=e.day,n=void 0===a?{}:a;return r.a.createElement(Dg,{key:t,className:"statusTable"},r.a.createElement(Bg,{className:ce.tableNoColumn},n.date_day),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return t.map((function(t){var a=e[t]||{};return r.a.createElement(Lp,{status:a.status})}))}(e.subjectAttendance||{}))})):r.a.createElement("div",{className:ce.loadingView},r.a.createElement("div",{className:ce.loader},r.a.createElement(m.a,null,"Attendance Data Not Available")))))),r.a.createElement(xg,null)))))))})),Lg=Object(dt.a)((function(e){return{attendanceRoot:{height:"100%"}}})),Fg=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Lg(),a=e.selectedRole;return r.a.createElement("div",{className:t.attendanceRoot},("teacher"===a||"admin"===a)&&r.a.createElement(jg,null),("parent"===a||"student"===a)&&r.a.createElement(Rg,null))})),Mg=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"createPlanning",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/planning?class_id=").concat(t),{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getPlanning",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/planning?class_id=").concat(t,"&select_by=").concat(a),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getPlanningID",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/planning/").concat(t),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getPlanningBySubject",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/planning?subject_id=")+t,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getPlanningByParams",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/planning?class_id=")+t+"&subject_id="+a,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getPlanningByClass",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/planning?class_id=")+t,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"get_by",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/planning?class_id=").concat(t,"&get_by=").concat(a),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"get_by_search",value:function(e,t,a,n){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/planning/search/").concat(t,"?class_id=").concat(a,"&get_select=").concat(n),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getSubjects",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/subjects"),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchClasses",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/classes"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"savePlanning",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/planning/").concat(t),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"deletePlanning",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/planning/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),Pg=a(550),zg=a.n(Pg),Ug=a(289),Yg=a.n(Ug),Hg=Object(I.a)((function(){return{tableCell:{borderLeft:"1px solid rgba(224, 224, 224, 1)"},subjectName:{fontSize:"14px",fontFamily:"Avenir Heavy"},title:{fontSize:"14px",fontFamily:"Avenir Heavy"},chapters:{"white-space":"pre-wrap",fontSize:"14px",fontFamily:"Avenir Book"},div:{float:"right"},grid:{paddingBottom:20},button:{width:"70%"}}})),Wg=function(e){var t=Hg(),a=Object(s.g)(),o=e.planningDetails,c=e.title,i=e.get_by,l=e.menuSelected,d=Object(n.useState)(!1),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(null),b=Object(S.a)(f,2),h=b[0],x=b[1],E=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=localStorage.getItem("srmToken"),t.next=4,Mg.deletePlanning(n,h);case 4:200===t.sent.status&&console.log("deleted"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:a.push({pathname:"/planning",state:{classListUi:!0,classID:e.class_id,classDetail:e.class_detail}});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),v=function(){g(!1)},y=function(){E(h),g(!1)},j=o.map((function(n,o){return r.a.createElement(jd.a,{key:o},r.a.createElement(Ed.a,{align:"left",width:"65%",className:t.tableCell},r.a.createElement(m.a,{variant:"h6",component:"h2",className:t.title,gutterBottom:!0},"subject"===i?n.month.name+" - "+n.term_plan.name:null,"term"===i||"month"===i?n.subject_planning_classes.name:null),r.a.createElement(m.a,{variant:"subtitle1",className:t.chapters,gutterBottom:!0},n.chapters)),r.a.createElement(Ed.a,{align:"left",width:"20%"},r.a.createElement("div",{className:t.div},r.a.createElement(W.a,{"aria-label":"edit",onClick:function(t){a.push({pathname:"/create-planning/".concat(n.id),state:{class_id:e.class_id,class_detail:e.class_detail,get_by:i,menuSelected:l}})}},r.a.createElement(zg.a,{color:"primary"})),r.a.createElement(W.a,{"aria-label":"delete",onClick:function(e){x(n.id),g(!0)}},r.a.createElement(Yg.a,{color:"primary"})))))}));return o.length>0?r.a.createElement(vd.a,null,r.a.createElement(qe.a,{open:p,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(os.a,{id:"alert-dialog-title"},"Are you sure you want to delete?"),r.a.createElement(Je.a,null,r.a.createElement(z.a,{onClick:v,color:"primary",autoFocus:!0},"NO"),r.a.createElement(z.a,{onClick:y,color:"primary",disableElevation:!0,disableRipple:!0},"YES"))),r.a.createElement(hd.a,{"aria-label":"spanning table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{align:"center",width:"100%",colSpan:2,className:t.tableCell},r.a.createElement(m.a,{variant:"subtitle1",className:t.subjectName},c)))),r.a.createElement(xd.a,null,j))):r.a.createElement("div",null,r.a.createElement(hd.a,{"aria-label":"spanning table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{align:"center",width:"100%",className:t.tableCell},r.a.createElement(m.a,{variant:"subtitle1",className:t.subjectName},c)))),r.a.createElement(xd.a,null,r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{align:"left",width:"65%",className:t.tableCell},r.a.createElement(m.a,{variant:"subtitle1",className:t.chapters,gutterBottom:!0},"No Chapters"))))))},Gg=Object(dt.a)((function(e){return{categoryClass:{minWidth:"200px","& span":{textAlign:"left"}},categorySelect:{textAlign:"left"}}})),Vg=function(e){var t=e.data,a=e.loading,n=Gg();return r.a.createElement(Gr.a,{labelId:"item",id:"demo-simple-select-helper",value:e.value,onChange:function(t){e.onChange(t.target.value)},className:n.categoryClass,classes:{select:n.categorySelect}},r.a.createElement(M.a,{value:e.initialValue,disabled:e.makeDisable},e.initialValue),a?r.a.createElement(M.a,{disabled:!0,value:""},"Loading..."):null,a?null:t.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)})))},Kg=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",overflowY:"auto",padding:"20px",marginBottom:"50px",boxSizing:"border-box"},subjectTitle:{marginBottom:"20px"},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},background:{background:"#fff",borderRadius:"5px",marginTop:10,marginBottom:10},select:{width:"50%"},header:{display:"inline block"},backImg:{float:"left",transform:"translate(0px, 4px)",cursor:"pointer"},header_title:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},addNew:{color:e.palette.common.deluge,float:"right",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"0px 5px",fontWeight:500},"& img":{height:"20px",cursor:"pointer"}},radioContainer:{width:"50%","& label":{marginLeft:"0px"},"& .MuiSvgIcon-root":{fontSize:"1.3rem"},"& span":{fontSize:"0.8rem"}},radio:{padding:"0px",margin:"10px 10px 10px 0px","&:hover":{backgroundColor:"transparent"},"& span":{color:"#7b72af"}},option:{display:"flex",width:"100%",paddingTop:"20px",paddingBottom:"10px",overflowX:"hidden"},menu:{width:"50%"}}})),qg=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=Kg(),a=e.back,o=Object(s.g)(),c=e.selectedRole,i=Object(n.useState)(!1),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(!0),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(void 0!==a?a.get_by:"subject"),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)([]),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(!1),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(void 0!==a?a.menuSelected:"All"),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(null),R=Object(S.a)(D,2),L=R[0],F=R[1],M=localStorage.getItem("srmToken"),P=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),F(null),e.prev=2,"All"!==I){e.next=10;break}return e.next=6,Mg.getPlanning(M,t,E);case 6:200===(a=e.sent).status&&F(a.data.data.planning),e.next=14;break;case 10:return e.next=12,Mg.get_by_search(M,I,t,E);case 12:200===(n=e.sent).status&&F(n.data.data.planning);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:b(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),t.next=4,Mg.createPlanning(a,e.classID);case 4:n=t.sent,o.push({pathname:"/create-planning/".concat(n.data.data.id),state:{class_id:e.classID,class_detail:e.classDetail,get_by:E,menuSelected:I}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mg.get_by(M,e.classID,E);case 3:200===(a=t.sent).status&&(n=a.data.data,C(n)),b(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r,o;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,B("All"),v(n),T(!0),t.prev=4,t.next=7,Mg.get_by(M,e.classID,n);case 7:200===(r=t.sent).status&&(o=r.data.data,C(o)),b(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:T(!1);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B(a),F(null),b(!0),"All"!==a){t.next=16;break}return t.prev=4,t.next=7,Mg.getPlanning(M,e.classID,E);case 7:200===(n=t.sent).status&&F(n.data.data.planning),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:t.next=26;break;case 16:return t.prev=16,t.next=19,Mg.get_by_search(M,a,e.classID,E);case 19:200===(r=t.sent).status&&F(r.data.data.planning),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(16),console.log(t.t1);case 26:b(!1);case 27:case"end":return t.stop()}}),t,null,[[4,11],[16,23]])})));return function(e){return t.apply(this,arguments)}}(),W=0==f&&null!==L?Object.entries(L).map((function(a,n){var o=Object(S.a)(a,2),c=o[0],i=o[1];return r.a.createElement("div",{className:t.background,key:"".concat(e.classID).concat(n)},r.a.createElement(Wg,{class_id:e.classID,class_detail:e.classDetail,key:"".concat(e.classID).concat(n),planningDetails:i,title:c,get_by:E,menuSelected:I}))})):null;Object(n.useEffect)((function(){P(e.classID),d||(U(),u(!0))}),[E]);var G=function(e){return r.a.createElement(Sp.a,Object.assign({disableRipple:!0,disableTouchRipple:!0,className:t.radio},e))};return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},r.a.createElement(m.a,{className:t.header_title},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(e){o.push("/planning")}}),e.classDetail," : Term Plan","teacher"===c||"admin"===c?r.a.createElement("div",{className:t.addNew,onClick:z},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New")):""))),r.a.createElement("div",{className:t.option},r.a.createElement(jp.a,{row:!0,className:t.radioContainer,value:E,onChange:Y},r.a.createElement(Op.a,{value:"subject",control:r.a.createElement(G,null),label:"By Subject"}),r.a.createElement(Op.a,{value:"term",control:r.a.createElement(G,null),label:"By Term"}),r.a.createElement(Op.a,{value:"month",control:r.a.createElement(G,null),label:"By Month"})),r.a.createElement(dr.a,{className:t.menu},r.a.createElement(Vg,{data:O,loading:w,onChange:H,makeDisable:!1,initialValue:"All",value:I}))),r.a.createElement("div",{style:{display:"grid"}},f?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):null,W))})),Jg=Object(dt.a)((function(e){return{loder:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},background:"lightgrey",height:"100%"},container:{display:"table-cell",textAlign:"center",verticalAlign:"middle"},grid:{display:"table",height:"80vh",width:"100%",margin:"auto"},formControl:{margin:e.spacing(1),minWidth:"50%"},CircularProgress:{position:"absolute",left:"50%",top:"50%",zIndex:"1"}}})),Qg=function(e){var t=Jg(),a=localStorage.getItem("srmToken"),o=Object(n.useState)(null),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(!0),d=Object(S.a)(s,2),m=d[0],u=d[1],p=Object(n.useState)(void 0!==e.back&&e.back.classListUi),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(void 0!==e.back?e.back.classID:null),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(void 0!==e.back?e.back.classDetail:null),j=Object(S.a)(y,2),O=j[0],C=j[1],N=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mg.fetchClasses(a);case 2:200===(n=e.sent).status&&(r=n.data.data,l(r),u(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(e){N()}),[]);return r.a.createElement(r.a.Fragment,null,!0===m?r.a.createElement("div",{className:t.loder},r.a.createElement(kr.a,{color:"primary",thickness:5,className:t.CircularProgress})):r.a.createElement("div",null,!1===f?r.a.createElement("div",{className:t.grid},r.a.createElement("div",{item:!0,className:t.container},r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(Wr.a,{htmlFor:"grouped-select"},"Class"),r.a.createElement(Gr.a,{defaultValue:"",id:"grouped-select",className:t.root},r.a.createElement(M.a,{value:""},"Class"),null!=i?Object.keys(i).map((function(e,t){return r.a.createElement(M.a,{key:t,name:i[e].class_name,value:i[e].class_name,onClick:function(t){return function(e,t){e.preventDefault(),v(t.id),b(!0),C(t.class_name)}(t,i[e])}},i[e].class_name)})):null)))):r.a.createElement(qg,{classID:E,classDetail:O,back:e.back})))},Xg=Object(I.a)((function(){return{tableCell:{borderLeft:"1px solid rgba(224, 224, 224, 1)"},title:{fontSize:"0.9rem",fontWeight:"bold"},typography:{"white-space":"pre-wrap"},div:{display:"flex",alignItems:"center"},grid:{paddingBottom:20},button:{width:"70%"}}})),Zg=function(e){var t=Xg(),a=e.planningDetails,n=e.title,o=e.get_by,c=a.map((function(e,a){return r.a.createElement(jd.a,{key:a},r.a.createElement(Ed.a,{align:"left",width:"65%",className:t.tableCell},r.a.createElement(m.a,{variant:"h6",component:"h2",className:t.title,gutterBottom:!0},"subject"===o?e.month.name+" - "+e.term_plan.name:null,"term"===o||"month"===o?e.subject_planning_classes.name:null),r.a.createElement(m.a,{variant:"subtitle1",className:t.typography,gutterBottom:!0},e.chapters)))}));return a.length>0?r.a.createElement(vd.a,null,r.a.createElement(hd.a,{"aria-label":"spanning table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{align:"center",width:"100%",colSpan:2,className:t.tableCell},r.a.createElement(m.a,{variant:"subtitle1"},r.a.createElement("b",null,n))))),r.a.createElement(xd.a,null,c))):r.a.createElement("div",null,r.a.createElement(hd.a,{"aria-label":"spanning table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{align:"center",width:"100%",className:t.tableCell},r.a.createElement(m.a,{variant:"subtitle1"},r.a.createElement("b",null,n))))),r.a.createElement(xd.a,null,r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{align:"left",width:"65%",className:t.tableCell},r.a.createElement(m.a,{variant:"subtitle1",className:t.typography,gutterBottom:!0},"No Chapters"))))))},$g=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",padding:"20px",overflowY:"auto",marginBottom:"50px",boxSizing:"border-box"},subjectTitle:{marginBottom:"20px"},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},background:{background:"#fff",borderRadius:"5px",marginTop:10,marginBottom:10},select:{width:"50%"},header:{display:"inline block"},backImg:{float:"left",transform:"translate(0px, 4px)",cursor:"pointer"},header_title:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},addNew:{color:e.palette.common.deluge,float:"right",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"0px 5px",fontWeight:500},"& img":{height:"20px",cursor:"pointer"}},radioContainer:{width:"50%","& label":{marginLeft:"0px"},"& .MuiSvgIcon-root":{fontSize:"1.3rem"},"& span":{fontSize:"0.8rem"}},radio:{padding:"0px",margin:"10px 10px 10px 0px","&:hover":{backgroundColor:"transparent"},"& span":{color:"#7b72af"}},option:{display:"flex",width:"100%",paddingTop:"20px",paddingBottom:"10px",overflowX:"hidden"},menu:{width:"50%"}}})),ef=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){Object(s.g)();var t=$g(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!0),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(""),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)("Class"),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)("subject"),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)([]),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(!1),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)("All"),L=Object(S.a)(R,2),F=L[0],M=L[1],P=Object(n.useState)(null),z=Object(S.a)(P,2),U=z[0],Y=z[1],H=localStorage.getItem("srmToken");"parent"===e.selectedRole&&(H=localStorage.getItem("srmSelected_Child_token"));var W=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),Y(null),e.prev=2,e.next=5,Mg.getPlanning(H,t,C);case 5:200===(a=e.sent).status&&Y(a.data.data.planning),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:p(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mg.get_by(H,t,"subject");case 3:200===(a=e.sent).status&&(n=a.data.data,A(n),M("All")),p(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,N(a),D(!0),e.prev=3,e.next=6,Mg.get_by(H,b,a);case 6:200===(n=e.sent).status&&(r=n.data.data,A(r),M("All")),p(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:D(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(t),Y(null),p(!0),"All"!==t){e.next=16;break}return e.prev=4,e.next=7,Mg.getPlanning(H,b,C);case 7:200===(a=e.sent).status&&(console.log(a),Y(a.data.data.planning)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:e.next=26;break;case 16:return e.prev=16,e.next=19,Mg.get_by_search(H,t,b,C);case 19:200===(n=e.sent).status&&(console.log(n),Y(n.data.data.planning)),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),console.log(e.t1);case 26:p(!1);case 27:case"end":return e.stop()}}),e,null,[[4,11],[16,23]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mg.fetchClasses(H);case 3:200===(t=e.sent).status&&"success"==t.data.status&&(a=t.data.data[0],h(a.id),y(a.class_name),G(a.id)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){null!==b&&""!==b&&void 0!==b&&W(b),c||(""!==b&&null!==b||q(),i(!0))}),[b,C]);var J=function(e){return r.a.createElement(Sp.a,Object.assign({className:t.radio},e))},Q=0==u&&null!==U?Object.entries(U).map((function(e,a){var n=Object(S.a)(e,2),o=n[0],c=n[1];return r.a.createElement("div",{className:t.background,key:"".concat(b).concat(a)},r.a.createElement(Zg,{class_id:b,key:"".concat(b).concat(a),planningDetails:c,title:o,get_by:C}))})):null;return r.a.createElement("div",null,r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},r.a.createElement(m.a,{className:t.header_title},v,": Term Plan"))),r.a.createElement("div",{className:t.option},r.a.createElement(jp.a,{row:!0,className:t.radioContainer,value:C,onChange:V},r.a.createElement(Op.a,{value:"subject",control:r.a.createElement(J,null),label:"By Subject"}),r.a.createElement(Op.a,{value:"term",control:r.a.createElement(J,null),label:"By Term"}),r.a.createElement(Op.a,{value:"month",control:r.a.createElement(J,null),label:"By Month"})),r.a.createElement(dr.a,{className:t.menu},r.a.createElement(Vg,{data:T,loading:B,onChange:K,makeDisable:!1,initialValue:"All",value:F}))),r.a.createElement("div",{style:{display:"grid"}},u?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):null,Q)))})),tf=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflowY:"auto"},subjectTitle:{marginBottom:"20px"},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},fieldStyle:{width:"100%",marginBottom:"30px","& .MuiInputBase-root":{color:"rgba(0, 0, 0, 0.54)"}},inputBorder:{height:"50px"},div:{margin:20,background:"#fff",padding:20},select:{width:"100%"},width:{width:"100%"},button:{marginRight:20},saveBtn:{width:"100%","& Button":{textTransform:"none",marginLeft:"calc(100% - 66px)"}},header:{paddingRight:"20px",paddingLeft:"20px",marginTop:"5px",paddingTop:"10px",display:"inline block"},backImg:{float:"left",transform:"translate(0px, 4px)",cursor:"pointer"},header_title:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},style:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},CircularProgress:{position:"absolute",left:"50%",top:"50%",zIndex:"1"}}})),af=function(){var e=Object(s.h)(),t=(new URLSearchParams(e.search),e.state.class_id),a=e.state.class_detail,o=Object(s.i)(),c=Object(s.g)(),i=tf(),l=Object(n.useState)(!0),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)("Subject"),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)("Month"),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)("Term"),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)([]),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)([]),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)([]),L=Object(S.a)(R,2),F=L[0],M=L[1],P=Object(n.useState)(!1),U=Object(S.a)(P,2),Y=U[0],H=U[1],W=Object(n.useState)(!1),G=Object(S.a)(W,2),V=G[0],K=G[1],q=Object(n.useState)(!1),J=Object(S.a)(q,2),Q=J[0],X=J[1],Z=Object(n.useState)(!1),$=Object(S.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(S.a)(ae,2),re=ne[0],oe=ne[1],ce=localStorage.getItem("srmToken"),ie=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mg.getPlanningID(ce,t);case 2:200===(a=e.sent).status&&a.data.success&&u&&(n=a.data.data[0],console.log("getPlanID",n),null!==n.subject_id&&h(n.subject_id),null!==n.term_id&&N(n.term_id),null!==n.month_id&&y(n.month_id),null!==n.chapter&&oe(n.chapters));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,Mg.get_by(ce,t,"subject");case 4:200===(a=e.sent).status&&A(a.data.data),H(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),H(!1);case 13:return e.prev=13,K(!0),e.next=17,Mg.get_by(ce,t,"term");case 17:200===(n=e.sent).status&&D(n.data.data),K(!1),e.next=26;break;case 22:e.prev=22,e.t1=e.catch(13),console.log(e.t1),K(!1);case 26:return e.prev=26,X(!0),e.next=30,Mg.get_by(ce,t,"month");case 30:200===(r=e.sent).status&&M(r.data.data),X(!1),e.next=39;break;case 35:e.prev=35,e.t2=e.catch(26),console.log(e.t2),X(!1);case 39:p(!1);case 40:case"end":return e.stop()}}),e,null,[[0,9],[13,22],[26,35]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),e.prev=1,e.next=4,Mg.savePlanning(ce,o.id,{class_id:t,term_id:"Term"!==C?C:null,subject_id:"Subject"!==b?b:null,month_id:"Month"!==v?v:null,chapters:re});case 4:200===(a=e.sent).status&&(console.log(a.data),a.data.success&&de()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),te(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),de=function(){c.push({pathname:"/planning",state:{classListUi:!0,classID:t,classDetail:a,get_by:e.state.get_by,menuSelected:e.state.menuSelected}})};return Object(n.useEffect)((function(){ie(o.id),le(t)}),[]),r.a.createElement(n.Fragment,null,!0===u?r.a.createElement("div",{className:i.loder},r.a.createElement(kr.a,{color:"primary",thickness:5,className:i.CircularProgress})):r.a.createElement("div",{className:i.container},r.a.createElement("div",{className:i.header},r.a.createElement("div",{className:i.filterForm},r.a.createElement(m.a,{className:i.header_title},r.a.createElement("img",{src:Yc.a,alt:"Back",className:i.backImg,onClick:de}),a," : Term Plan"))),r.a.createElement("div",{className:i.div},r.a.createElement(dr.a,{className:i.fieldStyle},r.a.createElement(Vg,{data:T,loading:Y,onChange:function(e){h(e)},makeDisable:!0,initialValue:"Subject",value:b})),r.a.createElement(dr.a,{className:i.fieldStyle},r.a.createElement(Vg,{data:B,loading:V,onChange:function(e){N(e)},makeDisable:!0,initialValue:"Term",value:C})),r.a.createElement(dr.a,{className:i.fieldStyle},r.a.createElement(Vg,{data:F,loading:Q,onChange:function(e){y(e)},makeDisable:!0,initialValue:"Month",value:v})),r.a.createElement(dr.a,{className:i.fieldStyle},r.a.createElement(Xo.a,{id:"outlined-multiline-static",multiline:!0,rows:7,defaultValue:re,variant:"outlined",className:i.width,placeholder:"Chapter",onChange:function(e){oe(e.target.value)}})),r.a.createElement("div",{className:i.saveBtn},r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:se,disabled:ee},"Save")))))},nf=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",margin:"0",padding:"0",overflowY:"auto"}}})),rf=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=nf(),a=Object(s.h)(),o=Object(s.i)(),c=Object(n.useState)(null),i=Object(S.a)(c,2),l=(i[0],i[1],Object(n.useState)(!1)),d=Object(S.a)(l,2),m=d[0],u=(d[1],Object(n.useState)(!1)),p=Object(S.a)(u,2),g=(p[0],p[1],e.selectedRole);return r.a.createElement("div",{className:t.container},"/planning"===a.pathname?"parent"===g||"student"===g?r.a.createElement(ef,null):r.a.createElement(Qg,{back:a.state}):a.pathname==="/create-planning/".concat(o.id)&&!1===m?r.a.createElement(en.a,{p:3},r.a.createElement(af,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(Tr,{open:m}))})),of=Object(dt.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},listItem:{backgroundColor:e.palette.common.whiteSmoke,color:e.palette.common.blackRussian,"&:hover":{backgroundColor:e.palette.common.quartz},borderRadius:"10px",fontSize:"0.875rem",fontWeight:300,marginBottom:"12px"}}}));var cf=Object(i.c)((function(e){return{userInfo:e.auth.userInfo,token:e.auth.token,isAuthenticated:null!==e.auth.token,selectedRole:e.auth.selectedRole,changeRole:e.auth.changeRole,notificationCount:e.notification.notificationCount,chat:e.Chat.chat}}),(function(e){return{onChangeRoleStart:function(){return e({type:"AUTH_INITIATE_ROLE_SELECTION"})},setChatGroup:function(t){return e(function(e){return{group:e}}(t))}}}))((function(e){of();var t=Object(n.useState)(null),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(s.i)().id;Object(n.useEffect)((function(){l()}),[]),Object(n.useEffect)((function(){l()}),[e]);var l=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),e.next=4,Ra.fetchChat(i,t);case 4:200===(a=e.sent).status&&(n=a.data,c(n.chat)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return null==o?r.a.createElement("div",null):r.a.createElement(Kn,{props:e,fullScreen:!0,chat:o})}));var lf=Object(s.j)((function(e){return r.a.createElement("div",null,void e.history.push("/report-card"))})),sf=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"fetchStudentList",value:function(e,t,a,n){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/get_student_test_list"),{params:{school_id:t,class_id:a,student_id:n},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchStudentTest",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/get_student_test_list"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"studentAttendance",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/report_card_attendanceDetails"),{params:{student_id:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getGrades",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/grades"),{params:{class_id:t},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"createGrades",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/grades"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"updateGrades",value:function(e,t){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/grades/").concat(t.id),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"deleteGrades",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/grades/").concat(t.id),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"uploadReport",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/attendancesimport"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchStudentClass",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/classes"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"fetchReportCard",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/report_cards"),{params:{student_id:t,test_id:a},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"createSkill",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/report_cards"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"updateSkill",value:function(e,t){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/report_cards/").concat(t.id),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"deleteSkill",value:function(e,t){return oa.a.delete("".concat("https://dev.srmapi.in/api/v1","/report_cards/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"searchUser",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/getUserLists_student"),{params:{username:e},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}}]),e}()),df=Object(Jt.a)({option:{"&.MuiAutocomplete-option":{borderColor:"purple",borderBottom:"1px solid #d3d3d3"}},listbox:{"&.MuiAutocomplete-listbox":{padding:"0px"}}})(zc.a),mf=Object(I.a)((function(e){return{searchContainer:Object(C.a)({height:"80%",display:"flex",justifyContent:"center",alignItems:"center"},e.breakpoints.down("xs"),{marginTop:"10px"}),fieldStyle:{width:"50%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},optionContainer:{width:"100%"},className:{fontWeight:"300",fontSize:"15px",color:"#8E8E93"}}})),uf=Object(i.c)((function(e){return{token:e.auth.token}}))((function(e){var t=mf(),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=d&&0===c.length,g={options:c,getOptionLabel:function(e){return e.username+e.firstname}},f=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.target.value){t.next=13;break}if(!a.target.value||a.target.value.length%2!==0){t.next=13;break}return t.prev=2,t.next=5,sf.searchUser(a.target.value,e.token);case 5:n=t.sent,n&&n.data&&n.data.data[0]&&n.data.data[0].roles[0]&&i(Object(Na.a)(n.data.data)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:t.searchContainer},r.a.createElement("div",{className:t.fieldStyle},r.a.createElement(df,Object.assign({},g,{open:d,onOpen:function(){u(!0)},onClose:function(){u(!1)},id:"select-on-focus",loading:p,selectOnFocus:!0,onInputChange:f,onChange:function(t,a){a&&e.getSearch(a)},renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{variant:"standard",label:"Search - Name / User ID"}))},renderOption:function(e){return function(e){return e.roles&&0!==e.roles.length&&"student"===e.roles[0].name.toLowerCase()?r.a.createElement("div",{className:t.optionContainer},r.a.createElement(m.a,{className:t.optionTitle},"".concat(e.firstname," ").concat(e.lastname," - ").concat(e.roles[0].name)),e.user_classes&&e.user_classes.classes_data&&r.a.createElement(m.a,null,r.a.createElement("span",{className:t.className},"Class: ",e.user_classes.classes_data.class_name)),r.a.createElement(m.a,null,r.a.createElement("span",{className:t.className}," Username: ",e.username))):e.username}(e)}}))))})),pf=a(173),gf=a.n(pf),ff=a(551),bf=a.n(ff),hf=Object(I.a)((function(e){return{container:{padding:"2%",overflowY:"auto",height:function(e){return e.height}},gridRoot:{marginTop:"40px"},gridItem:{padding:"0% 7%"},card:{border:"1px solid #7B72AF",borderRadius:"3px",display:"flex",justifyItems:"center",alignItems:"center",flexDirection:"column",background:"#fff",padding:"8px",cursor:"pointer"},badgeWrapper:{width:"100%",height:"100%",borderRadius:"3px",margin:"0 auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"5px"},name:{flexBasis:"20%",textAlign:"center"},flex1:{flexBasis:"75%",width:"100%",height:"100%"},flex2:{flexBasis:"25%",width:"100%",height:"100%"},navigationBack:{display:"flex",justifyContent:"space-between"},headerIcon:{fill:"#1c1c1c",fontSize:"18px",cursor:"pointer"},headerTitle:{textAlign:"center"},paper:{padding:e.spacing(2),textAlign:"center",cursor:"pointer"},Typography:{color:"#1C1C1E",font:"normal normal medium 18px/25px Avenir",letterSpacing:"0px"}}})),xf=Object(i.c)((function(e){return{token:e.auth.token,userInfo:e.auth.userInfo,selectedRole:e.auth.selectedRole}}))((function(e){var t={height:window.innerHeight-70+"px"},a=hf(t),o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(""),d=Object(S.a)(s,2),u=(d[0],d[1]),p=Object(n.useState)(!0),g=Object(S.a)(p,2),f=g[0],b=g[1],h=String(JSON.parse(localStorage.getItem("srmSelectedRole")));if(String(h)===String("parent")){var x=JSON.parse(localStorage.getItem("srmChild_dict")),E=localStorage.getItem("srmSelected_Child");console.log(x[parseInt(E)]);var v=x[parseInt(E)].userDetails,y=x[parseInt(E)].userDetails}else v=e.searchData,y=e.userInfo;var j=function(){e.home()};Object(n.useEffect)((function(){if(v&&v.user_classes){var t=v.user_id,a=v.user_classes,n=a.school_id,r=a.class_id;function o(){return(o=Object(Ca.a)(Sa.a.mark((function a(){var o;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,sf.fetchStudentList(e.token,n,r,t);case 3:200===(o=a.sent).status&&(l(o.data.data.data||[]),b(!1)),a.next=12;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),u("Error in student test"),b(!1);case 12:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}!function(){o.apply(this,arguments)}()}}),[]),Object(n.useEffect)((function(){if("student"===e.selectedRole){function t(){return a.apply(this,arguments)}function a(){return(a=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sf.fetchStudentTest(e.token);case 3:200===(a=t.sent).status&&(l(a.data.data.data||[]),b(!1)),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),u("Error in student test"),b(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}t()}if("parent"===e.selectedRole){function t(){return n.apply(this,arguments)}function n(){return(n=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmSelected_Child_token"),e.next=4,sf.fetchStudentTest(t);case 4:200===(a=e.sent).status&&(l(a.data.data.data||[]),b(!1)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),u("Error in student test"),b(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}t()}}),[]);return r.a.createElement("div",{className:a.container},r.a.createElement(n.Fragment,null,"student"!==e.selectedRole||"parent"!==e.selectedRole?r.a.createElement("div",{className:a.navigationBack},"parent"===e.selectedRole||"student"===e.selectedRole?r.a.createElement("div",{className:a.headerIcon}):r.a.createElement(gf.a,{className:a.headerIcon,onClick:j}),r.a.createElement(m.a,null,v.firstname," ",v.lastname),r.a.createElement("div",null,"\xa0")):r.a.createElement("div",{className:a.headerTitle},y.firstname&&r.a.createElement(m.a,null,y.firstname," ",y.lastname))),r.a.createElement("div",{className:a.gridRoot},r.a.createElement(en.a,{container:!0,spacing:3},null!=i?i.map((function(t,n){return r.a.createElement(en.a,{item:!0,xs:12,lg:4,sm:6,md:6,xl:3,key:n},r.a.createElement(Od.a,{className:a.paper,onClick:function(){return function(t){t&&e.getTest(t)}(t)},elevation:0},r.a.createElement("img",{src:bf.a,alt:"medalavt",maxwidth:"59px",maxheight:"78px"}),r.a.createElement(m.a,{className:a.Typography}," ",t.name)))})):null)),r.a.createElement(Tr,{open:f}))})),Ef=a(552),vf=a.n(Ef),yf=a(553),jf=a.n(yf),Of=a(554),Sf=a.n(Of),Cf=a(555),Nf=a.n(Cf),kf=Object(I.a)((function(e){return{span:{fontSize:"14px"},container:{padding:"0px 10px",marginBottom:"20px"},title:{margin:"20px 0px",textAlign:"center"},editIcon:{fontSize:"17px",marginTop:"2px",fill:"gray",cursor:"pointer",width:"17px",height:"17px"},root:{backgroundColor:"#fff",boxShadow:"none",width:"170px"},gridContainer:{margin:"10px 0px",backgroundColor:"#fff",flexBasis:"95%",justifyContent:"center"},gridContainer2:{display:"flex",margin:"5px 5px",backgroundColor:"#fff",borderRadius:"2px",justifyContent:"space-between"},emptyGrade:{display:"flex",justifyContent:"space-between",margin:"20px 0px",backgroundColor:"#fff"},emptyGradeMessage:{display:"flex",justifyContent:"space-between",margin:"8px",backgroundColor:"#fff"},itemGrade:{textAlign:"center",padding:"5px",borderRadius:"1px"},itemPercent:{textAlign:"center",padding:"6px",borderRadius:"1px"},setGrade:{display:"flex",justifyContent:"center",margin:"20px"},fillGrade:{display:"flex",justifyContent:"space-between",margin:"10px 5px",borderRadius:"2px"},fillGradeWrapper:{marginBottom:"30px"},publish:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"flex-end",marginTop:"20px"},cancelBtn:{background:"#fff",marginRight:"10px"},deleteBtnWrapper:{marginLeft:"10px",background:"#fff"},deleteBtn:{color:"red"},addBtn:{color:"#7B72AF"},gradeEdit:{display:"flex",justifyContent:"center",flexDirection:"column",padding:"0px 5px",flexBasis:"5%",marginBottom:"5px",alignItems:"flex-end",paddingRight:"20px"}}})),wf=Object(i.c)((function(e){return{token:e.auth.token,selectedRole:e.auth.selectedRole}}))((function(e){var t=kf(e),a=Object(n.useState)([]),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=(x[0],x[1]),v=Object(n.useState)(null),y=Object(S.a)(v,2),j=y[0],O=y[1],k=Object(n.useState)(!1),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)({grade:"",percentage_from:"",percentage_to:""}),I=Object(S.a)(_,2),B=I[0],D=I[1],R=e.token,L=e.testData,F=e.searchData;Object(n.useEffect)((function(){var t=!0;if(e.onGradeEdit(f||d),L&&L.class_id){function a(){return(a=Object(Ca.a)(Sa.a.mark((function e(){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sf.getGrades(R,L.class_id);case 3:200===(a=e.sent).status&&t&&(i(a.data.data||[]),O(null),A(!1)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("getGrades Error",e.t0),O(""),A(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}return function(){t=!1}}),[f,d]);var M=function(e,t,a){switch(e){case"grade":var n=Object(N.a)(Object(N.a)({},a),{},{grade:t.target.value});P(n);break;case"from":var r=Object(N.a)(Object(N.a)({},a),{},{percentage_from:t.target.value});P(r);break;case"to":var o=Object(N.a)(Object(N.a)({},a),{},{percentage_to:t.target.value});P(o)}},P=function(e){function t(){return(t=Object(Ca.a)(Sa.a.mark((function t(){return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sf.updateGrades(R,e);case 3:t.sent.status,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),E("");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){!1}},U=function(e,t){B[t]=e.target.value,D(B)},Y=function(){return"student"!=e.selectedRole&&"parent"!=e.selectedRole&&!e.isPublish},H=function(){return r.a.createElement("div",null,!T&&r.a.createElement("div",{className:t.emptyGradeMessage},r.a.createElement(m.a,{className:t.itemGrade},r.a.createElement("span",null,"Grades not available. ",j))))};return r.a.createElement("div",null,r.a.createElement("div",{className:t.container},f&&r.a.createElement("div",{className:t.fillGradeWrapper},r.a.createElement("div",{className:t.title},r.a.createElement(m.a,null,"Edit Grades")),c.map((function(e,a){return r.a.createElement("div",{className:t.fillGrade,key:a},r.a.createElement(Xo.a,{id:"outlined-textarea",label:"Grade Name",placeholder:"A+",multiline:!0,variant:"outlined",defaultValue:e.grade,onChange:function(t){M("grade",t,e)},classes:{root:t.root}}),r.a.createElement(Xo.a,{id:"outlined-textarea",label:"From Percentage",placeholder:"90",multiline:!0,variant:"outlined",defaultValue:e.percentage_from,onChange:function(t){M("from",t,e)},classes:{root:t.root}}),r.a.createElement(Xo.a,{id:"outlined-textarea",label:" To Percentage",placeholder:"100",multiline:!0,variant:"outlined",defaultValue:e.percentage_to,onChange:function(t){M("to",t,e)},classes:{root:t.root}}),r.a.createElement(z.a,Object(C.a)({variant:"contained",disableElevation:!0,className:t.cancelBtn,onClick:function(){!function(e){var t=!0;function a(){return(a=Object(Ca.a)(Sa.a.mark((function a(){return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,sf.deleteGrades(R,e);case 3:200===a.sent.status&&t&&A(!1),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),A(!1);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}A(!0),b(!1),function(){a.apply(this,arguments)}()}(e)}},"className",t.deleteBtnWrapper),r.a.createElement(Sf.a,{className:t.deleteBtn})),r.a.createElement(z.a,{variant:"contained",disableElevation:!0,className:t.cancelBtn,onClick:function(){u(!0),b(!1)}},r.a.createElement(Nf.a,{className:t.addBtn})))})),r.a.createElement("div",{className:t.publish},r.a.createElement(mr.a,null,r.a.createElement(z.a,{variant:"contained",disableElevation:!0,className:t.cancelBtn,onClick:function(){return b(!1)}},"Cancel"),r.a.createElement(z.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return b(!1)}},"Save")))),d&&r.a.createElement("div",{className:t.fillGradeWrapper},r.a.createElement("div",{className:t.title},r.a.createElement(m.a,null,"Create Grades")),Tf.map((function(e,a){return r.a.createElement("div",{className:t.fillGrade,key:a},r.a.createElement(Xo.a,{id:"outlined-textarea",label:"Grade Name",placeholder:e.grade,multiline:!0,variant:"outlined",onChange:function(e){return U(e,"grade")},classes:{root:t.root}}),r.a.createElement(Xo.a,{id:"outlined-textarea",label:"From Percentage",multiline:!0,variant:"outlined",placeholder:e.percentage_from,onChange:function(e){return U(e,"percentage_from")},classes:{root:t.root}}),r.a.createElement(Xo.a,{id:"outlined-textarea",label:" To Percentage",multiline:!0,variant:"outlined",onChange:function(e){return U(e,"percentage_to")},placeholder:e.percentage_to,classes:{root:t.root}}))})),r.a.createElement("div",{className:t.publish},r.a.createElement(mr.a,null,r.a.createElement(z.a,{variant:"contained",disableElevation:!0,className:t.cancelBtn,onClick:function(){return u(!1)}},"Cancel"),r.a.createElement(z.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return function(){A(!0);var e=localStorage.getItem("srmToken"),t=!0,a=Object(N.a)({class_id:L.class_id},B);function n(){return(n=Object(Ca.a)(Sa.a.mark((function n(){return Sa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,sf.createGrades(e,a);case 3:200===n.sent.status&&t&&(u(!1),b(!1),A(!1)),n.next=14;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),E(""),u(!1),b(!1),A(!1);case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){t=!1}}()}},"Add")))),!f&&!d&&r.a.createElement("div",{className:t.gridContainer2},c.length>0?r.a.createElement(en.a,{container:!0,className:t.gridContainer},c.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(m.a,{className:t.itemPercent},r.a.createElement("span",{className:t.span},e.grade," - ",e.percentage_to,"% - ",e.percentage_from,"%")))}))):H(),r.a.createElement("div",{className:"".concat(t.gradeEdit," noprint")},F.user_classes&&Y()&&r.a.createElement("img",{src:an.a,className:t.editIcon,onClick:function(){c.length>0?b(!0):u(!0)}})))))})),Tf=[{grade:"A+",percentage_from:90,percentage_to:100}],Af=Object(I.a)((function(){return{container:{padding:"2%"},rootGrid:{flexFlow:"1",marginTop:"20px"},cardTitle:{display:"flex",justifyContent:"space-between",padding:"10px"},cardHeader:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid lightgrey"},cardHeaderSkill:{flexBasis:"70%",background:"#7B72AF",padding:"5px",borderRight:"1px solid lightgrey",textAlign:"center"},cardHeaderGrade:{flexBasis:"30%",background:"#7B72AF",padding:"5px",textAlign:"center"},cardItem:{display:"flex",justifyContent:"space-between",borderTop:"1px solid lightgrey"},cardItemSkill:{flexBasis:"70%",padding:"5px",borderRight:"1px solid lightgrey"},cardItemGrade:{flexBasis:"30%",padding:"5px",textAlign:"center"},publish:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"flex-end",marginTop:"10px"},publishCard:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"flex-end",margin:"10px 0px 30px 0px"},cancelBtn:{background:"#fff",marginRight:"10px"},iconRemark:{marginRight:"10px"},headerIcon:{fontSize:"18px",fill:"#1c1c1c",height:"18px",width:"18px",marginRight:"40px",cursor:"pointer"},float:{float:"right"},editIcon:{fontSize:"17px",marginTop:"2px",fill:"gray",cursor:"pointer"},colorWhite:{color:"#fff"},bgWhite:{background:"#fff"},marginLeft:{marginLeft:"10px"},subjectTitle:{margin:"20px 0px",textAlign:"center"},remark:{margin:"20px 0px",textAlign:"center"},fillGrade:{display:"flex",justifyContent:"space-around",margin:"10px 5px",padding:"16px",borderRadius:"2px"},fillGradeWrapper:{marginBottom:"30px"},remarkNote:{display:"flex",justifyContent:"space-between",margin:"36px 14px",backgroundColor:"#fff",alignItems:"center"},noteText:{textAlign:"left",padding:"10px 18px",borderRadius:"1px"},display:{display:"none"},color:{color:"gray"}}})),_f=[],If=Object(i.c)((function(e){return{token:e.auth.token,selectedRole:e.auth.selectedRole}}))((function(e){var t=Af(e),a=Object(n.useState)({}),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)({}),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=(x[0],x[1]),v=Object(n.useState)("remark"),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!0),k=Object(S.a)(C,2),w=k[0],T=k[1],A=Object(n.useState)([]),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(!1),R=Object(S.a)(D,2),L=R[0],F=R[1],M=Object(n.useState)(!1),P=Object(S.a)(M,2),U=(P[0],P[1]),Y=Object(n.useState)(!1),H=Object(S.a)(Y,2),W=H[0],G=H[1],V=Object(n.useState)({}),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)({}),X=Object(S.a)(Q,2),Z=(X[0],X[1]),$=String(JSON.parse(localStorage.getItem("srmSelectedRole")));if(String($)===String("parent")){var ee=localStorage.getItem("srmSelected_Child_token"),te=e.testData,ae=JSON.parse(localStorage.getItem("srmChild_dict")),ne=localStorage.getItem("srmSelected_Child");console.log(ae[parseInt(ne)]);var re=ae[parseInt(ne)].userDetails}else ee=e.token,re=e.searchData,te=e.testData;var oe=function(t){G(t),e.onCardPublish(t)},ce=function(e){e.grades[0]?(""!==e.grades[0].remarks&&O(e.grades[0].remarks),"published"==e.grades[0].status?oe(!0):oe(!1)):oe(!1)},ie=function(){return"student"!=e.selectedRole&&"parent"!=e.selectedRole};Object(n.useEffect)((function(){var e=!0;if(T(!0),(re.user_id||re.id)&&te.id){var t={};function a(){return(a=Object(Ca.a)(Sa.a.mark((function a(){var n;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("student"!==String($)&&"parent"!==String($)){a.next=6;break}return a.next=3,sf.fetchReportCard(ee,re.id,te.id);case 3:t=a.sent,a.next=9;break;case 6:return a.next=8,sf.fetchReportCard(ee,re.user_id,te.id);case 8:t=a.sent;case 9:200===t.status?e&&(i(t.data.data),ce(t.data.data),T(!1),Array.isArray(t.data.data.grades)&&t.data.data.grades.length||(n={student_id:re.user_id,test_id:te.id,remarks:"remark",status:"draft"},se(Object(N.a)({subject:[]},n)))):(E("Error in fetching report card"),console.log("Error in fetching report card"),T(!1));case 10:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}else T(!1);return function(){e=!1}}),[L]);var le=function(){b(!1),U(!1),F((function(e){return!e}))},se=function(e){var t=!0;function a(){return(a=Object(Ca.a)(Sa.a.mark((function a(){return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,sf.createSkill(ee,e);case 3:200===a.sent.status&&t&&(b(!1),F((function(e){return!e}))),a.next=12;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),b(!1),E("");case 12:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){t=!1}},de=function(e){var t=!0;function a(){return(a=Object(Ca.a)(Sa.a.mark((function a(){return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,sf.updateSkill(ee,e);case 3:200===a.sent.status&&t&&F((function(e){return!e})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){t=!1}},me=function(e,t,a,n){var r=[],o=[],i="draft",l=!0;if("skill"===n||"grade"===n){var s=e.target.value;t.skill_list_data="skill"===n?Object(N.a)(Object(N.a)({},t.skill_list_data),{},{skill_name:s}):Object(N.a)(Object(N.a)({},t.skill_list_data),{},{grade_name:s}),d.user_skill[a]=t}d.user_skill&&d.user_skill.map((function(e){var t={skill_id:e.id,skill_name:e.skill_list_data.skill_name||"",grade:e.skill_list_data.grade_name||""};r.push(t)})),"publish"===n&&(i="published",l=!1),o.push({subject_id:d.id,subject_name:d.name,skill:r}),console.log(_f),console.log(I);var m=I.filter((function(e){return e.subject_name!=(d.name&&e.subject_id)}));console.log(m);var u=[].concat(Object(Na.a)(m),o),p={student_id:re.user_id,test_id:te.id,status:i};"remark"===n?(O(e.target.value),p.remarks=e.target.value):p.remarks=j||".",console.log(Object(N.a)({id:c.grades[0].id,subject:u},p)),l?c.grades[0]?de(Object(N.a)({id:c.grades[0].id,subject:u},p)):se(Object(N.a)({subject:o},p)):Array.isArray(I)&&I.length?de(Object(N.a)({id:c.grades[0].id,subject:u},p)):de(Object(N.a)({id:c.grades[0].id,subject:_f},p))},ue=function(){return r.a.createElement(mr.a,{display:"block",displayPrint:"none",style:{float:"right"}},!W&&ie()?r.a.createElement(mr.a,null,r.a.createElement(z.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){me(e,{},0,"publish"),le()}},"Publish Now")):null)},pe={},ge=function(e){B(_f),"remark"==e?(U(!0),b(!1)):"skill"==e&&(b(!0),U(!1))},fe=function(){return r.a.createElement(n.Fragment,null,W?r.a.createElement("div",{className:t.remarkNote},r.a.createElement(m.a,{className:t.noteText},r.a.createElement("span",{style:{color:"gray"}}," Remark : \xa0"),r.a.createElement("span",null,j))):r.a.createElement("div",{className:t.remark},r.a.createElement("div",{className:t.remark},r.a.createElement(m.a,null,"General Remark ")),r.a.createElement(Xo.a,{id:"outlined-basic",label:"",variant:"outlined",fullWidth:!0,multiline:!0,rows:7,rowsMax:7,size:"medium",type:"string",defaultValue:j,placeholder:"Remark",className:t.bgWhite,onBlur:function(e){me(e,{},0,"remark")}})))};_f=[];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:t.container},f&&r.a.createElement("div",{className:t.fillGradeWrapper},r.a.createElement("div",{className:t.remark},r.a.createElement(m.a,null,"Student Skill")),d.user_skill.map((function(e,a){return r.a.createElement("div",{className:t.fillGrade,key:a},r.a.createElement(Xo.a,{id:"outlined-textarea",label:"Skill",placeholder:"Skill Name",defaultValue:e.skill_list_data.skill_name,multiline:!0,variant:"outlined",fullWidth:!0,className:t.bgWhite,onChange:function(t){me(t,e,a,"skill")}}),r.a.createElement(Xo.a,{id:"outlined-textarea",label:"Grade",multiline:!0,variant:"outlined",placeholder:"Grade Name",defaultValue:e.skill_list_data.grade_name||"",className:t.bgWhite,style:{marginLeft:"10px"},onChange:function(t){me(t,e,a,"grade")}}))})),r.a.createElement("div",{className:t.publish},r.a.createElement(mr.a,null,r.a.createElement(z.a,{variant:"contained",disableElevation:!0,className:t.cancelBtn,onClick:function(){le()}},"Cancel"),r.a.createElement(z.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){le()}},"Save")))),!f&&c.subjectDetails&&function(){w&&setTimeout((function(){J(pe)}),1e3);return r.a.createElement(mr.a,{className:t.rootGrid},Object.entries(c.subjectDetails).map((function(e,a){var o=Object(S.a)(e,2),i=o[0],l=o[1];return r.a.createElement("div",{key:a},r.a.createElement("div",{className:t.subjectTitle},q[a]>0&&r.a.createElement(m.a,null,i)),r.a.createElement(en.a,{container:!0,spacing:3,ref:function(e){return function(e,t){e&&(pe[t]=e.clientHeight)}(e,a)}},l.map((function(e,a){var o=!1;return c&&c.grades[0]&&c.grades[0].report_grade.map((function(t){t.subject_id==e.id&&(o=!0)})),r.a.createElement(r.a.Fragment,null,(o||ie())&&r.a.createElement(en.a,{item:!0,xs:6,key:a},r.a.createElement(Od.a,{className:t.paper,elevation:0},r.a.createElement("div",{className:t.cardTitle},r.a.createElement("span",null,"\xa0"),r.a.createElement(m.a,null,e.name),r.a.createElement("span",null,re.user_classes&&!W&&r.a.createElement("img",{src:an.a,className:t.editIcon,onClick:function(){return function(e){u(e),ge("skill")}(e)}}))),r.a.createElement("div",{className:t.cardHeader},r.a.createElement(m.a,{className:t.cardHeaderSkill},r.a.createElement("span",{className:t.colorWhite},"Skill")),r.a.createElement(m.a,{className:t.cardHeaderGrade},r.a.createElement("span",{className:t.colorWhite},"Grade"))),function(e){var a=[];return r.a.createElement(n.Fragment,null,e.user_skill.map((function(e,n){if(c.grades[0]&&c.grades[0].report_grade[0]&&c.grades[0].report_grade.map((function(t,a){e.id==t.skill_id&&(e.skill_list_data=Object(N.a)(Object(N.a)({},e.skill_list_data),{},{grade_name:t.grade,skill_name:t.skill_name}))})),e.skill_list_data.grade_name){var o={skill_id:e.id,skill_name:e.skill_list_data.skill_name||"",grade:e.skill_list_data.grade_name||"",subject_id:e.subject_id};a.push(o)}return r.a.createElement("span",{key:n},r.a.createElement("div",{className:t.cardItem},r.a.createElement(m.a,{className:t.cardItemSkill},e.skill_list_data&&r.a.createElement(r.a.Fragment,null,e.skill_list_data.skill_name)),r.a.createElement(m.a,{className:t.cardItemGrade},e.skill_list_data.grade_name||"-")))})),r.a.createElement("span",{style:{display:"none"}},_f.push({subject_id:a[0]?a[0].subject_id:null,subject_name:e.name,skill:a})))}(e))))}))))})))}()),!w&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,null),r.a.createElement(wf,Object.assign({},e,{onGradeEdit:function(e){Z(e)},isPublish:W})),r.a.createElement(ue,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))})),Bf=(a(804),Object(I.a)((function(e){return{padding:{padding:"0px 10px"},container:{padding:"2%",overflowY:"auto",height:function(e){return e.height}},navigationBack:{display:"flex",justifyContent:"space-between"},studentPhoto:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:"2%"},photo:{width:"50px",height:"50px",borderRadius:"50%",display:"inline-block",border:"1px solid lightgrey"},photoName:{margin:"15px 0px"},attendanceWrapper1:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",backgroundColor:"#fff",width:"100%",marginTop:"3%",borderRadius:"2px"},attendanceWrapper2:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",backgroundColor:"#fff",width:"100%"},attendance:{margin:"20px 0px"},attendanceInfo:{padding:"2%",display:"flex",justifyContent:"space-between",width:"96%"},studentDays:{width:"100%",paddingRight:"10%",maxWidth:"200px"},studentDaysPrint:{width:"100%",marginLeft:"100px"},daysName:{color:"#8E8E93",fontSize:"12px !important"},daysNamePrint:{color:"#8E8E93",fontSize:"12px !important",padding:"3%"},daysNumber:{fontSize:"14px !important",color:"#1C1C1E",borderBottom:"1px solid #cdcdcd",maxWidth:"139px"},daysNumberPrint:{fontSize:"14px !important",color:"#1C1C1E",borderBottom:"1px solid #cdcdcd",maxWidth:"200px",padding:"3%"},rootGrid:{flexFlow:"1",marginTop:"20px"},cardTitle:{display:"flex",justifyContent:"space-between",padding:"10px"},cardHeader:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid lightgrey"},cardHeaderSkill:{flexBasis:"70%",background:"#7B72AF",padding:"5px",borderRight:"1px solid lightgrey"},cardHeaderGrade:{flexBasis:"30%",background:"#7B72AF",padding:"5px"},cardItem:{display:"flex",justifyContent:"space-between",borderTop:"1px solid lightgrey"},cardItemSkill:{flexBasis:"70%",padding:"5px",borderRight:"1px solid lightgrey"},cardItemGrade:{flexBasis:"30%",padding:"5px"},Size14:{fontSize:"14px"},publish:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"flex-end",marginTop:"10px"},cancelBtn:{background:"#fff",marginRight:"10px"},headerIcon:{fontSize:"18px",fill:"#1c1c1c",height:"18px",width:"18px",cursor:"pointer"},printIcon:{marginRight:"5px"},downloadIcon:{fontSize:"17px",height:"20px",width:"20px",fill:"gray",cursor:"pointer"},userIcon:{height:"100%",width:"100%",borderRadius:"50%"},editIcon:{fontSize:"17px",marginTop:"2px",fill:"gray",cursor:"pointer"},colorWhite:{color:"#fff"},remarkInput:{fontSize:"1rem",fontWeight:400,lineHeight:1.5,border:"1px solid #7B72AF",borderRadius:"1px",backgroundColor:"#fff"},fontSize14:{fontSize:"14px"},root:{backgroundColor:"#fff",boxShadow:"none"},printFooter:{display:"flex",justifyContent:"space-between",padding:"0px 22px"},schoolNameLogo:{display:"flex",justifyContent:"center",padding:"18px 22px"},printHeader:{display:"flex",justifyContent:"center",padding:"0px 22px"},reportLogo:{height:60,width:void 0},schoolLogo:{height:34,width:void 0},schoolTitle:{display:"flex",justifyContent:"center",alignItems:"center",padding:"0px 10px",fontSize:"22px"},emptyCard:Object(C.a)({display:"flex",justifyContent:"center",margin:"11px 0px",backgroundColor:"#fff"},"margin","10px"),emptyMessage:{textAlign:"center",padding:"10px 18px",borderRadius:"1px"}}}))),Df=Object(i.c)((function(e){return{token:e.auth.token,userInfo:e.auth.userInfo,selectedRole:e.auth.selectedRole}}))((function(e){var t={height:window.innerHeight-70+"px"},a=Bf(t),o=Object(n.useState)({}),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(!0),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)(!0),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(!0),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useRef)(null),O=String(JSON.parse(localStorage.getItem("srmSelectedRole")));if(String(O)===String("parent"))var C=localStorage.getItem("srmSelected_Child_token"),N=e.testData,k=JSON.parse(localStorage.getItem("srmChild_dict")),w=localStorage.getItem("srmSelected_Child"),T=k[parseInt(w)].userDetails;else C=e.token,T=e.searchData,N=e.testData;var A=function(){e.home()};Object(n.useEffect)((function(){var e=!0;if(p(!0),T&&(T.user_id||T.id)){function t(){return(t=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"student"!==String(O)&&"parent"!==String(O)){t.next=7;break}return t.next=4,sf.studentAttendance(C,T.id);case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,sf.studentAttendance(C,T.user_id);case 9:a=t.sent;case 10:200===a.status&&e&&(l(a.data.data||[]),p(!1)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),p(!1);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}else p(!1);return function(){e=!1}}),[]);var _=Object(aa.useReactToPrint)({content:function(){return j.current}}),I=function(){p(!0),setTimeout((function(){_(),p(!1)}),2e3)},B=function(){h(!1)},D=function(){var e=i.present,t=void 0===e?0:e,n=i.absent,o=void 0===n?0:n,c=i.totalDays,l=void 0===c?0:c,s=i.teacherDetails,d=i.teacherName,u=void 0===d?"None":d;if(s&&s.length){var p=s[0];u=p.firstname+" "+p.lastname}return r.a.createElement(mr.a,{display:"none",displayPrint:"block"},r.a.createElement("div",{className:a.attendanceWrapper1},r.a.createElement("div",{className:a.attendanceInfo},r.a.createElement("div",{className:a.studentDaysPrint},r.a.createElement(m.a,{className:a.daysNamePrint},"STUDENT NAME"),r.a.createElement(m.a,{className:a.daysNumberPrint},T.firstname," ",T.lastname)),r.a.createElement("div",{className:a.studentDaysPrint},r.a.createElement(m.a,{className:a.daysNamePrint},"TOTAL DAYS"),r.a.createElement(m.a,{className:a.daysNumberPrint},l))),r.a.createElement("div",{className:a.attendanceInfo},r.a.createElement("div",{className:a.studentDaysPrint},r.a.createElement(m.a,{className:a.daysNamePrint},"TEACHER"),r.a.createElement(m.a,{className:a.daysNumberPrint},u)),r.a.createElement("div",{className:a.studentDaysPrint},r.a.createElement(m.a,{className:a.daysNamePrint},"DAYS ATTENDTED"),r.a.createElement(m.a,{className:a.daysNumberPrint},t))),r.a.createElement("div",{className:a.attendanceInfo},r.a.createElement("div",{className:a.studentDaysPrint},r.a.createElement(m.a,{className:a.daysNamePrint},"GRADE"),r.a.createElement(m.a,{className:a.daysNumberPrint},"None")),r.a.createElement("div",{className:a.studentDaysPrint},r.a.createElement(m.a,{className:a.daysNamePrint},"DAYS ABSENT"),r.a.createElement(m.a,{className:a.daysNumberPrint},o)))))},R=function(){return r.a.createElement(mr.a,{display:"none",displayPrint:"block"},r.a.createElement("div",{className:a.printHeader},r.a.createElement("img",{src:jf.a,alt:"Report Card",className:a.reportLogo})))},L=function(){return r.a.createElement(mr.a,{display:"none",displayPrint:"block"},r.a.createElement("div",{className:a.printFooter},r.a.createElement(m.a,null,"Parent Signature"),r.a.createElement(m.a,null,"Principal Signature")))},F=function(){var t="",n="";return e.userInfo&&e.userInfo.user_classes&&e.userInfo.user_classes.school_data&&(t=e.userInfo.user_classes.school_data.logo,n=e.userInfo.user_classes.school_data.name),r.a.createElement(mr.a,{display:"none",displayPrint:"block"},r.a.createElement("div",{className:a.schoolNameLogo},t&&r.a.createElement("img",{src:t,alt:"School Logo",className:a.schoolLogo}),r.a.createElement(m.a,{className:a.schoolTitle},n)))},M=function(){return r.a.createElement("div",{className:a.emptyCard},r.a.createElement(m.a,{className:a.emptyMessage},r.a.createElement("span",null,"Report card not available.")))};return r.a.createElement("div",{className:"".concat(a.container,"  print-container"),ref:j},r.a.createElement(R,null),r.a.createElement(F,null),r.a.createElement(D,null),r.a.createElement(mr.a,{display:"blobk",displayPrint:"none"},r.a.createElement("div",{className:"".concat(a.navigationBack)},r.a.createElement(gf.a,{className:a.headerIcon,onClick:A}),r.a.createElement(m.a,null,N.name),r.a.createElement("div",null,r.a.createElement("span",{className:a.printIcon,onClick:I},v&&r.a.createElement("img",{src:vf.a,className:a.downloadIcon})))),r.a.createElement("div",{className:a.studentPhoto},r.a.createElement("div",{className:a.photo},b?r.a.createElement("img",{src:T.thumbnail,className:a.userIcon,onError:B}):r.a.createElement(P.a,{src:"/broken-image.jpg",className:a.userIcon})),r.a.createElement("div",{className:a.photoName},r.a.createElement(m.a,{className:a.fontSize14},T.firstname," ",T.lastname)))),function(){var e=i.present,t=void 0===e?0:e,n=i.absent,o=void 0===n?0:n,c=i.totalDays,l=void 0===c?0:c,s=i.teacherDetails,d=i.teacherName,u=void 0===d?"None":d;if(s&&s.length){var p=s[0];u=p.firstname+" "+p.lastname}return r.a.createElement(mr.a,{display:"block",displayPrint:"none",className:a.padding},r.a.createElement("div",{className:a.attendanceWrapper1},r.a.createElement("div",{className:a.attendance},r.a.createElement(m.a,null,"Attendance")),r.a.createElement("div",{className:a.attendanceInfo},r.a.createElement("div",{className:a.studentDays},r.a.createElement(m.a,{className:a.daysName},"TOTAL DAYS"),r.a.createElement(m.a,{className:a.daysNumber},l)),r.a.createElement("div",{className:a.studentDays},r.a.createElement(m.a,{className:a.daysName},"DAYS ATTENDTED"),r.a.createElement(m.a,{className:a.daysNumber},t)),r.a.createElement("div",{className:a.studentDays},r.a.createElement(m.a,{className:a.daysName},"DAYS ABSENT"),r.a.createElement(m.a,{className:a.daysNumber},o)))),r.a.createElement("div",{className:a.attendanceWrapper2},r.a.createElement("div",{className:a.attendanceInfo},r.a.createElement("div",{className:a.studentDays},r.a.createElement(m.a,{className:a.daysName},"TEACHER"),r.a.createElement(m.a,{className:a.daysNumber},u)))))}(),v||"student"!=e.selectedRole&&"parent"!=e.selectedRole?r.a.createElement(If,Object.assign({},e,{onCardPublish:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true";y(e)}})):r.a.createElement(M,null),r.a.createElement(L,null),r.a.createElement(mr.a,{display:"block",displayPrint:"none"},r.a.createElement(Tr,{open:u})))})),Rf=Object(i.c)((function(e){return{token:e.auth.token,selectedRole:e.auth.selectedRole,userInfo:e.auth.userInfo}}))((function(e){var t="student"===e.selectedRole||"parent"===e.selectedRole?"test":"search",a=Object(n.useState)(t),o=Object(S.a)(a,2),c=o[0],i=o[1];console.log(e.selectedRole);var l=Object(n.useState)(e.userInfo),s=Object(S.a)(l,2),d=s[0],m=s[1],u=Object(n.useState)({}),p=Object(S.a)(u,2),g=p[0],f=p[1],b=function(e){e.id&&(m(e),i("test"))},h=function(e){e.id&&(f(e),i("report"))},x=function(){switch(c){case"search":return r.a.createElement(uf,{getSearch:b});case"test":return r.a.createElement(xf,{searchData:d,getTest:h,home:function(){i("search")}});case"report":return r.a.createElement(Df,{searchData:d,testData:g,home:function(){i("test")}})}};return r.a.createElement(x,null)})),Lf=Object(I.a)((function(e){var t;return{container:(t={padding:"2%",height:"100%",overflowY:"auto"},Object(C.a)(t,"height","600px"),Object(C.a)(t,"&:focus",{border:"1 px #7B72AF"}),t),navigationBack:{display:"flex",justifyContent:"center"},subheader:{flexBasis:"5%",display:"flex",background:"yellow"},fieldStyle:{width:"30%",marginTop:"30px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},uploadWrapper:{marginTop:"40px"},uploadFooter:{marginTop:"40px"},publish:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"flex-end",marginTop:"20px"},cancelBtn:{background:"none",marginRight:"10px",border:"1px solid gray"},root:{background:"#fff",border:"none",height:"250px",display:"flex",justifyContent:"center",flexDirection:"column"},text:{background:"#fff",color:"1c1c1c",fontSize:"18px"},icon:{display:"none"},errorView:{marginTop:"20px"}}})),Ff=Object(i.c)((function(e){return{token:e.auth.token,userInfo:e.auth.userInfo}}))((function(e){var t=Object(n.useState)(!0),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),l=Object(S.a)(i,2),s=l[0],d=l[1],u=Object(n.useState)(0),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!1),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=localStorage.getItem("srmToken"),A=function(e){f(e.target.value)},_=function(e){E(e)};Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(Ca.a)(Sa.a.mark((function t(){var a;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sf.fetchStudentClass(T);case 3:200===(a=t.sent).status&&e&&(d(a.data.data),c(!1)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),c(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[]);var I=Lf(e);return r.a.createElement("div",{className:I.container},r.a.createElement("div",null,r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:I.navigationBack},r.a.createElement(m.a,null,"Upload")),r.a.createElement(mr.a,null,r.a.createElement(dr.a,{className:I.fieldStyle},r.a.createElement(Gr.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:g,onChange:A},s.map((function(e,t){return r.a.createElement(M.a,{value:t,key:t},e.class_name)}))))))),r.a.createElement("div",{className:I.uploadWrapper},r.a.createElement(fi.a,{onChange:_,dropzoneText:"Drag file here",classes:{root:I.root,icon:I.icon},acceptedFiles:[".xlsx",".xls",".xlsm"],icon:I.icon,dropzoneParagraphClass:I.text,showAlerts:!1,showFileNames:!0})),r.a.createElement("div",{className:I.errorView},j&&r.a.createElement(ma.a,{severity:"error"},"Error occured while uploading report"),k&&r.a.createElement(ma.a,{severity:"success"},"Report uploaded successfully")),r.a.createElement("div",{className:I.uploadFooter},r.a.createElement("div",{className:I.publish},r.a.createElement(mr.a,null,r.a.createElement(z.a,{variant:"contained",disableElevation:!0,className:I.cancelBtn,onClick:function(){}},"Cancel"),r.a.createElement(z.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return function(){function e(){return(e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sf.uploadReport(T,x);case 3:200===e.sent.status&&(c(!1),w(!0)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),c(!1),O(!0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}c(!0),function(){e.apply(this,arguments)}()}()}},"Upload")))),r.a.createElement(Tr,{open:o}))})),Mf=Object(dt.a)((function(e){var t;return{div:{margin:"10px"},snackBar:{"&.MuiSnackbar-root":{zIndex:e.zIndex.drawer+1,maxWidth:"400px"}},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},previewChip:{minWidth:160,maxWidth:210},sideMargins:{marginLeft:"20px",marginRight:"20px"},publishBtns:{textAlign:"right",justifyContent:"right"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},margin:(t={marginTop:"30px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t)}})),Pf=Object(i.c)((function(e){return{loading:e.Attendence.importLoading}}),{importAttendance:function(e,t,a){return{type:ba,subtypes:Pp.IMPORT_ATTENDANCE,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.post("".concat("/attendancesimport"),e)}(e)}}}})((function(e){var t=Mf(),a=Object(s.g)(),o=Object(n.useState)({}),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!1),m=Object(S.a)(d,2),u=m[0],p=m[1],g=Object(n.useState)({}),f=Object(S.a)(g,2),b=f[0],h=f[1],x=function(){y({type:"success",message:"Import Success!"}),a.goBack()},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y({message:e.message})},v=function(){p(!1)},y=function(e){p(!0),h(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.div},r.a.createElement("div",null,r.a.createElement(fi.a,{onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l(e[0]||{})},alertSnackbarProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},classes:{root:t.snackBar},autoHideDuration:3e3},acceptedFiles:[".xlsx",".xls",".csv"],maxFileSize:1e7,filesLimit:1,showPreviews:!0,showPreviewsInDropzone:!1,useChipsForPreview:!0,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:t.previewChip}},previewText:"Selected file",dropzoneText:"Drag and drop a file (max 10 MB each) here or click"})),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:8,xs:12,className:t.publishBtns},r.a.createElement(z.a,{id:"publishLaterBtn",variant:"contained",onClick:function(){a.goBack()},className:"".concat(t.fieldStyle," ","publishBtn"," ","publishLaterBtn")},"Cancle"),r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",onClick:function(){var t=new FormData;t.append("file",i),e.importAttendance(t,x,E)},disabled:!i.name},"Upload")),r.a.createElement(en.a,{item:!0,sm:4,xs:12,className:t.textAlignLeft}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(Nr.a,{open:e.loading,className:t.backdrop},r.a.createElement(kr.a,{color:"inherit"}))),r.a.createElement(ae.a,{open:u,autoHideDuration:5e3,onClose:v},r.a.createElement(ma.a,{onClose:v,severity:b.type||"error"},b.message||"Something went wrong!! Please try again.")))})),zf=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"fetchClasses",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/classes"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getClass",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/classes"),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getClassTermList",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/datesheet?class_id=").concat(t,"&get_by=term"),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getDatesheetList",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/datesheet/").concat(t,"?class_id=")+a,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"createDateSheet",value:function(e,t){return oa.a.post("".concat("https://dev.srmapi.in/api/v1","/datesheet?class_id=")+t.class_id,t,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"publish",value:function(e,t,a,n){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/datesheetpublish/").concat(t,"?class_id=").concat(a),n,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"publishLater",value:function(e,t,a,n){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/datesheetpublish/").concat(t,"?class_id=").concat(a),n,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"put_subject",value:function(e,t,a,n){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/datesheet_data/").concat(t,"?class_id=").concat(a),n,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getStudentTestList",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/get_student_test_list"),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getExamTestSubList",value:function(e,t,a){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/exam_time_tables?class_id=")+t+"&test_id="+a,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),Uf=a(299),Yf=a.n(Uf),Hf=(a(341),a(213)),Wf=a.n(Hf),Gf=a(990),Vf=Object(dt.a)((function(e){var t;return t={loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},width:{width:"100%"},grid1:{},grid2:{textAlign:"center",paddingTop:"0"},grid3:{paddingLeft:"10px"},grid4:{borderRight:"0",borderBottomLeftRadius:"5px"},grid5:{padding:"10px",borderRight:"0",borderBottomRightRadius:"5px"},grid6:{borderRight:"0",borderBottomLeftRadius:"5px"},grid7:{borderLeft:"1px solid lightgrey"},grid8:{borderRight:"0",borderBottomRightRadius:"5px"},grid9:{textAlign:"right",paddingTop:"20px",paddingBottom:"20px"},grid10:{textAlign:"right",paddingTop:"20px",marginBottom:"50px"},floatLeft:{float:"left",height:"100%",display:"flex",alignItems:"center"},ArrowBackIosIcon:{float:"left",cursor:"pointer",fontSize:"18px",fontFamilt:"Avenir Book",opacity:"0.7"},tablestyle:{paddingTop:"10px",paddingBottom:"10px"},displayPadding:{paddingTop:"10px",paddingBottom:"50px"},span2:{float:"right",marginRight:"10px",marginTop:"2px",cursor:"pointer"},typographyStyle:{background:"white",padding:"0px",borderBottomLeftRadius:"5px"},borderLeft:{borderLeft:"1px solid lightgrey"},typography2:{background:"white",padding:"0px"},typography3:{whiteSpace:"pre-wrap",background:"white",padding:"0px",borderBottomRightRadius:"5px",fontSize:"14px",fontFamily:"Avenir Book"},typography4:{background:"white",padding:"0px",borderBottomLeftRadius:"5px"},typography5:{background:"white",padding:"0px"},typography6:{background:"white",padding:"0px",borderBottomRightRadius:"5px"},typography7:{background:"#7b72af",color:"#FFFFFF"},typography8:{background:"#7b72af",color:"#FFFFFF"},timetableheading:{fontSize:"1rem,",fontFamily:"Avenir Medium",fontWeight:"400",lineHeight:1.5},textField:{width:"222px",border:"1 px solid ",padding:"6px"},time:{fontSize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",lineHeight:"1.5"},headingtest:{fontSize:"18px",fontFamily:"Avenir Medium",lineHeight:"1.5",marginBottom:"0"},subjectname:{fontSize:"14px",fontFamily:"Avenir Book",fontWeight:"400",lineHeight:"1.5"},form:{"& > *":{margin:e.spacing(2),width:"25ch"},textAlign:"center",fontFamily:"Avenir Medium",fontSize:"1rem"},root:{flexGrow:1},paper:{textAlign:"",margin:"0",height:"auto",boxShadow:"none",padding:"10px",background:"#FFFFFF",borderBottom:"2px solid grey",borderTopRightRadius:"5px",borderTopLeftRadius:"5px"},headingList:{background:"#7b72af",padding:"5px",textAlign:"center",fontSize:"14px",fontFamily:"Avenir Medium",borderBottom:"1px solid lightgrey ",borderRight:"1px solid lightgrey",color:"#FFFFFF"},headingList1:{display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid lightgrey ",borderRight:"1px solid lightgrey",background:"#FFFFFF",color:"#000000"},dataList:{textAlign:"center",padding:"8px",border:"1px solid white",borderRight:"1px solid #707070"}},Object(C.a)(t,"textField",Object(C.a)({marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25%"},e.breakpoints.down("xs"),{width:"50%"})),Object(C.a)(t,"datepicker",Object(C.a)({width:"30%",padding:"0"},e.breakpoints.down("xs"),{width:"50%"})),Object(C.a)(t,"fieldStyle",{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}}),Object(C.a)(t,"margin",{"& .publishBtn":Object(C.a)({borderRadius:"3px",width:"inherit",margin:0,textTransform:"none"},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"}),"& .publishLaterBtn":{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}}),Object(C.a)(t,"empty",{textAlign:"center",padding:"20px",paddingLeft:"38px","& p":{fontSize:"0.8rem"}}),Object(C.a)(t,"model",{"& .MuiPaper-root":{minWidth:"390px"}}),Object(C.a)(t,"model_title",{"& h6":{fontSize:"14px",fontFamily:"Avenir Medium"}}),Object(C.a)(t,"modelStyle",{width:"100%","& input":{fontSize:"14px",fontFamily:"Avenir Book"}}),Object(C.a)(t,"textField",{"& textarea":{fontSize:"14px",fontFamily:"Avenir Book",padding:"10px"}}),t})),Kf=Object(Jt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,o=Object(na.a)(e,["children","classes","onClose"]);return r.a.createElement(os.a,Object.assign({disableTypography:!0,className:a.root},o),r.a.createElement(m.a,{variant:"h6"},t),n?r.a.createElement(W.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(X.a,null)):null)})),qf=Object(Jt.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Qe.a),Jf=Object(Jt.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Je.a),Qf=function(e){var t=e.testData,a=e.DateSheetData,o=e.datesheetDataTable,c=e.loading,i=e.classID,l=Vf(),s=localStorage.getItem("srmToken"),d=r.a.useState(!1),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(!1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(""),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(""),T=Object(S.a)(w,2),A=T[0],_=T[1],I=r.a.useState(""),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)(null),F=Object(S.a)(L,2),M=F[0],P=F[1],U=Object(n.useState)(null),Y=Object(S.a)(U,2),H=Y[0],G=Y[1],V=Object(n.useState)(null),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)(""),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)(null),te=Object(S.a)(ee,2),ne=te[0],re=te[1],oe=Object(n.useState)(!1),ce=Object(S.a)(oe,2),ie=(ce[0],ce[1]),le=Object(n.useState)(!1),se=Object(S.a)(le,2),de=se[0],me=se[1],ue=function(){g(!1)},pe=function(){var n=Object(Ca.a)(Sa.a.mark((function n(){return Sa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null!==a&&o.length>0)){n.next=7;break}return n.next=3,zf.publishLater(s,a.id,i,{status:"published"});case 3:200===n.sent.status?(_("Published Successfully !!"),j(!0),e.refeshDatesheet(t)):(k("Failed to publish"),x(!0)),n.next=9;break;case 7:k("Please Create A Time Table first"),x(!0);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ge=function(){null===a||o.length<=0?(k("Please Create A Time Table first"),x(!0)):me(!0)},fe=function(){var n=Object(Ca.a)(Sa.a.mark((function n(r){return Sa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,zf.publish(s,a.id,i,{status:"active",published_date:r});case 2:200===n.sent.status?(me(!1),_("Publish Later Successfully !!"),j(!0),e.refeshDatesheet(t)):(k("Failed to publish"),x(!0));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),be=function(){var a=Object(Ca.a)(Sa.a.mark((function a(){var n;return Sa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(g(!1),null!==M&&null!==H&&null!==q){a.next=6;break}k("Please fill entire details"),x(!0),a.next=17;break;case 6:if(!(q<=H)){a.next=11;break}k("End Time cannot be greater than Start Time or equal"),x(!0),a.next=17;break;case 11:return n={date:M.toLocaleDateString(),start_time:H.toLocaleTimeString(),end_time:q.toLocaleTimeString(),chapters:Z},console.log(n),a.next=15,zf.put_subject(s,ne.id,i,n);case 15:200===a.sent.status?(_("Date Sheet Updated Successfully !!"),j(!0),e.refeshDatesheet(t)):(k("Something went wrong!! Please try again."),x(!0));case 17:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),he=function(){x(!1)},xe=function(){j(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(qe.a,{onClose:ue,"aria-labelledby":"customized-dialog-title",open:p,className:l.model},r.a.createElement(Kf,{id:"customized-dialog-title",className:l.model_title,onClose:ue},D),r.a.createElement(qf,{dividers:!0},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:l.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"eventDate",label:"Exam Date",variant:"dialog",className:l.modelStyle,minDate:new Date,format:"yyyy-MM-dd",value:M,onChange:function(e){P(e)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))}}))),r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement(Gf.a,{margin:"normal",label:"Start Time",value:H,className:l.modelStyle,format:"HH:mm:ss",onClick:function(){return G(new Date)},onChange:function(e){G(e)},KeyboardButtonProps:{"aria-label":"change time"},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Wf.a,null)))}})),r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement(Gf.a,{margin:"normal",label:"End Time",format:"HH:mm:ss",className:l.modelStyle,value:q,onChange:function(e){J(e)},KeyboardButtonProps:{"aria-label":"change time"},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Wf.a,null)))}})),r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement(dr.a,{className:l.width},r.a.createElement(Xo.a,{id:"filled-helperText",label:"Chapters",className:l.textField,multiline:!0,rows:5,defaultValue:Z,onChange:function(e){$(e.target.value)}}))))),r.a.createElement(Jf,null,r.a.createElement(z.a,{autoFocus:!0,onClick:be,color:"primary",variant:"contained",disableRipple:!0,disableElevation:!0},"Save"))),r.a.createElement(en.a,{container:!0,className:l.grid1},r.a.createElement(en.a,{className:l.grid2,item:!0,xs:12},r.a.createElement("div",{className:l.floatLeft},r.a.createElement(gf.a,{className:l.ArrowBackIosIcon,fontSize:"small",onClick:e.sublistBacktick})),r.a.createElement(m.a,{className:l.headingtest},e.classDetail,"\xa0-\xa0",e.testData.name,"\xa0-\xa0DateSheet"))),null===a||c?c?r.a.createElement("div",{className:l.loading},r.a.createElement(kr.a,{color:"primary",size:30})):r.a.createElement("div",{className:l.empty},r.a.createElement(m.a,null,"No Date Sheet Available Yet!")):r.a.createElement("div",{className:l.displayPadding},o.length>0?o.map((function(e,t){return r.a.createElement(en.a,{container:!0,key:t+""+e.id},r.a.createElement(en.a,{container:!0,className:l.tablestyle,md:12,xs:12},r.a.createElement(en.a,{lg:12,sm:12,xs:12},r.a.createElement(m.a,{display:"",align:"center",gutterBottom:!0,className:l.paper},r.a.createElement("span",{className:l.subjectname},e.subject_planning_classes.name),"published"===a.status?r.a.createElement("span",null):r.a.createElement("span",{className:l.span2,onClick:function(){return function(e,t){if(t){ie(t);var a=new Date,n=new Date;if(null!==e.start_time){var r=e.start_time.split(":"),o=Object(S.a)(r,3),c=o[0],i=o[1],l=o[2];a.setHours(c),a.setMinutes(i),a.setSeconds(l)}if(null!==e.end_time){var s=e.end_time.split(":"),d=Object(S.a)(s,3),m=d[0],u=d[1],p=d[2];n.setHours(m),n.setMinutes(u),n.setSeconds(p)}P(null!==e.date?new Date(e.date):new Date),G(a),J(n)}R(e.subject_name),$(e.chapters),re(e),g(!0)}(e,!0)}}," ",r.a.createElement("img",{src:an.a,alt:"editLogo"})))),r.a.createElement(en.a,{items:!0,lg:12,sm:12,xs:12},r.a.createElement(en.a,{container:!0,lg:12,sm:12,xs:12},r.a.createElement(en.a,{item:!0,xs:2,className:l.headingList},r.a.createElement(m.a,{className:l.timetableheading},"Exam Date")),r.a.createElement(en.a,{item:!0,xs:2,className:l.headingList},r.a.createElement(m.a,{className:l.timetableheading},"Start Time")),r.a.createElement(en.a,{item:!0,xs:2,className:l.headingList},r.a.createElement(m.a,{className:l.timetableheading},"End Time")),r.a.createElement(en.a,{item:!0,xs:6,className:l.headingList},r.a.createElement(m.a,{className:l.timetableheading},"Chapters"))),r.a.createElement(en.a,{container:!0,lg:12,sm:12,xs:12},r.a.createElement(en.a,{container:!0,spacing:0},r.a.createElement(en.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"".concat(l.headingList1," ").concat(l.grid4)},r.a.createElement(m.a,{className:l.typography3},null!==e.date?e.date:"-")),r.a.createElement(en.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"".concat(l.headingList1," ").concat(l.borderLeft)},r.a.createElement(m.a,{className:l.typography3},null!==e.start_time?e.start_time:"-")),r.a.createElement(en.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"".concat(l.headingList1," ").concat(l.grid5)},r.a.createElement(m.a,{className:l.typography3},null!==e.end_time?e.end_time:"-")),r.a.createElement(en.a,{item:!0,lg:6,md:6,sm:6,xs:6,className:"".concat(l.headingList1," ").concat(l.grid5)},r.a.createElement(m.a,{className:l.typography3},null!==e.chapters?e.chapters:"-")))))))})):r.a.createElement("div",{className:l.empty},r.a.createElement(m.a,null,"No Date Sheet Available Yet!")),null!==a.status?"published"===a.status||"active"===a.status?null:r.a.createElement(en.a,{item:!0,xs:12,className:l.grid9},r.a.createElement(m.a,{className:l.margin},r.a.createElement(z.a,{id:"publishLaterBtn",variant:"contained",onClick:ge,className:"".concat(l.fieldStyle," ","publishBtn"," ","publishLaterBtn"),disableRipple:!0,disableElevation:!0},"Publish Later"),r.a.createElement(z.a,{variant:"contained",onClick:pe,className:"".concat(l.fieldStyle," ","publishBtn"),color:"primary",disableRipple:!0,disableElevation:!0},"Publish Now"))):r.a.createElement(en.a,{item:!0,xs:12,className:l.grid10},r.a.createElement(m.a,null,r.a.createElement(z.a,{id:"publishLaterBtn",variant:"contained",onClick:ge,className:"".concat(l.fieldStyle," ","publishBtn"," ","publishLaterBtn"),disableRipple:!0,disableElevation:!0},"Publish Later"),r.a.createElement(z.a,{variant:"contained",onClick:pe,className:"".concat(l.fieldStyle," ","publishBtn"),color:"primary",disableRipple:!0,disableElevation:!0},"Publish Now")))),r.a.createElement(ae.a,{open:h,autoHideDuration:5e3,onClose:he},r.a.createElement(ma.a,{onClose:he,severity:"error"},N)),r.a.createElement(ae.a,{open:y,autoHideDuration:5e3,onClose:xe},r.a.createElement(ma.a,{onClose:xe,severity:"success"},A)),de?r.a.createElement(tl,{open:de,handleClose:function(){me(!1)},handlePublishLater:fe}):""))},Xf=Object(dt.a)((function(e){return{categoryClass:{minWidth:"200px",fontSize:"14px",fontFamily:"Avenir Book","& span":{textAlign:"left"}},categorySelect:{textAlign:"left",fontSize:"14px",fontFamily:"Avenir Book"}}})),Zf=function(e){var t=e.data,a=e.loading,n=Xf();return r.a.createElement(Gr.a,{labelId:"item",id:"demo-simple-select-helper",value:e.value,onChange:function(t){e.onChange(t.target.value)},className:n.categoryClass},r.a.createElement(M.a,{className:n.categorySelect,value:e.initialValue,disabled:!0},e.initialValue),a?r.a.createElement(M.a,{disabled:!0,value:""},"Loading..."):null,a?null:t.map((function(t){return r.a.createElement(M.a,{value:t.id,className:n.categorySelect,onClick:function(){e.handleClassDetail(t.class_name)}},t.class_name)})))},$f=Object(dt.a)((function(e){var t;return t={container:{width:"100%",backgroundColor:e.palette.mainBackground,margin:"0",overflowY:"auto",padding:"20px",boxSizing:"border-box"},headingtest:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",lineHeight:"1.5"},card:{width:"30%"},paper:{padding:e.spacing(2),textAlign:"center",cursor:"pointer"},backarrowbutton:{color:"black",fontSize:"1.1rem"},root:{root:{flexGrow:1}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},header:{display:"inline block"},header_title:{fonTize:"1rem",fontFamily:"Avenir Book",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},Grid:{marginTop:"10px",marginBottom:"50px"},typography:{color:"#1C1C1E",font:"normal normal medium 18px/25px Avenir",letterSpacing:"1px"},textAlign:{textAlign:"center"},overflow:{marginBottom:"50px",overflow:"auto"},float:{float:"left"},CircularProgress:{position:"absolute",left:"50%",top:"50%",zIndex:"1"}},Object(C.a)(t,"typography",{fontSize:"14px",fontFamily:"Avenir Medium"}),Object(C.a)(t,"typographyStatus",{fontSize:"14px",fontFamily:"Avenir Book",letterSpacing:"1px",textTransform:"capitalize"}),t})),eb=function(e){var t=$f(),a=localStorage.getItem("srmToken"),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(null),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)([]),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)("Class"),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(""),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)(),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(!1),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(null),L=Object(S.a)(R,2),F=L[0],M=L[1],P=Object(n.useState)(!1),z=Object(S.a)(P,2),U=z[0],Y=z[1],H=Object(n.useState)([]),W=Object(S.a)(H,2),G=W[0],V=W[1],K=Object(n.useState)({}),q=Object(S.a)(K,2),J=q[0],Q=q[1],X=Object(n.useState)({}),Z=Object(S.a)(X,2),$=(Z[0],Z[1]),ee=Object(n.useState)(!0),te=Object(S.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),oe=Object(S.a)(re,2),ce=oe[0],ie=oe[1],le=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.next=3,zf.getClass(a);case 3:200===(t=e.sent).status&&(n=t.data.data,h(n),y(n[0].id),N(n[0].class_name),se(n[0].id)),ie(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!0),e.next=3,zf.getClassTermList(a,t);case 3:200===(n=e.sent).status&&(r=n.data.data,p(r),ne(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t,a){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t),"Class"!==t?se(t):p(null);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.next=3,zf.createDateSheet(a,{term_id:t.id,class_id:t.class_id,school_id:t.school_id});case 3:200===e.sent.status&&ue(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zf.getDatesheetList(a,t.id,t.class_id);case 2:200===(n=e.sent).status&&(console.log("datesheetrr",n),M(n.data.data.datesheet),V(n.data.data.datesheet_data_table)),Y(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){i||(le(),l(!0))}));return r.a.createElement("div",{className:t.container},B?r.a.createElement(Qf,{testID:T,testData:J,classID:v,classDetail:C,refeshDatesheet:ue,sublistBacktick:function(){D(!1)},DateSheetData:F,datesheetDataTable:G,loading:U}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},r.a.createElement(m.a,{className:t.header_title},"Term Selection"))),r.a.createElement("div",null,r.a.createElement(dr.a,{className:t.menu},r.a.createElement(Zf,{data:b,loading:ce,onChange:de,handleClassDetail:function(e){N(e)},initialValue:"Class",value:v}))),r.a.createElement(en.a,{container:!0,spacing:3,className:t.Grid},null===u||ae?ae?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):"No date sheet available yet!":u.map((function(e,a){return r.a.createElement(en.a,{item:!0,xs:6,sm:4,lg:3,xl:3,style:{padding:10}},r.a.createElement(Od.a,{className:t.paper,key:a,onClick:function(t){return function(e,t){e.preventDefault(),Q(t),A(t.id),null===t.datesheet_table?me(t):ue(t),$(t),D(!0)}(t,e)}},r.a.createElement("img",{style:{marginLeft:"-15px"},src:Yf.a,alt:"shhet",maxwidth:"59px",maxheight:"78px"}),r.a.createElement(m.a,{className:t.typography,style:{font:"normal normal medium 18px/25px Avenir",letterSpacing:"0px"}},e.name),r.a.createElement(m.a,{className:t.typographyStatus,style:{color:null!==e.datesheet_table?"published"!==e.datesheet_table.status?"#707070":"#7B72AF":"#707070"}},null!==e.datesheet_table?e.datesheet_table.status:"draft")))})))))},tb=Object(dt.a)((function(e){var t,a;return a={loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},width:{width:"100%"},grid1:{},grid2:{textAlign:"center",paddingTop:"0"},grid3:{paddingLeft:"12px"},grid4:{borderRight:"0",borderBottomLeftRadius:"5px"},grid5:{padding:"10px",borderRight:"0",borderBottomRightRadius:"5px"},grid6:{borderRight:"0",borderBottomLeftRadius:"5px"},grid7:{borderLeft:"1px solid lightgrey"},grid8:{borderRight:"0",borderBottomRightRadius:"5px"},grid9:{textAlign:"right",paddingTop:"20px",marginBottom:"50px"},grid10:{textAlign:"right",paddingTop:"20px",marginBottom:"50px"},floatLeft:{float:"left",height:"100%",display:"flex",alignItems:"center"},ArrowBackIosIcon:{float:"left",cursor:"pointer",fontSize:"18px",fontFamilt:"Avenir Book",opacity:"0.7"},tablestyle:{paddingTop:"10px",paddingBottom:"10px"},displayPadding:{paddingTop:"10px",paddingBottom:"50px"},spanStyle:{float:"right",marginRight:"10px",marginTop:"2px",cursor:"pointer"},span2:{float:"right",marginRight:"10px",marginTop:"2px",cursor:"pointer"},span3:{float:"right",marginRight:"10px",marginTop:"2px",cursor:"pointer"},span4:{float:"right",marginRight:"10px",marginTop:"2px",cursor:"pointer"},typographyStyle:{background:"white",padding:"0px",borderBottomLeftRadius:"5px"},borderLeft:{borderLeft:"1px solid lightgrey"},typography2:{background:"white",padding:"0px"},typography3:{whiteSpace:"pre-wrap",background:"white",padding:"0px",borderBottomRightRadius:"5px",fontSize:"14px",fontFamily:"Avenir Book"},typography4:{background:"white",padding:"0px",borderBottomLeftRadius:"5px"},typography5:{background:"white",padding:"0px"},typography6:{background:"white",padding:"0px",borderBottomRightRadius:"5px"},typography7:{background:"#7b72af",color:"#FFFFFF"},typography8:{background:"#7b72af",color:"#FFFFFF"},timetableheading:{fontSize:"1rem,",fontFamily:"Avenir Medium",fontWeight:"400",lineHeight:1.5},textField:{width:"222px",border:"1 px solid ",padding:"6px"},time:{fontSize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",lineHeight:"1.5"},headingtest:{fontSize:"16px",fontFamily:"Avenir Book",lineHeight:"1.5",marginBottom:"0"},subjectname:{fontSize:"14px",fontFamily:"Avenir Book",fontWeight:"400",lineHeight:"1.5"},form:{"& > *":{margin:e.spacing(2),width:"25ch"},textAlign:"center",fontFamily:"Avenir Medium",fontSize:"1rem"},root:{flexGrow:1},subcategory:(t={marginBottom:"15px",textAlign:"left"},Object(C.a)(t,"textAlign","center"),Object(C.a)(t,"borderRadius","5px"),Object(C.a)(t,"paddingLeft","12px"),Object(C.a)(t,"float","left"),Object(C.a)(t,"fonTize","1rem"),Object(C.a)(t,"fontFamily","Avenir Medium"),Object(C.a)(t,"fontWeight","400"),Object(C.a)(t,"lineHeight","1.5"),Object(C.a)(t,"width","100%"),Object(C.a)(t,"textTransform","uppercase"),Object(C.a)(t,"marginTop","25px"),t),paper:{textAlign:"",margin:"0",height:"auto",boxShadow:"none",padding:"10px",background:"#FFFFFF",borderBottom:"2px solid grey",borderTopRightRadius:"5px",borderTopLeftRadius:"5px"},headingList:{background:"#7b72af",padding:"5px",textAlign:"center",fontSize:"14px",fontFamily:"Avenir Medium",borderBottom:"1px solid lightgrey ",borderRight:"1px solid lightgrey",color:"#FFFFFF"},headingList1:{display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid lightgrey ",borderRight:"1px solid lightgrey",background:"#FFFFFF",color:"#000000"},dataList:{textAlign:"center",padding:"8px",border:"1px solid white",borderRight:"1px solid #707070"}},Object(C.a)(a,"textField",Object(C.a)({marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25%"},e.breakpoints.down("xs"),{width:"50%"})),Object(C.a)(a,"datepicker",Object(C.a)({width:"30%",padding:"0"},e.breakpoints.down("xs"),{width:"50%"})),Object(C.a)(a,"fieldStyle",{width:"100%",margin:"auto","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}}),Object(C.a)(a,"empty",{textAlign:"center",padding:"20px",paddingLeft:"38px","& p":{fontSize:"0.8rem"}}),Object(C.a)(a,"model_title",{"& h6":{fontSize:"14px",fontFamily:"Avenir Medium"}}),Object(C.a)(a,"modelStyle",{width:"100%","& input":{fontSize:"14px",fontFamily:"Avenir Book"}}),Object(C.a)(a,"textField",{"& textarea":{fontSize:"14px",fontFamily:"Avenir Book",padding:"10px"}}),a})),ab=(Object(Jt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,o=Object(na.a)(e,["children","classes","onClose"]);return r.a.createElement(os.a,Object.assign({disableTypography:!0,className:a.root},o),r.a.createElement(m.a,{variant:"h6"},t),n?r.a.createElement(W.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(X.a,null)):null)})),function(e){e.testData;var t=e.DateSheetData,a=e.datesheetDataTable,o=e.loading,c=(e.classID,tb());localStorage.getItem("srmToken");return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(en.a,{container:!0,className:c.grid1,spacing:3},r.a.createElement(en.a,{className:c.grid2,item:!0,xs:12},r.a.createElement("div",{className:c.floatLeft},r.a.createElement(gf.a,{className:c.ArrowBackIosIcon,fontSize:"small",onClick:e.sublistBacktick})),r.a.createElement(m.a,{className:c.headingtest},e.classDetail,"\xa0-\xa0",e.testData.name,"\xa0-\xa0DateSheet"))),null===t||o?o?r.a.createElement("div",{className:c.loading},r.a.createElement(kr.a,{color:"primary",size:30})):r.a.createElement("div",{className:c.empty},r.a.createElement(m.a,null,"No Date Sheet Available Yet!")):r.a.createElement("div",{className:c.displayPadding},a.length>0?a.map((function(e,t){return r.a.createElement(en.a,{container:!0,key:t+""+e.id},r.a.createElement(en.a,{container:!0,className:c.tablestyle,md:12,xs:12},r.a.createElement(en.a,{lg:12,sm:12,xs:12},r.a.createElement(m.a,{display:"",align:"center",gutterBottom:!0,className:c.paper},r.a.createElement("span",{className:c.subjectname},e.subject_planning_classes.name))),r.a.createElement(en.a,{items:!0,lg:12,sm:12,xs:12},r.a.createElement(en.a,{container:!0,lg:12,sm:12,xs:12},r.a.createElement(en.a,{item:!0,xs:2,className:c.headingList},r.a.createElement(m.a,{className:c.timetableheading},"Exam Date")),r.a.createElement(en.a,{item:!0,xs:2,className:c.headingList},r.a.createElement(m.a,{className:c.timetableheading},"Start Time")),r.a.createElement(en.a,{item:!0,xs:2,className:c.headingList},r.a.createElement(m.a,{className:c.timetableheading},"End Time")),r.a.createElement(en.a,{item:!0,xs:6,className:c.headingList},r.a.createElement(m.a,{className:c.timetableheading},"Chapters"))),r.a.createElement(en.a,{container:!0,lg:12,sm:12,xs:12},r.a.createElement(en.a,{container:!0,spacing:0},r.a.createElement(en.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"".concat(c.headingList1," ").concat(c.grid4)},r.a.createElement(m.a,{className:c.typography3},null!==e.date?e.date:"-")),r.a.createElement(en.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"".concat(c.headingList1," ").concat(c.borderLeft)},r.a.createElement(m.a,{className:c.typography3},null!==e.start_time?e.start_time:"-")),r.a.createElement(en.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"".concat(c.headingList1," ").concat(c.grid5)},r.a.createElement(m.a,{className:c.typography3},null!==e.end_time?e.end_time:"-")),r.a.createElement(en.a,{item:!0,lg:6,md:6,sm:6,xs:6,className:"".concat(c.headingList1," ").concat(c.grid5)},r.a.createElement(m.a,{className:c.typography3},null!==e.chapters?e.chapters:"-")))))))})):r.a.createElement("div",{className:c.empty},r.a.createElement(m.a,null,"No Date Sheet Available Yet!")))))}),nb=Object(dt.a)((function(e){return Object(C.a)({container:{width:"100%",backgroundColor:e.palette.mainBackground,margin:"0",overflowY:"auto",padding:"20px",boxSizing:"border-box"},headingtest:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",lineHeight:"1.5"},card:{width:"30%"},paper:{padding:e.spacing(2),textAlign:"center",cursor:"pointer"},backarrowbutton:{color:"black",fontSize:"1.1rem"},root:{root:{flexGrow:1}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},header:{display:"inline block"},header_title:{fonTize:"1rem",fontFamily:"Avenir Book",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},Grid:{marginTop:"10px",marginBottom:"50px"},typography:{color:"#1C1C1E",font:"normal normal medium 18px/25px Avenir",letterSpacing:"0px"},textAlign:{textAlign:"center"},overflow:{marginBottom:"50px",overflow:"auto"},float:{float:"left"},CircularProgress:{position:"absolute",left:"50%",top:"50%",zIndex:"1"}},"typography",{fontSize:"14px",fontFamily:"Avenir Medium"})})),rb=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=nb(),a=localStorage.getItem("srmToken");"parent"===e.selectedRole&&(a=localStorage.getItem("srmSelected_Child_token"));var o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(null),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)([]),f=Object(S.a)(g,2),b=(f[0],f[1],Object(n.useState)(null)),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(""),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(!1),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)(null),D=Object(S.a)(B,2),R=D[0],L=D[1],F=Object(n.useState)(!1),M=Object(S.a)(F,2),P=M[0],z=M[1],U=Object(n.useState)([]),Y=Object(S.a)(U,2),H=Y[0],W=Y[1],G=Object(n.useState)({}),V=Object(S.a)(G,2),K=V[0],q=V[1],J=Object(n.useState)({}),Q=Object(S.a)(J,2),X=(Q[0],Q[1]),Z=Object(n.useState)(!0),$=Object(S.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(S.a)(ae,2),re=(ne[0],ne[1],function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var n,r;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),e.next=3,zf.getClassTermList(a,t);case 3:200===(n=e.sent).status&&(r=n.data.data,p(r)),te(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oe=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,zf.getDatesheetList(a,t.id,t.class_id);case 3:200===(n=e.sent).status&&(console.log("datesheetrr",n),L(n.data.data.datesheet),W(n.data.data.datesheet_data_table)),z(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zf.fetchClasses(a);case 3:200===(t=e.sent).status&&"success"==t.data.status&&(n=t.data.data[0],E(n.id),O(n.class_name),re(n.id)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){i||(""!==x&&null!==x||ce(),l(!0))}));return r.a.createElement("div",{className:t.container},_?r.a.createElement(ab,{testID:k,testData:K,classID:x,classDetail:j,refeshDatesheet:oe,sublistBacktick:function(){I(!1)},DateSheetData:R,datesheetDataTable:H,loading:P}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},r.a.createElement(m.a,{className:t.header_title},"Term Selection"))),r.a.createElement(en.a,{container:!0,spacing:3,className:t.Grid},null===u||ee?ee?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):"No date sheet available yet!":u.map((function(e,a){return r.a.createElement(en.a,{item:!0,xs:6,sm:4,lg:3,xl:3,style:{padding:10}},r.a.createElement(Od.a,{className:t.paper,key:a,onClick:function(t){return function(e,t){e.preventDefault(),q(t),w(t.id),oe(t),X(t),I(!0)}(t,e)}},r.a.createElement("img",{style:{marginLeft:"-15px"},src:Yf.a,alt:"shhet",maxwidth:"59px",maxheight:"78px"}),r.a.createElement(m.a,{className:t.typography,style:{color:"#1C1C1E",font:"normal normal medium 18px/25px Avenir",letterSpacing:"0px"}},e.name)))})))))})),ob=Object(I.a)((function(e){return{container:{width:"100%",backgroundColor:e.palette.mainBackground,height:"100%",marign:"0",padding:"0",overflow:"auto"}}})),cb=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=ob(),a=e.selectedRole;return r.a.createElement("div",{className:t.container},"teacher"===a||"admin"===a?r.a.createElement(eb,null):"","student"===a||"parent"===a?r.a.createElement(rb,null):"")})),ib=a(556),lb=a.n(ib),sb=Object(dt.a)((function(e){return{typography:{marginLeft:0,marginTop:"5%",cursor:"pointer",textAlign:"right"},root:{marginLeft:"13px",marginTop:"15px",marginRight:"13px",justifyContent:"center"},headingContainer:{display:"flex",alignItems:"center","& div":{margin:"3px"},width:"100%"},headingText:{fontWeight:900,fontSize:"0.875rem",fontStyle:"normal",color:e.palette.common.bastille,width:"70%"},conversationContainer:{marginTop:"10px"},inputContainer:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",flexDirection:"row",width:"100%",padding:5,display:"flex"},smiley:{height:16,width:void 0,cursor:"pointer"},emojiContainer:{height:"100%",justifyContent:"center",flexDirection:"column",marginTop:8,alignItems:"flex-end",alignContent:"flex-end",textAlign:"right",width:"10%"},inputBorder:{width:"90%"},title:{width:"80%"},addTaskIcon:{float:"right",cursor:"pointer",bottom:0},newGroup:{width:"30%",verticalAlign:"middle",justifyContent:"center",textAlign:"right",color:e.palette.primary.main},borderBottom:{borderBottom:"1px solid ".concat(e.palette.grey[400]),width:"100%",minHeight:50},closeBtn:{backgroundColor:e.palette.background.default,float:"right",position:"absolute",right:10,borderRadius:"50%",padding:2,cursor:"pointer"},nextBtn:{float:"right",position:"absolute",right:15,cursor:"pointer",color:e.palette.primary.main,flexDirection:"row",justifyContent:"center"},nextIcon:Object(C.a)({backgroundColor:e.palette.primary.main,borderRadius:"50%",padding:0,fontSize:10,cursor:"pointer",float:"left",width:20,color:e.palette.common.white,boxShadow:"0px 0px 0px 0px #fff",height:20},"color","#fff"),nextText:{marginLeft:5,color:e.palette.primary.main},groupIconContainer:{height:35,width:35,borderRadius:"50%",padding:5,justifyContent:"center",verticalAlign:"middle",background:e.palette.primary.main},groupIcon:{height:29,width:29,top:"23%",left:"4%",position:"absolute"},inputBoxContainer:{justifyContent:"center",verticalAlign:"middle",marginLeft:10,marginTop:"3%"}}})),db=function(e){var t=e.selectedUsers,a=e.close,o=sb(),c=Object(n.useState)([]),i=Object(S.a)(c,2),l=i[0],s=i[1],d=Object(n.useState)(""),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!1),b=Object(S.a)(f,2),h=b[0],x=b[1];Object(n.useEffect)((function(){s(t)}),[t]);var E=function(e){var a=t,n=a.indexOf(e);a.splice(n,1),s(Object(Na.a)(a))},v=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n,r,o;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("srmToken"),n=[],l.map((function(e){n.push(e.id)})),r={name:p,members:n,message:""},console.log(JSON.stringify(r)),x(!0),e.next=9,Ra.createGroup(r,t);case 9:o=e.sent,x(!1),200===o.status&&a(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.root},r.a.createElement(Y.a,{className:o.inputContainer,alignItems:"flex-start"},r.a.createElement("div",{className:o.groupIconContainer},r.a.createElement("img",{src:$t.a,alt:"Group",className:o.groupIcon})),r.a.createElement(en.a,{className:o.inputBoxContainer},r.a.createElement(Qt.a,{id:"groupName",placeholder:"Enter Group Name",name:"groupName",value:p,onChange:function(e){return g(e.target.value)},className:o.inputBorder,required:!0,disableUnderline:!0})),r.a.createElement(m.a,{onClick:v,className:"".concat(o.inputBoxContainer," ").concat(o.typography)},r.a.createElement("img",{src:lb.a,className:o.nextIcon}),r.a.createElement("span",{className:o.nextText}," ",h?r.a.createElement("i",{className:"fa fa-spin fa-spinner"}):"Done"))),r.a.createElement(en.a,{container:!0,className:o.conversationContainer},t.map((function(e){return r.a.createElement(en.a,{xs:4},r.a.createElement(Aa,{user:e,removeContact:E}))})))))},mb=a(300),ub=Object(ka.a)((function(e){return{badge:{backgroundColor:e.palette.primary.main,color:e.palette.grey[200],padding:10,boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:3,width:"100%",height:"100%",borderRadius:"50%",fontSize:20,content:'"+"'},borderRadius:"50%"}}}))(V.a),pb=Object(dt.a)((function(e){var t;return t={root:{marginLeft:"13px",marginTop:"15px",marginRight:"13px"},headingContainer:{display:"flex",alignItems:"center","& div":{margin:"3px"},width:"100%"},headingText:{fontWeight:900,fontSize:"0.875rem",fontStyle:"normal",color:e.palette.common.bastille,width:"70%"},conversationContainer:{marginTop:"10px"},inputContainer:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",flexDirection:"row",width:"100%",padding:5},smiley:{height:16,width:void 0,cursor:"pointer"},emojiContainer:{height:"100%",justifyContent:"center",flexDirection:"column",marginTop:8,alignItems:"flex-end",alignContent:"flex-end",textAlign:"right",width:"10%"},inputBorder:{width:"90%"},title:{width:"80%"},addTaskIcon:{float:"right",cursor:"pointer",bottom:0},newGroup:{width:"30%",verticalAlign:"middle",justifyContent:"center",textAlign:"right",color:e.palette.primary.main},borderBottom:{borderBottom:"1px solid ".concat(e.palette.grey[400]),width:"100%",minHeight:50},closeBtn:{backgroundColor:e.palette.background.default,float:"right",position:"absolute",right:10,borderRadius:"50%",padding:2,cursor:"pointer"},nextBtn:{float:"right",position:"absolute",right:15,cursor:"pointer",color:e.palette.primary.main,flexDirection:"row",justifyContent:"center"},nextIcon:{backgroundColor:e.palette.primary.main,borderRadius:"50%",padding:0,fontSize:10,cursor:"pointer",float:"left",width:25,marginTop:-10,color:e.palette.common.white,boxShadow:"0px 0px 0px 0px #fff",height:25},nextText:{marginTop:5},groupUser:{flexDirection:"row"},userContainer:{display:"flex",alignItems:"center",flexDirection:"row",overflow:"auto","-ms-overflow-style":"none",scrollbarWidth:"none","& ::-webkit-scrollbar":{display:"none"}}},Object(C.a)(t,"inputContainer",{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",flexDirection:"row",width:"100%",padding:5,display:"flex"}),Object(C.a)(t,"smiley",{height:16,width:void 0,cursor:"pointer"}),Object(C.a)(t,"emojiContainer",{height:"100%",justifyContent:"center",flexDirection:"column",marginTop:8,alignItems:"flex-end",alignContent:"flex-end",textAlign:"right",width:"10%"}),Object(C.a)(t,"inputBorder",{width:"90%"}),Object(C.a)(t,"title",{width:"80%"}),Object(C.a)(t,"addTaskIcon",{float:"right",cursor:"pointer",bottom:0}),Object(C.a)(t,"newGroup",{width:"30%",verticalAlign:"middle",justifyContent:"center",textAlign:"right",color:e.palette.primary.main}),Object(C.a)(t,"borderBottom",{borderBottom:"1px solid ".concat(e.palette.grey[400]),width:"100%",minHeight:50}),Object(C.a)(t,"closeBtn",{backgroundColor:e.palette.background.default,float:"right",position:"absolute",right:10,borderRadius:"50%",padding:2,cursor:"pointer"}),Object(C.a)(t,"nextBtn",{float:"right",position:"absolute",right:15,top:20,cursor:"pointer",color:e.palette.primary.main,flexDirection:"row",justifyContent:"center"}),Object(C.a)(t,"nextIcon",Object(C.a)({backgroundColor:e.palette.primary.main,borderRadius:"50%",padding:0,fontSize:10,cursor:"pointer",float:"left",width:25,color:e.palette.common.white,boxShadow:"0px 0px 0px 0px #fff",height:25},"color","#fff")),Object(C.a)(t,"nextText",{marginLeft:5,color:e.palette.primary.main}),Object(C.a)(t,"groupIconContainer",{height:35,width:35,borderRadius:"50%",justifyContent:"center",verticalAlign:"middle",background:e.palette.primary.main,cursor:"pointer"}),Object(C.a)(t,"groupIcon",{height:29,width:29,top:"20%",left:"1.9%",position:"absolute"}),Object(C.a)(t,"inputBoxContainer",{justifyContent:"center",verticalAlign:"middle",marginLeft:10,marginTop:"1%"}),Object(C.a)(t,"fileInput",{opacity:0,position:"absolute"}),t})),gb=Object(i.c)((function(e){return{userInfo:e.auth.userInfo,token:e.auth.token,isAuthenticated:null!==e.auth.token,selectedRole:e.auth.selectedRole,changeRole:e.auth.changeRole,notificationCount:e.notification.notificationCount,group:e.Chat.group}}),(function(e){return{onChangeRoleStart:function(){return e({type:"AUTH_INITIATE_ROLE_SELECTION"})}}}))((function(e){var t=pb(),a=Object(n.useState)(""),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)([]),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(!0),E=Object(S.a)(x,2),v=(E[0],E[1]),y=Object(n.useState)(!1),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(s.g)(),_=Object(n.useState)(null),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(null),L=Object(S.a)(R,2),F=L[0],M=L[1],z=Object(n.useRef)();Object(n.useEffect)((function(){console.log(e.group);var t=e.group;void 0==t?A.push("home"):(h(t.members),p(!0),T(t.group.name))}),[e.group]);var U=function(e){var t=b,a=t.indexOf(e);t.splice(a,1),h(Object(Na.a)(t))};if(O)return r.a.createElement(db,{close:function(){C(!1),v(!1),h([]),i(""),A.push("chat/"+e.group.id)},selectedUsers:b});var H=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("srmToken"),n=[],b.map((function(e){n.push(e.id)})),(r=new FormData).append("name",w),r.append("members",JSON.stringify(n)),r.append("chatid",e.group.id),r.append("groupid",e.group.group.id),r.append("displayImage",B),t.next=12,Ra.updateGroup(r,a);case 12:200===t.sent.status&&(mb.b.success("Group Updated"),A.push("chat/"+e.group.id)),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0.response||(t.t0.request?console.log(t.t0.request):console.log("Error",t.t0.message)),console.log(t.t0.config);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();if(void 0==e.group)return r.a.createElement("div",null);var W=encodeURI(e.group.group.image);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},r.a.createElement(Y.a,{className:t.inputContainer,alignItems:"flex-start"},r.a.createElement(ub,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},onClick:function(){z.current.click()},className:t.groupIconContainer,variant:e.group.group.status="dot"},r.a.createElement(P.a,{alt:e.group.group.name,src:null!=F?F:null!=W?"".concat("https://dev.srmapi.in","/").concat(W):$t.a})),r.a.createElement("input",{accept:"image/x-png,image/gif,image/jpeg",className:t.fileInput,id:"groupImage",type:"file",onChange:function(e){console.log(e.target.files[0]);var t=e.target.files[0];D(e.target.files[0]);var a=new FileReader,n=a.readAsDataURL(t);a.onloadend=function(e){M(a.result)},console.log(n),e.target.value=null},ref:z}),r.a.createElement(en.a,{className:t.inputBoxContainer},r.a.createElement(Qt.a,{id:"groupName",placeholder:"Enter Group Name",name:"groupName",value:w,onChange:function(e){return T(e.target.value)},className:t.inputBorder,required:!0,disableUnderline:!0})),r.a.createElement("div",{onClick:H,className:t.nextBtn},r.a.createElement(m.a,null,r.a.createElement("div",{className:t.nextIcon},r.a.createElement(Ia.a,null)),r.a.createElement("span",{className:t.nextText},"Update")))),r.a.createElement("div",{className:[t.headingContainer,t.groupUser,t.borderBottom].join(" ")},r.a.createElement("div",{className:t.userContainer},b.map((function(e){return r.a.createElement(Aa,{user:e,removeContact:U})})))),r.a.createElement("div",{className:t.conversationContainer},r.a.createElement(Y.a,{className:t.inputContainer,alignItems:"flex-start"},r.a.createElement(Qt.a,{id:"search",placeholder:"Search - Name/User ID",name:"search",value:c,onChange:function(e){return i(e.target.value)},className:t.inputBorder,required:!0,autoComplete:!1,onFocus:function(){return p(!0)},disableUnderline:!0}),r.a.createElement(m.a,{className:t.emojiContainer},r.a.createElement("img",{onClick:function(){return p(!1)},src:u?Qa.a:Da.a,className:t.smiley}))),r.a.createElement(ja,{updateGroup:!0,showContact:!0,newGroup:!0,selectContact:function(e){var t=b;t.filter((function(t){return t.id==e.id})).length>0||(t.push(e),h(Object(Na.a)(t)))},filter:c}),r.a.createElement(mb.a,null))))})),fb=Object(I.a)((function(e){return{dateTimeContainer:{minWidth:"200px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},span:{fontFamily:"Avenir medium",fontSize:14}}})),bb=Object(i.c)((function(e){var t=e.Attendence,a=t.get_week_filter_using_all,n=void 0===a?[]:a;return{loading:t.publishWeeklyTimeTableLoading,data:n}}),{publishWeeklyTimeTable:Wp,getWeekFilterUsingALL:Hp})((function(e){e.loading;var t=e.class_id,a=fb();console.log("class_id",t);var n=function(){e.handleClose(),e.getWeekFilterUsingALL(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:e.open,onClose:e.handleClose,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:a.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{className:a.dialogContent,container:!0,justify:"space-around"},r.a.createElement("span",{className:a.span},"Publish Now?"))))),r.a.createElement(Je.a,{classes:{root:a.dialogActionsContainer}},r.a.createElement(z.a,{color:"primary",variant:"outlined",onClick:e.handleClose,className:a.button},"Cancel"),r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:a.button,onClick:function(){e.publishWeeklyTimeTable({status:"published"},t,n)}},"Publish"))))})),hb=Object(I.a)((function(e){return{dateTimeContainer:{minWidth:"200px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"},errorColor:{color:"red"}}})),xb=Object(i.c)((function(e){var t=e.Attendence,a=t.get_week_filter_using_all,n=void 0===a?[]:a;return{loading:t.publishWeeklyTimeTableLoading,data:n}}),{publishLtrWeeklyTimeTable:function(e,t,a,n){return{type:ba,subtypes:Pp.PUBLISH_WEEKLY_TIME_TABLE,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/week_time_table_publish","?class_id=").concat(e),t)}(e,t)}}},getWeekFilterUsingALL:Hp})((function(e){e.loading;var t=e.class_id,a=hb(),o=e.open,c=e.handleClose,i=Object(n.useState)(null),l=Object(S.a)(i,2),s=l[0],d=l[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1];console.log("class_id",t);var b=function(){e.handleClose(),e.getWeekFilterUsingALL(t)},h=function(e){ua.open("",!1,"Some error occured")};Object(n.useEffect)((function(){console.log("selectedDate",N),f(!1)}),[s]);var x=s||new Date,E=new Date(x),v=E.getHours(),y=E.getMinutes(),j=E.getSeconds(),O=E.getDate(),C=E.getMonth();O=(O<10?"0":"")+O;var N=E.getFullYear()+"-"+(C=((C=parseInt(C)+1)<10?"0":"")+C)+"-"+O+" "+(v=(v<10?"0":"")+v)+":"+(y=(y<10?"0":"")+y)+":"+(j=(j<10?"0":"")+j);return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:o,onClose:c,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:a.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,justify:"space-around"},r.a.createElement(Ai.a,{variant:"dialog",value:s,onChange:function(e){d(e)},label:"Publish Date and Time ",minDate:new Date,format:"yyyy/MM/dd hh:mm a",InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))}})))),g?r.a.createElement(mr.a,{className:a.margin,pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(a.errorColor)},g))):""),r.a.createElement(Je.a,{classes:{root:a.dialogActionsContainer}},r.a.createElement(z.a,{color:"primary",variant:"outlined",onClick:c,className:a.button},"Cancel"),r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:a.button,onClick:function(){if(s){var a={status:"active",published_date:N};e.publishLtrWeeklyTimeTable(t,a,b,h)}else f("Please select date")}},"Publish"))))})),Eb=Object(I.a)((function(e){var t;return{textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},publishBtns:{textAlign:"right",justifyContent:"right","& .MuiButton-root":{textTransform:"capitalize"}},sideMargins:{marginLeft:"20px"},margin:(t={marginTop:"30px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t)}}));function vb(e){var t=e.class_id,a=Eb(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(!1),d=Object(S.a)(s,2),m=d[0],u=d[1];console.log("class_id",t);var p=function(){u(!0)},g=function(){l(!0)};return r.a.createElement("div",null,i?r.a.createElement(bb,{class_id:t,open:g,handleClose:function(){l(!1)}}):"",m?r.a.createElement(xb,{class_id:t,open:p,handleClose:function(){u(!1)}}):"",r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{container:!0,className:a.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:9,xs:12,className:a.publishBtns},r.a.createElement(z.a,{id:"publishLaterBtn",variant:"contained",onClick:p,className:"".concat(a.fieldStyle," ","publishBtn"," ","publishLaterBtn"),disableElevation:!0},"Publish Later"),r.a.createElement(z.a,{id:"publishBtn",variant:"contained",onClick:g,className:"".concat(a.fieldStyle," ","publishBtn"),color:"primary",type:"submit",disableElevation:!0},"Publish Now")),r.a.createElement(en.a,{item:!0,sm:3,xs:12,className:a.textAlignLeft},r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))}var yb=Object(dt.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),jb=function(){var e=yb();return r.a.createElement("div",{className:e.root},r.a.createElement(kr.a,null))},Ob=Object(I.a)((function(e){return{dateTimeContainer:{"& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"flex-end",marginTop:"10px",marginRight:0,marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},textField:{width:"100%",display:"flex",flexDirection:"column"},dialog:{},radio:{display:"flex",flexDirection:"row"},label:{color:"#7B72AF !important","& label":{color:"#7B72AF !important"}},span:{fontFamily:"Avenir medium",fontSize:14},dialogContent:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},icon:{position:"absolute",right:0,alignItems:"flex-end",justifyContent:"flex-end"},modelStyle:{width:"100%","& input":{fontSize:"14px",fontFamily:"Avenir medium"}}}}));var Sb=Object(i.c)((function(e){var t=e.Attendence,a=t.weekly_timetable_subjects,n=void 0===a?[]:a,r=t.weeklyTimeTableSubjectsLoading,o=t.add_subjects_or_time,c=void 0===o?[]:o,i=t.addSubjectsOrTimeLoading,l=t.get_week_filter_using_all;return{data:n,loading:r,addSubjectsOrTimeData:c,AddSubjectsLoading:i,TimeTable:void 0===l?[]:l}}),{weeklyTimeTableSubject:function(e,t,a,n){return{type:ba,subtypes:Pp.GET_WEEKLY_TIMETABLE_SUBJECTS,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e){return ga.get("".concat("/week_time_table","?class_id=").concat(e,"&get_by=subject"))}(e)}}},addSubjectsOrTime:function(e,t,a,n){return{type:ba,subtypes:Pp.POST_ADD_SUBJECTS_OR_TIME,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.post("".concat("/week_time_table","?class_id=").concat(t),e)}(e,t)}}},getWeekFilterUsingALL:Hp,updateDataSubjectId:function(e,t,a,n,r){return{type:ba,subtypes:Pp.POST_ADD_SUBJECTS_OR_TIME,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.put("".concat("/week_time_table","/").concat(t,"?class_id=").concat(a),e)}(e,t,a)}}}})((function(e){e.loading;var t=e.AddSubjectsLoading,a=e.tableId,o=e.class_id,c=e.schoolId,i=e.edit,l=e.open,s=Ob(),d=Object(n.useState)(new Date("2020-08-18T08:00:00")),m=Object(S.a)(d,2),u=m[0],p=m[1],g=Object(n.useState)(new Date("2020-08-18T08:30:00")),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)("Break"),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)("Break"),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)("no lecture"),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)("no lecture"),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)("no lecture"),L=Object(S.a)(R,2),F=L[0],P=L[1],U=Object(n.useState)("no lecture"),Y=Object(S.a)(U,2),H=Y[0],G=Y[1],V=Object(n.useState)("no lecture"),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)("no lecture"),Z=Object(S.a)(Q,2),$=Z[0],ee=Z[1],te=e.data?e.data:[];Object(n.useEffect)((function(){o&&l&&e.weeklyTimeTableSubject(o)}),[l]),Object(n.useEffect)((function(){o&&i&&e.weeklyTimeTableSubject(o)}),[i]),Object(n.useEffect)((function(){if(i){var t=new Date("2020-08-18T"+e.updateStartTime+":00"),a=new Date("2020-08-18T"+e.updateEndTime+":00");p(t),h(a),y(e.updateRadioValue),console.log("breakStatus",e.breakStatus),"BreakFast"===e.breakStatus?N(e.updateBreakfast):N("Break"),A(e.updateMonday?e.updateMonday:"no lecture"),D(e.updateTuesday?e.updateTuesday:"no lecture"),P(e.updateWednesday?e.updateWednesday:"no lecture"),G(e.updateThursday?e.updateThursday:"no lecture"),J(e.updateFriday?e.updateFriday:"no lecture"),ee(e.updateSaturday?e.updateSaturday:"no lecture")}}),[i]);var ae=function(){i?ua.open("",!0,"Week Timetable updated successfully"):ua.open("",!0,"Week Timetable saved successfully"),e.close(),p(new Date("2020-08-18T08:00:00")),h(new Date("2020-08-18T08:30:00")),y("Break"),A("no lecture"),D("no lecture"),P("no lecture"),G("no lecture"),J("no lecture"),ee("no lecture"),e.getWeekFilterUsingALL(o)},ne=function(e){console.log("error",e),e&&ua.open("",!1,e.message)},re=function(){console.log("starttime",u,b);var t=u,n=t.getHours(),r=t.getMinutes(),i=(n=(n<10?"0":"")+n)+":"+(r=(r<10?"0":"")+r),l=b,s=l.getHours(),d=l.getMinutes(),m=(s=(s<10?"0":"")+s)+":"+(d=(d<10?"0":"")+d),p={start_time:i,end_time:m,class_id:o,school_id:c,timetable_status:v,subject_id:["".concat("no lecture"===T?"":T),"".concat("no lecture"===B?"":B),"".concat("no lecture"===F?"":F),"".concat("no lecture"===H?"":H),"".concat("no lecture"===q?"":q),"".concat("no lecture"===$?"":$)]},g="Lecture"===v?p:{start_time:i,end_time:m,class_id:o,school_id:c,timetable_status:v,break_status:C};e.edit?e.updateDataSubjectId(g,a,o,ae,ne):e.addSubjectsOrTime(g,o,ae,ne)},oe=Object(Jt.a)({root:{"&$checked":{color:"#7B72AF"}},checked:{}})((function(e){return r.a.createElement(Sp.a,Object.assign({color:"default"},e))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:e.open,maxWidth:"xs",fullWidth:!0},r.a.createElement(Qe.a,{className:s.dialog},r.a.createElement("div",{className:s.dialogContent},r.a.createElement("span",{className:s.span},e.name," Weekly Time Table"),r.a.createElement("div",{onClick:function(){return e.close()},className:s.icon},r.a.createElement(W.a,null,r.a.createElement(X.a,{fontSize:"small"})))),r.a.createElement("div",{className:s.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement("form",{className:s.textField,noValidate:!0,autoComplete:"off"},r.a.createElement(Gf.a,{margin:"normal",label:"Start Time",value:u,className:s.label,format:"HH:mm:ss",onClick:function(){return p(new Date)},onChange:function(e){p(e),console.log("time",e)},KeyboardButtonProps:{"aria-label":"change time"},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Wf.a,null)))}}),r.a.createElement(Gf.a,{margin:"normal",label:"End Time",value:b,className:s.label,format:"HH:mm:ss",onClick:function(){return h(new Date)},onChange:function(e){console.log("time",e),h(e)},KeyboardButtonProps:{"aria-label":"change time"},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Wf.a,null)))}}),r.a.createElement(dr.a,{component:"fieldset"},r.a.createElement(jp.a,{className:s.radio,"aria-label":"radiotype",name:"radiotype1",value:v,onChange:function(e){y(e.target.value),console.log(e.target.value)}},r.a.createElement(Op.a,{checked:"Lecture"===v,value:"Lecture",control:r.a.createElement(oe,null),label:"Lecture"}),r.a.createElement(Op.a,{checked:"Break"===v,value:"Break",control:r.a.createElement(oe,null),label:"Break"}))),"Break"===v?r.a.createElement(dr.a,{className:s.formControl},r.a.createElement(Wr.a,{className:s.label,id:"demo-simple-select-label"},"Break"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,onChange:function(e){N(e.target.value)}},r.a.createElement(M.a,{value:"Break"},"Break"),r.a.createElement(M.a,{value:"BreakFast"},"Breakfast"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(dr.a,{className:s.formControl},r.a.createElement(Wr.a,{className:s.label,id:"demo-simple-select-label"},"Monday"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"monday-simple-select",value:T,onChange:function(e){A(e.target.value)}},r.a.createElement(M.a,{value:"no lecture"},"No Lecture"),te.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)})))),r.a.createElement(dr.a,{className:s.formControl},r.a.createElement(Wr.a,{className:s.label,id:"demo-simple-select-label"},"Tuesday"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"tuesday-simple-select",value:B,onChange:function(e){D(e.target.value)}},r.a.createElement(M.a,{value:"no lecture"},"No Lecture"),te.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)})))),r.a.createElement(dr.a,{className:s.formControl},r.a.createElement(Wr.a,{className:s.label,id:"demo-simple-select-label"},"Wednesday"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"wednesday-simple-select",value:F,onChange:function(e){P(e.target.value)}},r.a.createElement(M.a,{value:"no lecture"},"No Lecture"),te.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)})))),r.a.createElement(dr.a,{className:s.formControl},r.a.createElement(Wr.a,{className:s.label,id:"demo-simple-select-label"},"Thursday"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"thursday-simple-select",value:H,onChange:function(e){G(e.target.value)}},r.a.createElement(M.a,{value:"no lecture"},"No Lecture"),te.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)})))),r.a.createElement(dr.a,{className:s.formControl},r.a.createElement(Wr.a,{className:s.label,id:"demo-simple-select-label"},"Friday"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"friday-simple-select",value:q,onChange:function(e){J(e.target.value)}},r.a.createElement(M.a,{value:"no lecture"},"No Lecture"),te.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)})))),r.a.createElement(dr.a,{className:s.formControl},r.a.createElement(Wr.a,{className:s.label,id:"demo-simple-select-label"},"Saturday"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"saturday-simple-select",value:$,onChange:function(e){ee(e.target.value)}},r.a.createElement(M.a,{value:"no lecture"},"No Lecture"),te.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)})))))))),i?r.a.createElement(Je.a,{classes:{root:s.dialogActionsContainer}},t?r.a.createElement(jb,null):r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:s.button,onClick:re},"Update")):r.a.createElement(Je.a,{classes:{root:s.dialogActionsContainer}},t?r.a.createElement(jb,null):r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:s.button,onClick:re},"Save")))))})),Cb=Object(I.a)((function(){return{table:{width:"100%",borderTopLeftRadius:0,borderTopRightRadius:0},container:{marginTop:"15px",paddingBottom:"40px"},headingList:{background:"#7b72af",padding:"5px",textAlign:"center",font:"normal normal medium 14px/19px Avenir",borderBottom:"1px solid lightgrey ",borderRight:"1px solid lightgrey",color:"#FFFFFF"},timetableheading:{fontSize:"0.5rem,",fontFamily:"Avenir Medium",fontWeight:"400",lineHeight:1.5},tableHead:{fontFamily:"Avenir",fontSize:14,fontWeight:100,padding:"10px",backgroundColor:"#7B72AF",borderLeft:"1px solid white",color:"white"},tableHeadCell1:{fontFamily:"Avenir",fontSize:14,fontWeight:100,textAlign:"center",padding:"10px",backgroundColor:"#7B72AF",color:"white"},tableData:{fontFamily:"Avenir",fontSize:14,padding:"10px",borderLeft:"1px solid rgb(200, 200, 200)",cursor:"pointer"},tableDataCell1:{fontFamily:"Avenir medium",fontSize:14,display:"flex",justifyContent:"space-between",alignItems:"center"},paper:{fontSize:14,fontFamily:"Avenir",fontWeight:"400",lineHeight:"1.5",marginRight:"5%"},subjectname:{fontSize:14,fontFamily:"Avenir",fontWeight:"400",lineHeight:"1.5"},date:{fontSize:14,fontFamily:"Avenir",fontWeight:"400",lineHeight:"1.5",color:"rgb(150, 150, 150)",position:"absolute",right:"35px",marginTop:"-41px"},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},draft:{color:"rgb(150, 150, 150)",fontSize:"12px",fontFamily:"Avenir medium"},message:{fontFamily:"Avenir",fontSize:14,textAlign:"center",marginTop:"20px"},CircularProgress:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",marginRight:"25px",marginBottom:"20px"},imgDiv_del:{transform:"translateY(5px)",cursor:"pointer",color:"#AEAEB2",margin:"0 0 0 5px",height:"23px"},tableCell00:{textAlign:"center",display:"flex",justifyContent:"center"},tableTitle:{display:"flex",borderBottom:"1px solid grey",borderTopRightRadius:"5px",borderTopLeftRadius:"5px",justifyContent:"center",backgroundColor:"white",padding:"20px"}}}));var Nb=Object(i.c)((function(e){var t=e.Attendence,a=e.auth,n=t.get_week_filter_using_all,r=void 0===n?[]:n,o=t.publishWeeklyTimeTableLoading,c=t.getWeekFilterUsingAllLoading,i=t.classesLoading,l=t.deleteRowWeeklyTimeTableLoading;return{data:r,loading:c,classLoading:i,selectedRole:a.selectedRole,publishLoading:o,deleteRowLoading:l}}),{publishWeeklyTimeTable:Wp,getWeekFilterUsingALL:Hp,deleteRowWeeklyTimeTable:function(e,t,a){return{type:ba,subtypes:Pp.DELETE_ROW_WEEKLY_TIME_TABLE,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.remove("".concat("/week_time_table","/").concat(e))}(e)}}}})((function(e){var t=e.selectedRole,a=e.class_id,o=e.data,c=void 0===o?{}:o,i=e.loading,l=e.classLoading,s=e.publishLoading,d=e.deleteRowLoading,u=c[a]||{},p=u.status;console.log("tableData",u),e.status(p),console.log("status",p);var g=u.data||[],f=g.length;e.length(f);var b=Cb(),h=Object(n.useState)(!1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(""),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(""),R=Object(S.a)(D,2),L=R[0],F=R[1],M=Object(n.useState)(""),P=Object(S.a)(M,2),z=P[0],U=P[1],Y=Object(n.useState)(""),H=Object(S.a)(Y,2),W=H[0],G=H[1],V=Object(n.useState)(""),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)(""),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)(""),te=Object(S.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),oe=Object(S.a)(re,2),ce=oe[0],ie=oe[1],le=Object(n.useState)(""),se=Object(S.a)(le,2),de=se[0],me=se[1],ue=Object(n.useState)(""),pe=Object(S.a)(ue,2),ge=pe[0],fe=pe[1],be=Object(n.useState)(!1),he=Object(S.a)(be,2),xe=he[0],Ee=he[1],ve=Object(n.useState)(""),ye=Object(S.a)(ve,2),je=ye[0],Oe=ye[1],Se=function(){Ee(!1)},Ce=function(){ua.open("",!0,"Row deleted successfully"),e.getWeekFilterUsingALL(a),Ee(!1),Oe("")},Ne=function(e){Oe(""),console.log("error",e),e&&ua.open("",!1,e.message)};Object(n.useEffect)((function(){ke()}),[a]),console.log("class_id",a);var ke=function(){e.getWeekFilterUsingALL(a)},we=function(e){v(!0),C(e.id),T(e.start_time),B(e.end_time),"Break"!==e.Monday.week_time_table.timetable_status?F("Lecture"):F("Break"),"BreakFast"===e.Monday.subject_name?(U("BreakFast"),G("BreakFast")):U("Break"),J(e.Monday.subject_id),$(e.Tuesday.subject_id),ne(e.Wednesday.subject_id),ie(e.Thursday.subject_id),me(e.Friday.subject_id),fe(e.Saturday.subject_id),console.log("timetable",e.Monday.subject_id,e.Tuesday.subject_id,e.Wednesday.subject_id,e.Thursday.subject_id,e.Friday.subject_id,e.Saturday.subject_id)},Te=new Date,Ae=Te.getDate(),_e=Te.getMonth();_e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][_e];var Ie=Te.getHours(),Be=Te.getMinutes(),De=Ie<12?"AM":"PM";Ie=Ie>12?Ie-12:Ie;var Re=(Ie=((Ie=0==(Be=(Be<10?"0":"")+Be)?12:Ie)<10?"0":"")+Ie)+":"+Be+" "+De,Le=function(e){return e.subject_name&&"Lecture"===e.week_time_table.timetable_status&&e.subject_id?e.subject_name:"Break"===e.week_time_table.timetable_status?"Break":"No Lecture"};return r.a.createElement(r.a.Fragment,null,xe?r.a.createElement(Dc,{open:xe,handleClose:Se,onhandleDelete:function(){console.log("Deleting row"),e.deleteRowWeeklyTimeTable(je,Ce,Ne),Se()}}):"","teacher"===t||"admin"===t?r.a.createElement(Sb,{edit:E,tableId:O,name:e.name,schoolId:e.schoolId,class_id:a,open:E,close:function(){v(!1)},updateStartTime:w,updateEndTime:I,updateRadioValue:L,updateBreakfast:z,breakStatus:W,updateMonday:q,updateTuesday:Z,updateWednesday:ae,updateThursday:ce,updateFriday:de,updateSaturday:ge}):"",r.a.createElement("div",{className:b.container},i||l||d?r.a.createElement("div",{className:b.loading},r.a.createElement(kr.a,{color:"primary",size:30})):f?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:b.tableTitle},r.a.createElement(m.a,{className:b.subjectname},e.name," Weekly Time Table")),r.a.createElement(m.a,{className:b.date},Ae," ",_e,", ",Re),r.a.createElement(vd.a,{style:{marginBottom:"30px"},component:Od.a},r.a.createElement(hd.a,{className:b.table},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(Ed.a,{className:b.tableHeadCell1},"Time/Days"),r.a.createElement(Ed.a,{className:b.tableHead,align:"center"},"Monday"),r.a.createElement(Ed.a,{className:b.tableHead,align:"center"},"Tuesday"),r.a.createElement(Ed.a,{className:b.tableHead,align:"center"},"Wednesday"),r.a.createElement(Ed.a,{className:b.tableHead,align:"center"},"Thursday"),r.a.createElement(Ed.a,{className:b.tableHead,align:"center"},"Friday"),r.a.createElement(Ed.a,{className:b.tableHead,align:"center"},"Saturday"))),r.a.createElement(xd.a,null,g.map((function(e,a){return"student"===t&&"draft"===e.status?"":r.a.createElement(jd.a,{className:b.tableRow,id:e.week_timetable_id,key:a},r.a.createElement(Ed.a,{className:b.tableDataCell1,scope:"row"},r.a.createElement("div",{style:{marginTop:"7px",textAlign:"center"}},e.start_time,"-",e.end_time),"teacher"===t||"admin"===t?r.a.createElement("div",{className:"".concat(b.imgDiv_del),onClick:function(){return function(e){Ee(!0),Oe(e)}(e.id)}},r.a.createElement(Ic.a,{fontSize:"medium"})):""),"Break"===e.Monday.subject_name&&"Break"===e.Tuesday.subject_name&&"Break"===e.Wednesday.subject_name&&"Break"===e.Thursday.subject_name&&"Break"===e.Friday.subject_name&&"Break"===e.Saturday.subject_name?r.a.createElement(Ed.a,{onClick:function(){return we(e)},className:b.tableData,align:"center",colSpan:"6"},Le(e.Monday)):"BreakFast"===e.Monday.subject_name&&"BreakFast"===e.Tuesday.subject_name&&"BreakFast"===e.Wednesday.subject_name&&"BreakFast"===e.Thursday.subject_name&&"BreakFast"===e.Friday.subject_name&&"BreakFast"===e.Saturday.subject_name?r.a.createElement(Ed.a,{onClick:function(){return we(e)},className:b.tableData,align:"center",colSpan:"6"},e.Monday.subject_name):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ed.a,{onClick:function(){return we(e)},className:b.tableData,align:"center"},Le(e.Monday),"No Lecture"===e.Monday.subject_name?"":e.Monday.teacher_subject?" (".concat(e.Monday.teacher_subject.user.firstname,")"):""),r.a.createElement(Ed.a,{onClick:function(){return we(e)},className:b.tableData,align:"center"},Le(e.Tuesday),"No Lecture"===e.Tuesday.subject_name?"":e.Tuesday.teacher_subject?" (".concat(e.Tuesday.teacher_subject.user.firstname,")"):""),r.a.createElement(Ed.a,{onClick:function(){return we(e)},className:b.tableData,align:"center"},Le(e.Wednesday),"No Lecture"===e.Wednesday.subject_name?"":e.Wednesday.teacher_subject?" (".concat(e.Wednesday.teacher_subject.user.firstname,")"):""),r.a.createElement(Ed.a,{onClick:function(){return we(e)},className:b.tableData,align:"center"},Le(e.Thursday),"No Lecture"===e.Thursday.subject_name?"":e.Thursday.teacher_subject?" (".concat(e.Thursday.teacher_subject.user.firstname,")"):""),r.a.createElement(Ed.a,{onClick:function(){return we(e)},className:b.tableData,align:"center"},Le(e.Friday),"No Lecture"===e.Friday.subject_name?"":e.Friday.teacher_subject?" (".concat(e.Friday.teacher_subject.user.firstname,")"):""),r.a.createElement(Ed.a,{onClick:function(){return we(e)},className:b.tableData,align:"center"},Le(e.Saturday),"No Lecture"===e.Saturday.subject_name?"":e.Saturday.teacher_subject?" (".concat(e.Saturday.teacher_subject.user.firstname,")"):"")))}))))),("teacher"===t||"admin"===t)&&"draft"===p?s?r.a.createElement("div",{className:b.CircularProgress},r.a.createElement(kr.a,null)):r.a.createElement(vb,{class_id:a}):""):r.a.createElement("div",{className:b.message},r.a.createElement("span",null,"No weekly time table available yet!"))))})),kb=Object(I.a)((function(e){return{container:{margin:"15px"},datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{height:"100%",width:"100%"},header:{display:"inline block"},cardBoxPadding:Object(C.a)({padding:"24px"},e.breakpoints.down("sm"),{padding:"16px"}),style:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},addNew:{color:e.palette.common.deluge,float:"right",marginTop:"15px",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px",fontWeight:500},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},InfiniteScroll:{overflow:"revert !important","& .infinite-scroll-component":{overflow:"revert !important"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},formControl:{margin:e.spacing(1),minWidth:120,fontFamily:"Avenir Book",width:"50%","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},head:{margin:"20px 20px 20px 20px",display:"flex",flexDirection:"row",justifyContent:"center"},heading1:{fontSize:"18px",fontFamily:"Avenir medium",textAlign:"center"},heading2:{fontFamily:"Avenir medium",fontSize:"18px",color:"rgb(150, 150, 150)",textTransform:"capitalize"},head1:{display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Avenir",width:"93%"},head2:{fontFamily:"Avenir",position:"absolute",right:"20px"},heading21:{position:"absolute",width:"100px",right:0,display:"flex",alignItems:"flex-end",justifyContent:"flex-end"}}}));var wb=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}))((function(e){var t=kb(),a=Object(n.useState)(""),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)("published"),j=Object(S.a)(y,2),O=j[0],C=j[1],N=e.selectedRole,k=Object(n.useState)(""),w=Object(S.a)(k,2),T=w[0],A=w[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Sb,{name:f,schoolId:E,class_id:c,open:d,close:function(){u(!1)}}),r.a.createElement("div",{className:t.head},r.a.createElement("span",{className:t.heading1},"Weekly Time Table 2020 - 21"),"teacher"===N||"admin"===N?r.a.createElement("div",{className:t.head2},T?r.a.createElement("span",{className:t.heading2},O):""):""),r.a.createElement("div",{className:t.container},"teacher"===N||"admin"===N?r.a.createElement("div",{className:t.sectionContainer},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(lg,{onChange:function(e,t){i(e),b(t.class_name),v(t.school_id)},value:c})),r.a.createElement("div",{className:t.addNew,onClick:function(){u(!0)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"Add Lectures/Break"))))):"",r.a.createElement(Nb,{status:C,schoolId:E,class_id:c,name:f,length:A})))})),Tb=a(358),Ab=a.n(Tb),_b=a(557),Ib=a.n(_b),Bb=a(150),Db=a.n(Bb),Rb=a(914),Lb=Object(I.a)((function(e){return{dropdown:{display:"flex",justifyContent:"space-between",marginTop:"20px",flexDirection:"row-reverse"},fieldStyle:{width:"240px",marginleft:"15px",marginTop:"-16px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},fieldStyleClass:{width:"180px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},autocomplete:{"& .MuiInputBase-input":{color:"#1C1C1C"}}}})),Fb=Object(i.c)((function(e){var t=e.Attendence,a=t.classStudentList;return{studentList:void 0===a?[]:a,studentListLoading:t.classStudentListLoading,school_id:((e.auth.userInfo||{}).user_classes||{}).school_id,selectedRole:e.auth.selectedRole}}),{classStudentList:ag})((function(e){var t,a=Object(s.g)(),o=Lb(),c=Object(n.useState)(""),i=Object(S.a)(c,2),l=i[0],d=i[1],m=Object(n.useState)(""),u=Object(S.a)(m,2),p=(u[0],u[1]),g=Object(n.useState)(""),f=Object(S.a)(g,2),b=f[0],h=f[1],x=e.studentList,E=e.studentListLoading,v=(e.school_id,e.selectedRole,localStorage.getItem("studentClass")),y=localStorage.getItem("selectedStudentName");window&&(t=window.location.href);var j=!1,O=!1,C=!1,N=!1;Object(n.useEffect)((function(){j=t.includes("/student-profile"),O=t.includes("/diary"),C=t.includes("/library"),N=t.includes("/student-leave")}));Object(n.useEffect)((function(){v&&d(v)}),[]);return Object(n.useEffect)((function(){l&&e.classStudentList(l,b)}),[l]),Object(n.useEffect)((function(){b&&(C?a.push("/library/".concat(b.user_id)):N?a.push("/student-leave/".concat(b.user_id)):j?a.push("/student-profile/".concat(b.user_id)):O&&a.push("/diary/".concat(b.user_id,"/tab/0")),localStorage.setItem("selectedStudent",b.user_id),localStorage.setItem("selectedStudentName",b.fullName),localStorage.setItem("studentClass",b.user_classes.class_id))})),r.a.createElement("div",{className:o.dropdown},r.a.createElement(dr.a,{className:"".concat(o.fieldStyle)},r.a.createElement(zc.a,{className:o.autocomplete,value:b,onChange:function(e,t){h(t)},options:x,getOptionLabel:function(e){return e.fullName},id:"include-input-in-list",includeInputInList:!0,loading:E,renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{margin:"normal",placeholder:y||"Search - Name / User ID"}))}})),r.a.createElement(dr.a,{className:o.fieldStyleClass},r.a.createElement(lg,{label:"Class",onChange:function(e,t){d(e),p(t.class_name)},value:l})))})),Mb=Object(dt.a)((function(e){var t;return{popoverMeassage:{display:"flex",fontFamily:"Avenir medium",fontSize:20},popoverTextName:{fontFamily:"Avenir Roman",fontSize:14,color:"#1C1C1E"},popoverTextDate:{fontFamily:"Avenir Roman",fontSize:14,marginLeft:"30px",color:"#1C1C1E"},popover:{pointerEvents:"none"},paper:{paddingTop:e.spacing(5),paddingBottom:e.spacing(5),paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{},header:{overflow:"auto",padding:"0 20px 20px"},header2:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",textAlign:"left"},cardBoxPadding:Object(C.a)({padding:"0px 24px 24px 24px"},e.breakpoints.down("sm"),{padding:"16px"}),addNew:{color:e.palette.common.deluge,marginTop:"15px",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px"},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},fieldStyle:{width:"180px",marginleft:"15px",marginTop:"15px",marginRight:"15px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiInputBase-input":{color:"#707076"}},menuList:{width:"100% !important",padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),card:{marginTop:"20px"},cardForTeacher:{margin:"20px 0"},cardContent:{padding:"20px !important",overflow:"auto"},textAlignRight:{textAlign:"right",color:"#AEAEB2"},labelText:{fontStyle:"normal",color:"#AEAEB2",fontSize:"14px !important",fontFamily:"Avenir Roman",marginBottom:"12px"},typography:{fontFamily:"Avenir book",fontSize:14,cursor:"pointer",color:"#AEAEB2"},span:{textTransform:"capitalize"},imgDiv:{display:"flex",justifyContent:"flex-end",margin:"-2px 0",transform:"translateY(5px)",color:"#AEAEB2"},editBtn:{width:"19px",height:"19px",transform:"translateY(4px)",cursor:"pointer",marginTop:"-3px"},Del_img:{cursor:"pointer",marginLeft:"10px"},circularProgress:{textAlign:"center",padding:"8px"},acknowledgement:{cursor:"pointer",paddingBottom:"7px"},message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},title:{fontFamily:"Avenir heavy",fontSize:14},ackMessage:{fontFamily:"Avenir Roman",fontSize:14,color:"#1C1C1E"},forDiv:{padding:"0 20px"}}})),Pb=Object(i.c)((function(e){var t=e.Attendence,a=t.individualDiaryPostLoading;return{forTeacherData:t.forTeacherDiary,forTeacherLoading:t.forTeacherDiaryLoading,postLoading:a,deleteLoading:t.diaryDeleteLoading,ackLoading:t.putAcknowledgement,selectedRole:e.auth.selectedRole}}),{individualDiaryPost:function(e,t){return{type:ba,subtypes:Pp.INDIVIDUAL_DIARY_POST,onSuccessCallback:e,onFailCallback:t,promise:function(){return ga.post("".concat("/dairy"))}}},byParentDiary:function(e,t,a,n,r,o,c){return{type:ba,subtypes:Pp.BY_ME_TEACHER_DIARY,onSuccessCallback:o,onFailCallback:c,promise:function(){return function(e,t,a,n,r){return ga.get("".concat("/dairy","?current_role=").concat(a,"&student_id=").concat(n,"&by_me=").concat(t,"&page=").concat(e),{headers:{Authorization:"Bearer ".concat(r)}})}(e,t,a,n,r)}}},byTeacherDiary:function(e,t,a,n,r,o){return{type:ba,subtypes:Pp.BY_ME_TEACHER_DIARY,onSuccessCallback:r,onFailCallback:o,promise:function(){return function(e,t,a,n){return ga.get("".concat("/dairy","?by_me=").concat(a,"&current_role=").concat(n,"&student_id=").concat(t,"&page=").concat(e))}(e,t,a,n)}}},forTeacherDiary:function(e,t,a,n,r){return{type:ba,subtypes:Pp.FOR_ME_TEACHER_DIARY,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.get("".concat("/dairy","?student_id=").concat(t,"&current_role=").concat(a,"&page=").concat(e))}(e,t,a)}}},forParentDiary:function(e,t,a,n,r,o){return{type:ba,subtypes:Pp.FOR_ME_TEACHER_DIARY,onSuccessCallback:r,onFailCallback:o,promise:function(){return function(e,t,a,n){return ga.get("".concat("/dairy","?current_role=").concat(t,"&student_id=").concat(a,"&page=").concat(e),{headers:{Authorization:"Bearer ".concat(n)}})}(e,t,a,n)}}},diaryDelete:$p,putAcknowledgement:function(e,t,a,n){return{type:ba,subtypes:Pp.PUT_ACKNOWLEDGEMENT,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/dairy_ac","/").concat(e,"?current_role=").concat(t))}(e,t)}}},putAcknowledgementParent:function(e,t,a,n,r){return{type:ba,subtypes:Pp.PUT_ACKNOWLEDGEMENT,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.put("".concat("/dairy_ac","/").concat(e,"?current_role=").concat(t),{},{headers:{Authorization:"Bearer ".concat(a)}})}(e,t,a)}}},individualDiaryPostParent:function(e,t,a){return{type:ba,subtypes:Pp.INDIVIDUAL_DIARY_POST,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.post("".concat("/dairy"),{},{headers:{Authorization:"Bearer ".concat(e)}})}(e)}}}})((function(e){var t=Mb(),a=Object(s.g)(),o=Object(s.i)(),c=o.id,i=o.selectedTab,l=c;console.log("selectedTab",i);var d=e.selectedRole,u=Object(n.useState)(!1),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!1),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(""),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(""),A=Object(S.a)(T,2),_=A[0],I=A[1],B=localStorage.getItem("srmToken"),D=e.postLoading,R=e.deleteLoading,L=e.menuVal,F=e.handleMenuChange,P=r.a.useState(null),z=Object(S.a)(P,2),U=z[0],Y=z[1],H=Object(n.useState)([]),W=Object(S.a)(H,2),G=W[0],V=W[1],K=Object(n.useState)(!0),q=Object(S.a)(K,2),J=q[0],Q=q[1],X=Object(n.useState)({}),Z=Object(S.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)([]),ae=Object(S.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)(!0),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=Object(n.useState)({}),de=Object(S.a)(se,2),me=de[0],ue=de[1],pe=Object(n.useState)(1),ge=Object(S.a)(pe,2),fe=ge[0],be=ge[1],he=Object(n.useState)(1),xe=Object(S.a)(he,2),Ee=xe[0],ve=xe[1],ye=Object(n.useState)(!1),je=Object(S.a)(ye,2),Oe=je[0],Se=je[1],Ce=Object(n.useState)(!1),Ne=Object(S.a)(Ce,2),ke=Ne[0],we=Ne[1],Te=Object(n.useState)({}),Ae=Object(S.a)(Te,2),_e=Ae[0],Ie=Ae[1],Be=Object(n.useState)(!1),De=Object(S.a)(Be,2),Re=De[0],Le=De[1],Fe=Object(n.useRef)();Object(n.useEffect)((function(){!function(){if(window){var e=window.innerHeight;console.log("heights :>> ",e),Ie({height:e,overflow:"auto"})}}()}),[]),Object(n.useEffect)((function(){if("parent"===d){var e=window.localStorage,t=e.srmSelected_Child,a=e.srmChild_dict,n=((new Function("return ["+a+"];")()[0][t]||{}).userDetails||{}).id;w(n)}}),[k]);var Me=function(){Y(null),I("")},Pe=Boolean(U),ze=function(e){"parent"===d?a.push("/diary/edit/".concat(e.data.id)):a.push("/diary/".concat(l,"/edit/").concat(e.data.id))},Ue=function(){"parent"===d?e.individualDiaryPostParent(B,ze):e.individualDiaryPost(ze)},Ye=function(e){console.log("result :>> ",e),e&&(console.log("byData,byInfo :>> ",G,$),Q(!1),V([].concat(Object(Na.a)(G),Object(Na.a)(e.data.data))),ee(e.data))},He=function(t){if("parent"===d){var a=window.localStorage,n=a.srmSelected_Child,r=a.srmChild_dict,o=new Function("return ["+r+"];")()[0][n].userDetails.id;e.createdBy&&e.byParentDiary(t,L,d,o,B,Ye)}else e.createdBy&&e.byTeacherDiary(t,l,L,d,Ye)};Object(n.useEffect)((function(){Re&&He(1)}),[Re]),Object(n.useEffect)((function(){Q(!0),V([]),ee({}),Le(Math.random())}),[L]);var We=function(e){console.log("result :>> ",e),e&&(le(!1),re([].concat(Object(Na.a)(ne),Object(Na.a)(e.data.data))),ue(e.data))},Ge=function(t){if("parent"===d){var a=window.localStorage,n=a.srmSelected_Child,r=a.srmChild_dict,o=new Function("return ["+r+"];")()[0][n].userDetails.id;e.createdBy||e.forParentDiary(t,d,o,B,We)}else e.createdBy||e.forTeacherDiary(t,l,d,We)};Object(n.useEffect)((function(){Ge(1)}),[]),Object(n.useEffect)((function(){ke&&He(1)}),[ke]);var Ve=function(){ua.open("",!0,"Diary deleted successfully"),V([]),ee({}),Q(!0),we(Math.random()),f(!1)},Ke=function(e){console.log("error",e),e&&ua.open("",!1,e.message)};console.log("byData :>> ",G);Object(n.useEffect)((function(){Oe&&("parent"===d?e.forParentDiary(1,d,k,B,We):e.forTeacherDiary(1,l,d,We))}),[Oe]);var qe=function(){O(!1),le(!0),re([]),ve(1),ue({}),Se(Math.random())};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:g,handleClose:function(){f(!1)},onhandleDelete:function(){e.diaryDelete(x,Ve,Ke)},loading:R}),D?r.a.createElement(Tr,{open:D}):"",r.a.createElement("div",{ref:Fe,className:t.sectionContainer},e.createdBy?r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<30;if(console.log("bottom :>> ",t),$.last_page>fe&&t&&!J){var a=fe+1;He(a),Q(!0),be(a)}},style:_e,className:t.header},"teacher"===d||"admin"===d?r.a.createElement(Fb,null):"","teacher"===d||"admin"===d||"parent"===d?r.a.createElement("div",{className:t.header2},r.a.createElement("div",{style:{zIndex:"1"}},"teacher"===e.selectedRole||"admin"===e.selectedRole?r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:L,onChange:F,classes:{paper:t.menuContainer,list:t.menuList}},r.a.createElement(M.a,{value:"general"},"General Diary Entry"),r.a.createElement(M.a,{value:"teacher"},"Teacher Observation"),r.a.createElement(M.a,{value:"late"},"Late Coming"))):""),r.a.createElement("div",{className:t.addNew,onClick:function(){Ue()}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))):"",G[0]||J?"":r.a.createElement(m.a,{className:t.message},"No diary record available yet!"),G.map((function(n,o){return r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",null,n.title?r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(m.a,{className:t.title},n.title),"published"===n.status&&"individual"===n.diary?r.a.createElement("div",null,r.a.createElement(m.a,{"aria-owns":Pe?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){return t=n,Y(e.currentTarget),void I(t);var t},onMouseLeave:Me},r.a.createElement("img",{src:Db.a,style:{marginLeft:"10px"},className:t.editBtn}))):""):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight," ").concat(t.labelText),variant:"body2"},ea(n.created_at).format("DD MMM, hh:mm A")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8,style:{cursor:"pointer"},onClick:function(){"parent"===e.selectedRole||"student"===e.selectedRole?a.push({pathname:"/diary/tab/".concat(i,"/diary-details/").concat(n.id)}):"individual"===n.diary?a.push({pathname:"/diary/".concat(l,"/tab/").concat(i,"/diary-details/").concat(n.id)}):"multiple"===n.diary&&a.push({pathname:"/multiple-student/".concat(l,"/tab/").concat(i,"/details/").concat(n.id)})}},r.a.createElement(m.a,{className:"".concat(t.typography)},r.a.createElement(m.a,null),"Click here to check more details.")),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.labelText," ").concat(t.textAlignRight),variant:"body2"},r.a.createElement("span",{className:"".concat(t.span)},n.status)))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12,className:t.imgGrid},r.a.createElement(m.a,null," "),"published"!==n.status?r.a.createElement("div",{className:"".concat(t.imgDiv)},r.a.createElement("img",{src:an.a,className:t.editBtn,onClick:function(){"teacher"===e.selectedRole||"admin"===e.selectedRole?a.push("/diary/".concat(l,"/edit/").concat(n.id)):a.push("/diary/edit/".concat(n.id))}}),r.a.createElement("div",{className:t.Del_img,onClick:function(){return function(e){f(!0),E(e)}(n.id)}},r.a.createElement(Ic.a,{fontSize:"medium"}))):r.a.createElement("div",{className:"".concat(t.imgDiv)},n.acknowledgement_accept_by?r.a.createElement("img",{style:{textAlign:"right",paddingBottom:"7px"},src:Ab.a}):n.updated_by?r.a.createElement("img",{style:{textAlign:"right",paddingBottom:"7px"},src:jc.a}):r.a.createElement("img",{style:{textAlign:"right",paddingBottom:"7px"},src:Sc.a}))))))})),J?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):""):r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<30;if(console.log("bottom :>> ",t),me.last_page>Ee&&t&&!ie){var a=Ee+1;Ge(a),le(!0),ve(a)}},style:_e,className:t.forDiv},ne[0]||ie?"":r.a.createElement(m.a,{className:t.message},"No diary record available yet!"),ne.map((function(n){return r.a.createElement(it.a,{className:t.cardForTeacher},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",null,n.title?r.a.createElement(m.a,{className:t.title},n.title):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight," ").concat(t.labelText)},ea(n.created_at).format("DD MMM YY")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8,style:{cursor:"pointer"},onClick:function(){"parent"===e.selectedRole||"student"===e.selectedRole?a.push({pathname:"/diary/tab/".concat(i,"/diary-details/").concat(n.id)}):a.push({pathname:"/diary/".concat(l,"/tab/").concat(i,"/diary-details/").concat(n.id)})}},r.a.createElement(m.a,{className:"".concat(t.typography)},r.a.createElement(m.a,null),"Click here to check more details.")),r.a.createElement(en.a,{item:!0,xs:4,style:{textAlign:"right"}},j===n.id?r.a.createElement(kr.a,{size:30}):"1"!==n.acknowledgement||n.acknowledgement_accept_by?n.acknowledgement_accept_by?r.a.createElement("img",{src:Ab.a}):"":r.a.createElement("div",{className:"".concat(t.imgDiv," ").concat(t.acknowledgement),onClick:function(){return t=n.id,O(t),void("parent"===d?e.putAcknowledgementParent(t,d,B,qe):e.putAcknowledgement(t,d,qe));var t}},r.a.createElement("img",{src:Ib.a})))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12,className:t.imgGrid}))))})),ie?r.a.createElement("div",{style:1===Ee?{paddingTop:"20px"}:{paddingTop:0},className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"")),r.a.createElement(Rb.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:Pe,anchorEl:U,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:Me,disableRestoreFocus:!0},null===_.acknowledgement_accept_by&&null===_.updated_by?"1"===_.acknowledgement?r.a.createElement(m.a,{className:t.ackMessage},"No acknowledgement given yet!"):r.a.createElement(m.a,null,"Not seen yet!"):r.a.createElement("div",{className:t.popoverMeassage},r.a.createElement(m.a,{className:t.popoverTextName},_.acknowledgement_accept_by?_.acknowledgement_accept_by:_.updated_by?_.updated_by.firstname:""),_.acknowledgement_accept_by?r.a.createElement(m.a,{className:t.popoverTextDate},"Acknowledged at:"," ",ea(_.acknowledgement_seen).format("DD MMM, hh:mm A")):_.updated_by?r.a.createElement(m.a,{className:t.popoverTextDate},"Seen at: ",ea(_.updated_at).format("DD MMM, hh:mm A")):"")))})),zb=Object(dt.a)((function(e){return{sectionContainer:{height:"100%",width:"100%"},tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none",marginTop:"20px",padding:"0 20px"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px",fontSize:14,fontFamily:"Avenir book"}},e.breakpoints.down("sm"),{fontSize:14}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}},tabContainer:{},backImg:{cursor:"pointer",position:"absolute",left:"20px",top:"25px"},heading:{fontFamily:"Avenir Medium",fontSize:18,textAlign:"center",color:"#1C1C1E",marginTop:"20px"},dropdownContainer:{margin:"20px"},selectStudent:{fontFamily:"Avenir book",fontSize:14,margin:"20px",textAlign:"center"}}}));function Ub(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(en.a,{p:4},t))}function Yb(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Hb=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}),{})((function(e){var t=zb(),a=Object(s.i)(),o=a.id,c=a.selectedTab,i=o,l=Object(s.g)(),d=Object(n.useState)(0),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)("general"),b=Object(S.a)(f,2),h=b[0],x=b[1],E=e.selectedRole,v=localStorage.getItem("selectedStudent"),y=localStorage.getItem("diaryType"),j=parseInt(c),O=function(e,t){g(t),"teacher"===E||"admin"===E?l.push("/diary/".concat(i,"/tab/").concat(t)):l.push("/diary/tab/".concat(t))},N=function(e){x(e.target.value),localStorage.setItem("diaryType",e.target.value)};return r.a.createElement("div",{className:t.tabContainer},r.a.createElement("div",null,r.a.createElement(m.a,{className:t.heading},"Diary")),r.a.createElement(T.a,{position:"sticky",className:t.tabBar},"teacher"===e.selectedRole||"admin"===e.selectedRole?r.a.createElement(ro.a,{centered:!0,value:j,onChange:O,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"Teacher"},Yb(0),{className:"".concat(t.eventsTab," ").concat(t.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"Parent"},Yb(1),{className:t.eventsTab}))):r.a.createElement(ro.a,{centered:!0,value:j,onChange:O,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"Parent"},Yb(0),{className:"".concat(t.eventsTab," ").concat(t.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"Teacher"},Yb(1),{className:t.eventsTab})))),Object(Na.a)(Array(2).keys()).map((function(e){return r.a.createElement(Ub,{value:j,index:e,key:e},"admin"===E||"teacher"===E?v?r.a.createElement(Pb,Object(C.a)({selectedTab:j,menuVal:y||h,handleMenuChange:N,student_id:i,createdBy:!e},"selectedTab",p)):r.a.createElement("div",{className:t.dropdownContainer},r.a.createElement(Fb,null),r.a.createElement(m.a,{className:t.selectStudent},"Please select student first!")):r.a.createElement(Pb,Object(C.a)({selectedTab:j,menuVal:y||h,handleMenuChange:N,student_id:i,createdBy:!e},"selectedTab",p)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))})))})),Wb=a(151),Gb=a.n(Wb),Vb=Object(dt.a)((function(e){var t;return{CircularProgress:{margin:"8px",textAlign:"center"},message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},sectionContainer:{height:"100%",width:"100%",overflowY:"auto"},header:{paddingRight:"20px",paddingLeft:"20px",paddingBottom:"85px"},header2:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",textAlign:"left"},cardBoxPadding:Object(C.a)({padding:"0px 24px 24px 24px"},e.breakpoints.down("sm"),{padding:"16px"}),addNew:{color:e.palette.common.deluge,marginTop:"15px",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px"},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},fieldStyle:{width:"180px",marginleft:"15px",marginTop:"15px",marginRight:"15px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},menuList:{width:"100% !important",padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),card:{marginTop:"20px"},cardForTeacher:{margin:"20px"},cardContent:{padding:"20px !important",overflow:"auto"},textAlignRight:{textAlign:"right",color:"#AEAEB2"},labelText:{fontStyle:"normal",fontSize:"14px !important",fontFamily:"Avenir Roman"},typography:{cursor:"pointer",fontFamily:"Avenir Book",fontSize:14,color:"#AEAEB2"},span:{textTransform:"capitalize"},imgDiv:{display:"flex",justifyContent:"flex-end",margin:"-2px 0",transform:"translateY(5px)",color:"#AEAEB2"},editBtn:{width:"19px",height:"19px",transform:"translateY(4px)",cursor:"pointer",marginTop:"-3px"},Del_img:{cursor:"pointer",marginLeft:"10px"},circularProgress:{textAlign:"center",padding:"20px"},title:{fontFamily:"Avenir heavy",fontSize:14,color:"#2C2C2E",marginBottom:"12px"},InfiniteScroll:{overflow:"revert !important","& .infinite-scroll-component":{overflow:"revert !important"},paddingLeft:"20px",paddingRight:"20px",paddingBottom:"76px"},container:{width:"100%",boxSizing:"border-box",padding:"0 20px",marginBottom:"85px"},heading:{fontFamily:"Avenir Medium",fontSize:18,color:"#1C1C1E",paddingTop:"20px",textAlign:"center"}}})),Kb=Object(i.c)((function(e){var t=e.Attendence,a=t.studentSideData,n=t.studentSideDataLoading,r=t.studentSideDataInfo;t.hasMore;return{data:a,paginationInfo:r,loading:n,selectedRole:e.auth.selectedRole}}),{studentSideData:function(e,t,a){return{type:ba,subtypes:Pp.STUDENT_SIDE_DATA,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/dairy","?page=").concat(e))}(e)}}}})((function(e){var t=Vb(),a=Object(s.g)(),o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!0),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(1),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)({}),v=Object(S.a)(E,2),y=v[0],j=v[1];e.selectedRole;console.log("paginationInfo :>> ",i);var O=function(e){console.log("result :>> ",e),e&&(g(!1),l([].concat(Object(Na.a)(i),Object(Na.a)(e.data.data))),j(e.data))},C=function(t){if(t)e.studentSideData(t,O);else{e.studentSideData(1,O)}};Object(n.useEffect)((function(){C()}),[]);var N=i.map((function(n){return r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",null,null===n.title?r.a.createElement(m.a,{className:t.title},"N/A"):r.a.createElement(m.a,{className:t.title},n.title))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight," ").concat(t.labelText),variant:"body2"},ea(n.created_at).format("DD MMM YY")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8,style:{cursor:"pointer"},onClick:function(){return a.push("/diary/diary-details/".concat(n.id))}},r.a.createElement(m.a,{className:"".concat(t.typography)},r.a.createElement(m.a,null),"Click here to check more details.")),r.a.createElement(en.a,{item:!0,xs:4},"teacher"===e.selectedRole||"admin"===e.selectedRole?r.a.createElement(m.a,{className:"".concat(t.labelText," ").concat(t.textAlignRight),variant:"body2"},r.a.createElement("span",{className:"".concat(t.span)},n.status)):"")),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12,className:t.imgGrid}))))}));return r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),y.last_page>h&&t&&!p){var a=h+1;C(a),g(!0),x(a)}},className:t.sectionContainer},r.a.createElement(m.a,{className:t.heading},"Diary"),r.a.createElement("div",{className:t.container},N,p?r.a.createElement("div",{className:t.CircularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):""),i[0]||p?"":r.a.createElement(m.a,{className:t.message},"No diary record available yet!"))})),qb=Object(I.a)((function(e){return{datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{marginBottom:"85px",width:"100%"},cardBoxPadding:Object(C.a)({padding:"0px 24px 24px 24px"},e.breakpoints.down("sm"),{padding:"16px"}),addNew:{color:e.palette.common.deluge,position:"absolute",right:0,marginTop:"15px",marginRight:"15px",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px"},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},iconButtonRoot:{padding:"8px"},menuItemRoot:{padding:0},menuItem:{paddingLeft:"10px",paddingRight:"10px",colour:"#1C1C1E"},menuTopItemMargin:{marginTop:"5px"},borderBottomDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"},borderBottomLastDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px"},root:{margin:"20px",display:"flex",cursor:"pointer"},stuName:{fontFamily:"Avenir medium",fontSize:18,marginTop:"12px",marginLeft:"10px"},stuClass:{fontFamily:"Avenir medium",fontSize:14,position:"absolute",marginTop:"31px",right:"41px"},Avatar:{margin:"20px 0 20px 20px"},dropdown:{display:"flex",justifyContent:"space-between",margin:"30px 20px 20px 20px",flexDirection:"row-reverse"},header:{display:"inline block"},fieldStyle:{width:"250px",marginleft:"15px",marginTop:"-16px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},fieldStyleClass:{width:"170px",marginleft:"15px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},circularProgress:{display:"flex",justifyContent:"center",padding:"20px"},message:{fontFamily:"Avenir book",fontSize:14,textAlign:"center",margin:"20px"}}}));var Jb=Object(i.c)((function(e){var t=e.Attendence,a=t.classStudentList;return{studentList:void 0===a?[]:a,studentListLoading:t.classStudentListLoading,school_id:((e.auth.userInfo||{}).user_classes||{}).school_id,selectedRole:e.auth.selectedRole}}),{classStudentList:ag})((function(e){var t,a=Object(s.g)(),o=qb(),c=Object(n.useState)(""),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!0),y=Object(S.a)(v,2),j=y[0],O=y[1],C=e.studentList,N=e.studentListLoading,k=(e.school_id,e.selectedRole);window&&(t=window.location.href);var w=t.includes("/student-profile"),T=t.includes("/diary"),A=t.includes("/library"),_=t.includes("/student-leave");return console.log("username :>> ",x),console.log("studentList :>> ",C),Object(n.useEffect)((function(){l&&e.classStudentList(l,x)}),[l]),Object(n.useEffect)((function(){l&&O(!1)}),[l]),r.a.createElement(r.a.Fragment,null,"teacher"===k||"admin"===k?r.a.createElement("div",{className:o.sectionContainer},r.a.createElement("div",{className:o.dropdown},r.a.createElement("div",{className:o.header},r.a.createElement("div",{className:o.filterForm},r.a.createElement(dr.a,{className:o.fieldStyle},r.a.createElement(zc.a,{value:x,defaultValue:x,onChange:function(e,t){E(t)},options:C,id:"include-input-in-list",includeInputInList:!0,getOptionLabel:function(e){return e.firstname},renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{label:"Search - Name / User ID",margin:"normal"}))},renderOption:function(e){return r.a.createElement("div",null,e.firstname," ",e.lastname)}})))),r.a.createElement("div",{className:o.header},r.a.createElement("div",{className:o},r.a.createElement(dr.a,{className:o.fieldStyleClass},r.a.createElement(lg,{label:"Class",onChange:function(e,t){d(e),f(t.class_name)},value:l}))))),N||j?r.a.createElement("div",{className:o.circularProgress},r.a.createElement(jb,null)):0===C.length?r.a.createElement(m.a,{className:o.message},"No students available!"):C.map((function(e){return r.a.createElement(it.a,{className:o.root,onClick:function(){return t=e.id,n=e.firstname,r=e.lastname,localStorage.setItem("selectedStudent",t),localStorage.setItem("selectedStudentName",n+" "+r),void(T?a.push("/diary/".concat(t)):w?a.push("/student-profile/".concat(t)):A?a.push("/library/".concat(t)):_&&a.push("/student-leave/".concat(t)));var t,n,r}},r.a.createElement("div",{style:{width:"7%"}},r.a.createElement(P.a,{className:o.Avatar,alt:"Student image",src:e.thumbnail?e.thumbnail:Gb.a})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(lt.a,null,r.a.createElement(m.a,{className:o.stuName,variant:"body2"},e.firstname)),r.a.createElement(m.a,{className:o.stuClass,variant:"body2",component:"p"},"Class - ",g)))}))):"","parent"===k?r.a.createElement(Hb,null):"","student"===k?r.a.createElement(Kb,null):"")})),Qb=a(359),Xb=a.n(Qb),Zb=Object(I.a)((function(e){var t;return t={cardContainer:{paddingBottom:"85px"},span:{textTransform:"capitalize"},typography:{margin:"10px 0"},card:{width:"100%",marginTop:"20px",marginLeft:"20px",marginRight:"20px"},editBtn:{marginLeft:"auto",cursor:"pointer"},labelText:{fontStyle:"normal",color:"#1C1C1E",fontSize:14}},Object(C.a)(t,"editBtn",{width:"19px",height:"19px",paddingLeft:"10px",transform:"translateY(4px)",cursor:"pointer"}),Object(C.a)(t,"cardContent",{padding:"20px 20px !important",overflow:"auto"}),Object(C.a)(t,"textAlignRight",{textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Roman"}),Object(C.a)(t,"imgGrid",{position:"relative",paddingTop:"8px"}),Object(C.a)(t,"imgDiv",{display:"flex",justifyContent:"flex-end",bottom:"0px",right:"35px"}),Object(C.a)(t,"returned",{color:"#40BD13"}),Object(C.a)(t,"borrowed",{color:"#3076A1"}),Object(C.a)(t,"red",{color:"#D92424"}),Object(C.a)(t,"bookName",{fontFamily:"Avenir heavy",fontSize:14}),Object(C.a)(t,"CircularProgress",{margin:"30px"}),Object(C.a)(t,"message",{fontFamily:"Avenir book",fontSize:14,margin:"20px"}),Object(C.a)(t,"returnIcon",{color:"#7B72AF",display:"flex",justifyContent:"center"}),Object(C.a)(t,"popContainer",{minWidth:"200px"}),Object(C.a)(t,"dialogActionsContainer",{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}}),Object(C.a)(t,"button",{minWidth:"80px",textTransform:"none"}),Object(C.a)(t,"confirmationText",{fontWeight:500,fontSize:"1rem",color:"#000000"}),Object(C.a)(t,"dialogContent",{textAlign:"center"}),Object(C.a)(t,"imgContainer",{textAlign:"center",paddingBottom:"5px"}),Object(C.a)(t,"img",{filter:"hue-rotate(180deg)"}),t}));var $b=Object(i.c)((function(e){var t=e.Attendence,a=(t.getLibraryInfo,t.getLibraryInfoLoading,t.putReturnLibraryLoading),n=(e.auth.userInfo||{}).user_classes||{};return{putReturnLoading:a,selectedRole:e.auth.selectedRole,school_id:n.school_id}}),{getLibraryInfo:ng,studentLibraryInfo:rg,putReturnLibrary:function(e,t,a,n){return{type:ba,subtypes:Pp.PUT_RETURN_LIBRARY,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/library","/").concat(e),t)}(e,t)}}}})((function(e){var t=e.studentId,a=Object(s.g)(),o=Zb(),c=Object(n.useState)(""),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!1),y=Object(S.a)(v,2),j=y[0],O=y[1],C=e.library,N=e.dataLoading,k=function(){O(!1)},w=function(){e.setData([]),e.setInfo({}),e.setRefetch(Math.random()),k()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:j,onClose:k,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:o.imgContainer},r.a.createElement("img",{className:o.img,src:Xb.a,width:"24",height:"24"})),r.a.createElement("div",{className:o.popContainer},r.a.createElement("div",{className:o.dialogContent},r.a.createElement(m.a,{className:o.confirmationText},"Do you want to mark this book as returned?")))),r.a.createElement(Je.a,{classes:{root:o.dialogActionsContainer}},r.a.createElement(z.a,{onClick:k,color:"primary",variant:"outlined",className:o.button},"No"),r.a.createElement(z.a,{onClick:function(){var t={student_id:x,end_date:g,return_status:"returned"};e.putReturnLibrary(l,t,w)},color:"primary",autoFocus:!0,variant:"contained",className:o.button,disableElevation:!0,disableRipple:!0},"Yes"))),r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:o.cardContainer},C.length||N?"":r.a.createElement(m.a,{className:o.message},"No records available!"),C.map((function(n){return r.a.createElement(it.a,{className:o.card},r.a.createElement(lt.a,{className:o.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:7},r.a.createElement("span",{style:{display:"flex"}},n.book_name?r.a.createElement(m.a,{className:o.bookName,variant:"body1"},n.book_name):r.a.createElement(m.a,{variant:"body1"},"N/A"))),r.a.createElement(en.a,{item:!0,xs:5},r.a.createElement(m.a,{className:"".concat(o.textAlignRight),variant:"body2"},"Created at:"," ",ea(n.created_at).format("DD MMM, hh:mm A")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement(m.a,{className:o.labelText,variant:"body2"},r.a.createElement(m.a,{className:"".concat(o.typography),variant:"body2"}),ea(n.from_date).format("DD MMM YY hh:mm A")," -"," ",ea(n.end_date).format("DD MMM YY hh:mm A"))),r.a.createElement(en.a,{item:!0,xs:4,style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}},r.a.createElement(m.a,{className:"".concat(o.labelText," ").concat(o.textAlignRight),variant:"body2"},"returned"===n.return_status?r.a.createElement("span",{className:"".concat(o.span," ").concat(o.returned)},n.return_status):"","borrowed"===n.return_status?r.a.createElement("span",{className:"".concat(o.span," ").concat(o.borrowed)},n.return_status):"","Overdue by 6 days"===n.return_status?r.a.createElement("span",{className:"".concat(o.span," ").concat(o.red)},n.return_status):"","Late Returned"===n.return_status?r.a.createElement("span",{className:"".concat(o.span," ").concat(o.red)},n.return_status):""))),r.a.createElement(en.a,{container:!0},"teacher"===e.selectedRole||"admin"===e.selectedRole?r.a.createElement(en.a,{item:!0,xs:12,className:o.imgGrid},"borrowed"===n.return_status?r.a.createElement("div",{className:"".concat(o.imgDiv," ").concat(o.textAlignRight)},r.a.createElement("img",{onClick:function(){!function(e,t,a){O(!0),d(e),f(ea(t).format("YYYY-MM-DD")),E(a)}(n.id,n.end_date,n.student_id)},src:Xb.a,className:o.editBtn}),r.a.createElement("img",{onClick:function(){return a.push("/library/".concat(t,"/edit/").concat(n.id))},src:an.a,className:o.editBtn})):"","Overdue by 6 days"===n.return_status?r.a.createElement("div",{className:"".concat(o.imgDiv," ").concat(o.textAlignRight)},r.a.createElement("img",{src:an.a,className:o.editBtn})):"","returned"===n.return_status?r.a.createElement("div",{className:"".concat(o.imgDiv," ").concat(o.textAlignRight)},r.a.createElement(m.a,{className:"".concat(o.textAlignRight),variant:"body2"},"Return Date:"," ",ea(n.updated_at).format("DD MMM YY hh:mm A"))):""):r.a.createElement(en.a,{item:!0,xs:12,className:o.imgGrid},"returned"===n.return_status?r.a.createElement("div",{className:"".concat(o.imgDiv," ").concat(o.textAlignRight)},r.a.createElement(m.a,{className:"".concat(o.textAlignRight),variant:"body2"},"Return Date:"," ",ea(n.updated_at).format("DD MMM YY hh:mm A"))):""))))})),N?r.a.createElement("div",{className:o.CircularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):""))})),eh=Object(dt.a)((function(e){return{selectStudent:{fontFamily:"Avenir book",fontSize:14,margin:"20px",textAlign:"center"},dropdownContainer:{marginRight:"20px",marginLeft:"20px"},sectionContainer:{height:"100%",width:"100%",overflow:"auto"},header:{display:"flex",justifyContent:"center",flexDirection:"column"},addNew:{color:e.palette.common.deluge,display:"flex",marginRight:"15px",marginTop:"15px",justifyContent:"flex-end","& .new":{float:"right",fontSize:"14px",padding:"5px 5px 0 5px"},"& img":{margin:"5px 5px 0 5px",height:"20px",cursor:"pointer"}},cursor:{cursor:"pointer"},titleText:{fontFamily:"Avenir Medium",fontSize:18,color:"#1C1C1E"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"16px",top:"18px"}}}));var th=Object(i.c)((function(e){var t=e.Attendence,a=t.postLibrary,n=t.postLibraryLoading,r=(e.auth.userInfo||{}).user_classes||{};return{data:a,dataLoading:n,selectedRole:e.auth.selectedRole,school_id:r.school_id}}),{postLibrary:function(e,t,a){return{type:ba,subtypes:Pp.POST_LIBRARY,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.post("".concat("/library"),e)}(e)}}},getLibraryInfo:ng,studentLibraryInfo:rg})((function(e){var t=eh(),a=Object(s.g)(),o=Object(s.i)().studentId,c=Object(n.useState)([]),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(!1),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)({}),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(1),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=e.selectedRole,A=(localStorage.getItem("selectedStudentName"),localStorage.getItem("selectedStudent")),_=function(e){a.push("/library/".concat(o,"/edit/").concat(e.data.id))};Object(n.useEffect)((function(){k&&B(1)}),[k]);var I=function(e){e&&(f(!1),d([].concat(Object(Na.a)(l),Object(Na.a)(e.data.library.data))),E(e.data.library))},B=function(t){f(!0),"teacher"!==T&&"admin"!==T||!A?"parent"!==T&&"student"!==T||e.studentLibraryInfo(t,I):e.getLibraryInfo(t,o,I)};return Object(n.useEffect)((function(){B(1)}),[]),r.a.createElement(r.a.Fragment,null,e.dataLoading?r.a.createElement(Tr,{open:e.dataLoading}):r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),x.last_page>j&&t&&!g){var a=j+1;B(a),f(!0),O(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.header},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText)},"Library"))),"teacher"===T||"admin"===T?r.a.createElement("div",{className:t.dropdownContainer},r.a.createElement(Fb,null)):"","teacher"!==T&&"admin"!==T||A?r.a.createElement(r.a.Fragment,null,"admin"===e.selectedRole||"teacher"===e.selectedRole?r.a.createElement("div",{className:t.addNew},r.a.createElement("div",{className:t.cursor,onClick:function(){e.postLibrary({school_id:e.school_id},_)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"Add Book"))):"",r.a.createElement($b,{setRefetch:w,setData:d,setInfo:E,library:l,dataLoading:g,studentId:o})):r.a.createElement(m.a,{className:t.selectStudent},"Please select student first!")))})),ah=a(977),nh=Object(ah.a)(),rh=Object(dt.a)((function(e){var t,a;return{errorColor:{color:"red",textAlign:"center",paddingTop:"10px"},formStyle:{margin:"20px",backgroundColor:"white",justifyContent:"center",textAlign:"right",borderRadius:"5px"},formDiv:{height:"100vh",overflow:"auto"},margin:(a={marginTop:"30px"},Object(C.a)(a,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(a,"& .publishBtn",(t={borderRadius:"3px",width:"inherit",margin:0},Object(C.a)(t,"width",130),Object(C.a)(t,"height",40),Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"}),t)),Object(C.a)(a,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),a),sideMargins:{marginLeft:"20px",marginRight:"20px"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",fontize:18,color:"#1C1C1E"},inputBorder:{height:"50px"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},textArea:{width:"100%",border:"1px solid rgb(200,200,200"},radioBtn:{display:"flex",flexDirection:"row",fontFamily:"Avenir",fontSize:14},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},publishBtns:{display:"flex",justifyContent:"flex-end","& .MuiButton-root":{textTransform:"capitalize"}},renderOption:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"13px",paddingBottom:"8px"},optionContainer:{display:"flex"}}}));var oh=Object(i.c)((function(e){var t=e.Attendence,a=t.getLibraryInfoById,n=t.getLibraryInfoByIdLoading,r=t.searchBook,o=t.searchBookLoading,c=(e.auth.userInfo||{}).user_classes||{};return{bookList:r,bookLoading:o,data:a,dataLoading:n,selectedRole:e.auth.selectedRole,school_id:c.school_id}}),{putLibrary:function(e,t,a,n){return{type:ba,subtypes:Pp.PUT_LIBRARY,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/library","/").concat(e),t)}(e,t)}}},getLibraryInfoById:function(e,t,a,n){return{type:ba,subtypes:Pp.GET_LIBRARY_INFO_BY_ID,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/library","/").concat(e,"?student_id=").concat(t))}(e,t)}}},searchBook:function(e,t,a,n){return{type:ba,subtypes:Pp.SEARCH_BOOK,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/book","?book=").concat(e),t)}(e,t)}}}})((function(e){var t=rh(),a=Object(s.g)(),o=Object(s.i)(),c=o.studentId,i=o.id,l=Object(n.useState)(""),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(null),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(null),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(!1),O=Object(S.a)(j,2),C=O[0],N=O[1],k=e.bookList,w=(e.bookLoading,r.a.useState(null)),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(""),B=Object(S.a)(I,2),D=B[0],R=B[1];b&&console.log("fromData :>> ",b.getDate()),v&&console.log("fromData endDate :>> ",v.getDate());var L=function(e){console.log("result",e),_(e.data.book_name),h(e.data.from_date),y(e.data.end_date)};Object(n.useEffect)((function(){e.getLibraryInfoById(i,c,L),e.searchBook(u)}),[c]);var F=function(){a.push("/library/".concat(c)),ua.open("",!0,"Book added successfully"),N(!1)},M=function(e){e&&ua.open("",!1,e.message),N(!1)};return r.a.createElement(r.a.Fragment,null,e.dataLoading?r.a.createElement(Tr,{open:e.dataLoading}):r.a.createElement("div",{className:t.formDiv},r.a.createElement("div",{className:t.headingDiv,style:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.goBack()}}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText),style:{fontSize:18}},"Add New Book")),r.a.createElement("form",{className:t.formStyle},D?r.a.createElement(mr.a,{className:t.margin,pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(t.errorColor)},D))):"",r.a.createElement(mr.a,{className:" ".concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(zc.a,{style:{paddingTop:"20px"},value:A,onChange:function(e,t){R(!1),"string"===typeof t?_({title:t}):t&&t.inputValue?_({title:t.inputValue}):_(t),t&&p(t.book_name)},filterOptions:function(e,t){var a=nh(e,t);return""!==t.inputValue&&a.push({inputValue:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),a},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:k,getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.book_name},renderOption:function(e){return r.a.createElement("div",{style:{width:"100%",fontFamily:"Avenir book",fontSize:14}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"5px"}},r.a.createElement("div",{style:{fontSize:18,fontFamily:"Avenir medium"}},e.book_name),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},e.category)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"5px"}},r.a.createElement("div",null,e.author_name),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},e.publisher)),r.a.createElement("div",{style:{paddingTop:"5px"},className:t.optionContainer},r.a.createElement("div",null,e.ISBN)))},freeSolo:!0,renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{label:"Book Name",variant:"standard"}))}}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"fromDate",label:"From Date",variant:"dialog",minDate:new Date,format:"MM/dd/yyyy",value:b,onChange:function(e){h(e),R(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker}))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"endDate",label:"End Date",variant:"dialog",minDate:new Date,format:"MM/dd/yyyy",value:v,onChange:function(e){y(e),R(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker}))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:3,xs:12,className:t.publishBtns},C?r.a.createElement(kr.a,null):r.a.createElement(z.a,{style:{textTransform:"capitalize"},id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(t){if(t.preventDefault(),function(){if(u)if(b)if(v){if(!(v.getTime()<b.getTime()))return!0;R("End date should be greater then from date")}else R("A Mandatory field isn't filled!");else R("A Mandatory field isn't filled!");else R("A Mandatory field isn't filled!")}()){N(!0);var a=ea(b).format("YYYY-MM-DD"),n=ea(v).format("YYYY-MM-DD"),r={student_id:c,book_name:u,from_date:a,end_date:n,return_status:"borrowed"};e.putLibrary(i,r,F,M)}},disableElevation:!0},"Add")),r.a.createElement(en.a,{item:!0,sm:9,xs:12,className:t.textAlignLeft}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))))})),ch=Object(I.a)((function(e){var t;return t={span:{textTransform:"capitalize",fontSize:14,fontFamily:"Avenir Book"},typography:{margin:"16px 0",marginTop:"-9px"},card:{width:"100%",marginTop:"20px",borderRadius:0,boxShadow:"none",marginLeft:"35px"},reminder:{width:"100%",textAlign:"right",cursor:"pointer"},NewsHeader:Object(C.a)({padding:"8px 16px 8px 16px !important","& span":{cursor:"pointer"}},e.breakpoints.down("sm"),{padding:"8px 16px 8px 16px !important","& span":{fontSize:"16px"}}),cardContent:{padding:"20px 20px 16px 0 !important",overflow:"auto",backgroundColor:"white"},contentMargin:{marginTop:"16px"},announcementText:{fontStyle:"normal"},announcementImg:{justifyContent:"center",textAlign:"center","& img":{maxWidth:"100%",border:"1px solid ".concat(e.palette.common.deluge),borderRadius:"4px"}},statusText:Object(C.a)({fontStyle:"normal",textTransform:"uppercase",paddingTop:"10px"},e.breakpoints.down("xs"),{fontSize:"13px"}),cardActionStyle:{padding:"8px 16px 8px 16px",color:"#6C757D"},contentCenter:Object(C.a)({textAlign:"right",height:"50%","& img":Object(C.a)({marginTop:"25px",width:"25px",cursor:"pointer"},e.breakpoints.down("xs"),{marginTop:"10px"})},e.breakpoints.down("xs"),{textAlign:"right"}),createdDate:{padding:"5px 0 5px 0"},editBtnGrid:{textAlign:"right"},deleteIcon:{marginLeft:"10px"},editBtn:{marginLeft:"auto",cursor:"pointer"},cardHeader:{padding:"20px 20px 10px"},labelText:{fontStyle:"normal",fontFamily:"Avenir Roman",fontSize:14,color:"#1C1C1E"},editBtnDiv:{marginLeft:"auto",transform:"translateY(4px)"}},Object(C.a)(t,"editBtn",{width:"19px",height:"19px",paddingLeft:"10px",transform:"translateY(4px)",cursor:"pointer"}),Object(C.a)(t,"deleteBtn",{width:"19px",height:"19px",paddingLeft:"5px",cursor:"pointer"}),Object(C.a)(t,"normalText",{fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1}),Object(C.a)(t,"textAlignRight",{textAlign:"right",color:"#AEAEB2",fontSize:"0.85rem"}),Object(C.a)(t,"textAlignRight1",{textAlign:"left",color:"#AEAEB2",fontSize:"0.85rem",paddingLeft:"50px"}),Object(C.a)(t,"gridContainer",{display:"flex",justifyContent:"flex-end",marginBottom:"5px"}),Object(C.a)(t,"imgGrid",{position:"relative"}),Object(C.a)(t,"imgDiv",{bottom:"0px",justifyContent:"flex-end",display:"flex"}),Object(C.a)(t,"imgDiv_del",{bottom:0,right:0,position:"absolute",margin:"16px 0",transform:"translateY(5px)",cursor:"pointer",color:"#AEAEB2"}),Object(C.a)(t,"circle",{display:"flex",justifyContent:"center",backgroundColor:"#7B72AF",color:"white",borderRadius:"50%",padding:"25px",width:"18px",position:"absolute",left:"20px",marginTop:"-8px"}),Object(C.a)(t,"Del_img",{cursor:"pointer",marginLeft:"10px",marginTop:"3px"}),Object(C.a)(t,"cardContainer",{display:"flex",justifyContent:"flex-start",paddingBottom:"70px"}),Object(C.a)(t,"CircularProgress",{display:"flex",justifyContent:"center",margin:"20px"}),Object(C.a)(t,"message",{width:"100%","& p":{textAlign:"center",fontSize:14,fontFamily:"Avenir medium",margin:"20px"}}),Object(C.a)(t,"title",{fontFamily:"Avenir Heavy",fontSize:14,color:"#1C1C1E"}),t}));var ih=Object(i.c)((function(e){var t=e.Attendence,a=t.holidayAll,n=void 0===a?[]:a,r=t.holidayAllLoading,o=t.holidayByMonth;return{data:n,loading:r,dataByMonth:void 0===o?[]:o,byMonthLoading:t.holidayByMonthLoading,school_id:((e.auth.userInfo||{}).user_classes||{}).school_id}}),{holidayAll:function(e,t,a,n){return{type:ba,subtypes:Pp.HOLIDAY_ALL,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/holiday","?school_id=").concat(e),t)}(e,t)}}},holidayByMonth:function(e,t,a,n,r){return{type:ba,subtypes:Pp.HOLIDAY_BY_MONTH,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.get("".concat("/holiday_search","/").concat(e,"?school_id=").concat(t),a)}(e,t,a)}}}})((function(e){var t=ch(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=(o[0],o[1],e.data),i=e.loading,l=e.school_id,s=e.dataByMonth,d=e.byMonthLoading,u=e.month_id,p=Object.entries(c),g=Object.entries(s),f="all"===u?p:g;return console.log("holidayResult",f),console.log("month_id",u),Object(n.useEffect)((function(){l&&e.holidayAll(l)}),[]),Object(n.useEffect)((function(){"all"!==u&&e.holidayByMonth(u,l)}),[u]),r.a.createElement(r.a.Fragment,null,i||d?r.a.createElement("div",{className:t.CircularProgress},r.a.createElement(kr.a,null)):r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:t.cardContainer},f.map((function(e){return r.a.createElement(r.a.Fragment,null,e[1][0]||"all"===u?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement(m.a,{className:t.title},e[1][0]?e[0]:"")),e[1].map((function(e){return r.a.createElement("div",{className:t.card,key:e.id},r.a.createElement("div",{className:t.cardContent},r.a.createElement("div",{className:t.circle},r.a.createElement("span",{className:t.span},new Date(e.from_date).getDate())),r.a.createElement(en.a,{container:!0,className:t.gridContainer},r.a.createElement(en.a,{item:!0,xs:7},r.a.createElement("span",null,e.title?r.a.createElement(m.a,{className:t.title},e.title):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4})),r.a.createElement(en.a,{container:!0,className:t.gridContainer},r.a.createElement(en.a,{item:!0,xs:7},r.a.createElement(m.a,{style:{fontSize:".8rem"},className:t.labelText,variant:"body2"},r.a.createElement(m.a,{className:"".concat(t.typography)}),ea(e.from_date).format("DD MMM YY")," -"," ",ea(e.to_date).format("DD MMM YY"))),r.a.createElement(en.a,{item:!0,xs:4}))))}))):r.a.createElement("div",{className:t.message},r.a.createElement(m.a,{style:{}},"No holidays available yet!")))}))))})),lh=Object(I.a)((function(e){return{container:{margin:"20px"},sectionContainer:{height:"100%",width:"100%"},header:{display:"inline block"},fieldStyle:{minWidth:120,width:"25%",margin:"0 20px 0 0",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},head:{margin:"20px",display:"flex",justifyContent:"center"},heading1:{fontSize:"18px",fontFamily:"Avenir medium",textAlign:"center"},heading:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontFamily:"Avenir"},menuItem:{paddingLeft:"5px"},monthsLabel:{fontSize:"14px",fontFamily:"Avenir heavy",textTransform:"capitalize"},addNew:{color:e.palette.common.deluge,float:"right",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px",fontWeight:500},"& img":{margin:"5px",height:"20px",cursor:"pointer"}}}}));var sh=Object(i.c)((function(e){var t=e.Attendence,a=t.getByMonth;return{data:void 0===a?[]:a,loading:t.getByMonthLoading,school_id:((e.auth.userInfo||{}).user_classes||{}).school_id,selectedRole:e.auth.selectedRole}}),{getByMonth:Jp})((function(e){var t=lh(),a=Object(n.useState)("all"),o=Object(S.a)(a,2),c=o[0],i=o[1],l=e.data,s=(e.loading,e.selectedRole);return Object(n.useEffect)((function(){e.getByMonth()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.head},r.a.createElement("div",{className:t.heading},r.a.createElement("span",{className:t.heading1},"Holidays"))),r.a.createElement("div",{className:t.sectionContainer},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,className:t.menuItem,onChange:function(e){i(e.target.value)}},r.a.createElement(M.a,{value:"all"},"All"),l.map((function(e){return r.a.createElement(M.a,{key:e.id,value:e.id},e.name)})))),"admin"===s||"teacher"===s?r.a.createElement(r.a.Fragment,null):""))),r.a.createElement(ih,{month_id:c})))})),dh=a(558),mh=a.n(dh),uh=a(559),ph=a.n(uh),gh=a(560),fh=a.n(gh),bh=a(561),hh=a.n(bh),xh=a(562),Eh=a.n(xh),vh=a(563),yh=a.n(vh),jh=Object(I.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,marginLeft:"20px",marginBottom:"20px",border:"1px solid #7B72AF",height:"140px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",cursor:"pointer"},sectionContainer:{paddingRight:"20px","& .MuiGrid-spacing-xs-2":{margin:"calc(96% + 16px)"}},head:{margin:"20px",display:"flex",justifyContent:"center"},heading:{display:"flex",justifyContent:"center",fontFamily:"Avenir"},heading1:{fontSize:18,fontFamily:"Avenir medium",textAlign:"center",color:"#1C1C1E"},imageGroup:{},imageContainer:{border:"1px solid #7B72AF",backgroundColor:"white",borderRadius:"3px"},img:{display:"flex",justifyContent:"center"},textStyle:{fontFamily:"Avenir medium",fontSize:14,textAlign:"center",color:"#1C1C1E"},CircularProgress:{display:"flex",height:"93%",justifyContent:"center",alignItems:"center"},gridContainer:{display:"flex","& .MuiPaper-elevation1":{boxShadow:"none"}}}}));var Oh=Object(i.c)((function(e){var t=e.Attendence,a=t.miscellaneous,n=void 0===a?[]:a,r=t.miscellaneousLoading,o=t.getAllMiscellaneous;return{data:n,loading:r,miscellaneousList:void 0===o?[]:o,miscellaneouslistLoading:t.getAllMiscellaneousLoading,school_id:((e.auth.userInfo||{}).user_classes||{}).school_id,selectedRole:e.auth.selectedRole}}),{postMiscellaneous:function(e,t,a,n){return{type:ba,subtypes:Pp.MISCELLANEOUS,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.post("".concat("/miscellaneous","?current_role=").concat(e),t)}(e,t)}}},miscellaneous:function(e,t,a,n){return{type:ba,subtypes:Pp.GET_ALL_MISCELLANEOUS,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/miscellaneous","?current_role=").concat(e),t)}(e,t)}}},getMiscellaneous:Qp})((function(e){var t=jh(),a=Object(s.g)(),o=(e.data,e.loading),c=e.miscellaneousList,i=e.miscellaneouslistLoading,l=e.selectedRole;console.log("miscellaneousList",c),Object(n.useEffect)((function(){l&&e.miscellaneous(l)}),[]);var d=function(e){a.push("/miscellaneous/".concat(e.data.id)),console.log("result",e)},u=function(t){var n=c.find((function(e){return e.name===t}));if(console.log("list",n),n)console.log("get call"),a.push("/miscellaneous/".concat(n.id));else{var r={name:t,school_id:e.school_id};console.log("post call"),e.postMiscellaneous(l,r,d)}};return r.a.createElement(r.a.Fragment,null,o||i?r.a.createElement("div",{className:t.CircularProgress},r.a.createElement(kr.a,null)):r.a.createElement("div",{className:t.sectionContainer},r.a.createElement("div",{className:t.head},r.a.createElement("div",{className:t.heading},r.a.createElement("span",{className:t.heading1},"Miscellaneous"))),r.a.createElement(en.a,{spacing:2,className:t.gridContainer},r.a.createElement(en.a,{item:!0,xs:3,onClick:function(){u("prayer")}},r.a.createElement(Od.a,{className:t.paper},r.a.createElement("div",{className:t.img},r.a.createElement("img",{src:mh.a,width:"88px",height:"88px"})),r.a.createElement(m.a,{style:{marginTop:"5px"},className:t.textStyle},"Prayer"))),r.a.createElement(en.a,{item:!0,xs:3,onClick:function(){return u("vijayi")}},r.a.createElement(Od.a,{className:t.paper},r.a.createElement("div",{className:t.img},r.a.createElement("img",{src:ph.a,width:"87px",height:"88px"})),r.a.createElement(m.a,{className:t.textStyle},"Vijayi Vishwa Tiranga Pyara"))),r.a.createElement(en.a,{item:!0,xs:3,onClick:function(){return u("national")}},r.a.createElement(Od.a,{className:t.paper},r.a.createElement("div",{className:t.img},r.a.createElement("img",{src:fh.a,width:"71px",height:"88px"})),r.a.createElement(m.a,{className:t.textStyle},"National Pledge"))),r.a.createElement(en.a,{item:!0,xs:3,onClick:function(){return u("jaya")}},r.a.createElement(Od.a,{className:t.paper},r.a.createElement("div",{className:t.img},r.a.createElement("img",{src:hh.a,width:"76px",height:"88px"})),r.a.createElement(m.a,{className:t.textStyle},"Jaya Bharat Jananiya")))),r.a.createElement(en.a,{spacing:2,className:t.gridContainer},r.a.createElement(en.a,{item:!0,xs:3,onClick:function(){return u("saare")}},r.a.createElement(Od.a,{className:t.paper},r.a.createElement("div",{className:t.img},r.a.createElement("img",{src:Eh.a,width:"112px",height:"88px"})),r.a.createElement(m.a,{className:t.textStyle},"National Anthem"))),r.a.createElement(en.a,{item:!0,xs:3,onClick:function(){return u("rules")}},r.a.createElement(Od.a,{className:t.paper},r.a.createElement("div",{className:t.img},r.a.createElement("img",{src:yh.a,width:"82px",height:"88px"})),r.a.createElement(m.a,{className:t.textStyle},"School Rules and Other Info"))))))})),Sh=Object(I.a)((function(e){var t;return t={message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},span:{textTransform:"capitalize"},typography:{cursor:"pointer"},card:{width:"100%",margin:"20px 20px 0 20px"},reminder:{width:"100%",textAlign:"right",cursor:"pointer"},NewsHeader:Object(C.a)({padding:"8px 16px 8px 16px !important","& span":{cursor:"pointer"}},e.breakpoints.down("sm"),{padding:"8px 16px 8px 16px !important","& span":{fontSize:"16px"}}),contentMargin:{marginTop:"16px"},announcementText:{fontStyle:"normal"},announcementImg:{justifyContent:"center",textAlign:"center","& img":{maxWidth:"100%",border:"1px solid ".concat(e.palette.common.deluge),borderRadius:"4px"}},statusText:Object(C.a)({fontStyle:"normal",textTransform:"uppercase",paddingTop:"10px"},e.breakpoints.down("xs"),{fontSize:"13px"}),cardActionStyle:{padding:"8px 16px 8px 16px",color:"#6C757D"},contentCenter:Object(C.a)({textAlign:"right",height:"50%","& img":Object(C.a)({marginTop:"25px",width:"25px",cursor:"pointer"},e.breakpoints.down("xs"),{marginTop:"10px"})},e.breakpoints.down("xs"),{textAlign:"right"}),createdDate:{padding:"5px 0 5px 0"},editBtnGrid:{textAlign:"right"},deleteIcon:{marginLeft:"10px"},editBtn:{marginLeft:"auto",cursor:"pointer"},cardHeader:{padding:"20px 20px 10px"},labelText:{fontStyle:"normal",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Book",marginBottom:"12px"},editBtnDiv:{marginLeft:"auto",transform:"translateY(4px)"},Del_img:{cursor:"pointer",marginLeft:"10px"}},Object(C.a)(t,"editBtn",{width:"19px",height:"19px",transform:"translateY(4px)",cursor:"pointer",marginTop:"-3px"}),Object(C.a)(t,"deleteBtn",{width:"19px",height:"19px",paddingLeft:"5px",cursor:"pointer"}),Object(C.a)(t,"normalText",{fontStyle:"normal",color:"".concat(e.palette.common.blackRussian),fontWeight:500,opacity:1}),Object(C.a)(t,"cardContent",{padding:"20px !important",overflow:"auto"}),Object(C.a)(t,"textAlignRight",{fontStyle:"normal",textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Roman"}),Object(C.a)(t,"imgGrid",{}),Object(C.a)(t,"imgDiv",{display:"flex",justifyContent:"flex-end",transform:"translateY(5px)",color:"#AEAEB2"}),Object(C.a)(t,"imgRead",{display:"flex",justifyContent:"flex-end",transform:"translateY(5px)",color:"#AEAEB2",paddingBottom:"6px"}),Object(C.a)(t,"circularProgress",{display:"flex",justifyContent:"center",margin:"8px"}),Object(C.a)(t,"title",{fontFamily:"Avenir Heavy",fontSize:14,color:"#2C2C2E",paddingBottom:"12px"}),t}));var Ch=Object(i.c)((function(e){var t=e.Attendence,a=(t.getDiaryMultiple,t.getDiaryMultipleLoading,t.diaryDeleteLoading),n=(e.auth.userInfo||{}).user_classes||{};return{deleteLoading:a,selectedRole:e.auth.selectedRole,school_id:n.school_id}}),{getDiaryMultiple:Xp,diaryDelete:$p})((function(e){var t=Sh(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),d=Object(S.a)(l,2),u=d[0],p=d[1],g=e.data,f=e.dataLoading,b=Object(s.g)(),h=function(){ua.open("",!0,"Diary deleted successfully"),e.getDiaryMultiple(),i(!1)},x=function(e){console.log("error",e),e&&ua.open("",!1,e.message)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:c,handleClose:function(){i(!1)},onhandleDelete:function(){e.diaryDelete(u,h,x)}}),g.length||f?"":r.a.createElement(m.a,{className:t.message},"No diary record available yet!"),r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",style:{marginBottom:"85px"}},g.map((function(e){return r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",null,e.title?r.a.createElement(m.a,{className:t.title},e.title):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},ea(e.created_at).format("DD MMM, hh:mm A")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8,style:{cursor:"pointer"},onClick:function(){return b.push("/multiple-student/".concat(e.id))}},r.a.createElement(m.a,{className:t.labelText},r.a.createElement(m.a,{className:"".concat(t.typography)}),"Click here to check more details.")),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},r.a.createElement("span",{className:"".concat(t.span)},e.status)))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12,className:t.imgGrid},r.a.createElement(m.a,null," "),"published"!==e.status?r.a.createElement("div",{className:"".concat(t.imgDiv)},r.a.createElement("img",{src:an.a,className:t.editBtn,onClick:function(){return b.push("/multiple-student/edit/".concat(e.id))}}),r.a.createElement("div",{className:t.Del_img,onClick:function(){return function(e){i(!0),p(e)}(e.id)}},r.a.createElement(Ic.a,{fontSize:"medium"}))):r.a.createElement("div",{className:"".concat(t.imgRead)},r.a.createElement("img",{src:jc.a}))))))})),f?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):""))})),Nh=Object(dt.a)((function(e){var t;return{container:{height:"100%",overflow:"auto"},formControl:{marginTop:"8px",marginRight:"15px",width:"169px",position:"absolute",left:"20px"},header:{display:"flex",flexDirection:"column",paddingRight:"20px",paddingLeft:"20px",paddingTop:"20px",justifyContent:"center"},addNew:{color:e.palette.common.deluge,width:"70px",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px 5px 0 5px"},"& img":{margin:"5px 5px 0 5px",height:"20px",cursor:"pointer"}},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),menuList:{width:"100% !important",padding:0},home:{fontFamily:"Avenir medium",fontSize:18,textAlign:"center"},fieldStyle:{width:"185px",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},".MuiInputBase-input":{color:"#eaeaea"}},newContainer:{display:"flex",justifyContent:"flex-end",marginTop:"15px"}}}));var kh=Object(i.c)((function(e){var t=e.Attendence,a=t.postDiaryMultipleLoading,n=t.classesLoading,r=(e.auth.userInfo||{}).user_classes||{};return{loading:a,classesLoading:n,selectedRole:e.auth.selectedRole,school_id:r.school_id}}),{postDiaryMultiple:function(e,t){return{type:ba,subtypes:Pp.POST_DIARY_MULTIPLE,onSuccessCallback:e,onFailCallback:t,promise:function(){return ga.post("".concat("/dairy_many"))}}},getDiaryMultiple:Xp})((function(e){var t=Nh(),a=Object(s.g)(),o=e.loading,c=(e.selectedRole,Object(n.useState)([])),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)({}),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(!0),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(1),y=Object(S.a)(v,2),j=y[0],O=y[1];console.log("data :>> ",l,g);var C=function(e){a.push("/multiple-student/edit/".concat(e.data.id))},N=function(e){console.log("result :>> ",e),e&&(E(!1),d([].concat(Object(Na.a)(l),Object(Na.a)(e.data.data))),f(e.data))},k=function(t){if(t)e.getDiaryMultiple(t,N);else{e.getDiaryMultiple(1,N)}};return Object(n.useEffect)((function(){k()}),[]),r.a.createElement(r.a.Fragment,null,o?r.a.createElement(Tr,{open:o}):r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),g.last_page>j&&t&&!x){console.log("paginationInfo :>> ",g);var a=j+1;k(a),E(!0),O(a)}},className:t.container},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.home},"Diary"),r.a.createElement("div",{className:t.newContainer},r.a.createElement("div",{className:t.addNew,onClick:function(){e.postDiaryMultiple(C)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New")))),r.a.createElement(Ch,{data:l,dataLoading:x})))})),wh=Object(I.a)((function(e){return{droparea:{width:"100%",marginTop:"20px","& .MuiInputBase-root":{color:"rgba(0, 0, 0, 0.54)"},"& .MuiDropzoneArea-root":{border:"1px solid ".concat(b),minHeight:"auto"},"& .MuiDropzoneArea-text":{marginTop:"20px",marginBottom:"20px",fontSize:"14px",color:g,fontFamily:y},"& .MuiDropzoneArea-icon":{color:h,width:"30px",height:"30px",marginBottom:"20px"}},snackBar:{"&.MuiSnackbar-root":{zIndex:e.zIndex.drawer+1,maxWidth:"400px"}},previewChip:{minWidth:160,maxWidth:210}}})),Th=function(e){var t=wh();return r.a.createElement(dr.a,{className:t.droparea},r.a.createElement(fi.a,{onChange:e.handleChange,alertSnackbarProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},classes:{root:t.snackBar},autoHideDuration:3e3},acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:1e7,filesLimit:10,showPreviews:!0,showPreviewsInDropzone:!1,useChipsForPreview:!0,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:t.previewChip}},previewText:"Selected files",dropzoneText:"Drag and drop a file (max 10 MB each) here or click"}))},Ah=Object(I.a)((function(){return{filesViewer:{},listOfFiles:{marginTop:"10px",display:"flex",flexWrap:"wrap"},chip:{borderRadius:"25px",backgroundColor:x,display:"inline-flex",marginTop:"10px","& button":{padding:"10px",margin:"auto 0px","&:hover":{backgroundColor:"transparent"}}},chipText:{margin:"auto 10px",cursor:"pointer"},deleteBtn:{color:"#b7b7bb"}}})),_h=function(e){var t=e.data,a=Ah(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(0),d=Object(S.a)(s,2),u=d[0],p=d[1],g=Object(n.useState)(null),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(!1),E=Object(S.a)(x,2),v=E[0],y=E[1],j=function(){var e=t,n=[{uri:"".concat("https://dev.srmapi.in").concat(e[u].img_path).concat(e[u].img_name),fileType:e[u].img_name.split(".").pop()}];return r.a.createElement("div",{className:a.filesViewer},r.a.createElement(Ei.a,{documents:n,pluginRenderers:xi.DocViewerRenderers}))},O=t.map((function(e,t){return console.log("file delete viewer :>> ",e),r.a.createElement("div",{className:a.chip},r.a.createElement(m.a,{variant:"subtitle2",className:a.chipText,onClick:function(){return C(t)}},e.img_name),r.a.createElement(W.a,{onClick:function(){h(e.id),y(!0)},className:a.deleteBtn,disableRipple:!0,disableFocusRipple:!0},r.a.createElement(Ic.a,{fontSize:"medium"})))})),C=function(e){l(!0),p(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:v,handleClose:function(){y(!1)},onhandleDelete:function(){e.handleDelete(b),y(!1)}}),r.a.createElement("div",{className:a.listOfFiles},O),r.a.createElement(qe.a,{open:i,onClose:function(){l(!1)},fullWidth:!0},r.a.createElement(j,null)))},Ih=function(e){var t=e.inputRef,a=e.onChange,n=Object(na.a)(e,["inputRef","onChange"]);return r.a.createElement(td.a,Object.assign({},n,{getInputRef:t,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},thousandSeparator:!0,thousandsGroupStyle:"lakh",isNumericString:!0,prefix:"Rs. "}))},Bh=Object(dt.a)((function(e){var t,a;return a={formStyle:{margin:"0 20px 85px 20px !important",marginBottom:"85px",backgroundColor:"white",justifyContent:"center",textAlign:"center",borderRadius:"5px",paddingTop:"1px"},backImg:{float:"left",transform:"translate(0px, 7px)",cursor:"pointer"},adornmentColor:{color:"rgba(0, 0, 0, 0.54)"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0},errorColor:{color:"red"},titleText:{textAlign:"center",margin:"auto",fontFamily:"Avenir Medium",fontize:"1.2rem",color:"#1C1C1E"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},snackBar:{"&.MuiSnackbar-root":{zIndex:e.zIndex.drawer+1,maxWidth:"400px"}},previewChip:{minWidth:300,maxWidth:400},inputBorder:{height:"50px"},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),paper:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",border:"1px solid ".concat(e.palette.common.deluge),padding:e.spacing(.5),margin:"auto"},showIn:{paddingTop:"5px"},textArea:{width:"100%"},paperShowIn:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:"auto"},chip:{margin:e.spacing(.5)},paperBoxShadow:{boxShadow:"2px 2px 2px 0 #E5E5EA"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},contentCenter:{justifyContent:"left"},chips:{display:"flex",flexWrap:"wrap"}},Object(C.a)(a,"chip",{margin:2}),Object(C.a)(a,"publishBtns",{textAlign:"right",justifyContent:"right","& .MuiButton-root":{textTransform:"capitalize"}}),Object(C.a)(a,"sideMargins",{marginLeft:"20px",marginRight:"20px"}),Object(C.a)(a,"sideMarginright",{marginRight:"50px"}),Object(C.a)(a,"radio",{display:"flex",flexDirection:"row",justifyContent:"flex-start"}),Object(C.a)(a,"dropzone",{border:"solid !important",minHeight:"0px !important",width:"150px !important"}),Object(C.a)(a,"margin",(t={marginTop:"20px !important"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t)),Object(C.a)(a,"imageDrop",{border:"1px solid rgba(0,0,0,0.30)",height:"90px",lineHeight:"80px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontFamily:"Avenir book",color:"#7B72AF",cursor:"pointer"}),Object(C.a)(a,"imageUpload",{width:"123px"}),Object(C.a)(a,"imageHandler",{display:"flex",width:"100%",flexWrap:"wrap"}),Object(C.a)(a,"img",{marginRight:"5px",marginBottom:"5px",width:"123px",height:"90px"}),Object(C.a)(a,"rupeeSign",{fontSize:20,fontFamily:"Avenir book"}),Object(C.a)(a,"imageContainer",{display:"flex",marginRight:"10px"}),Object(C.a)(a,"delImgContainer",{cursor:"pointer",height:"21px",border:"1px solid #7B72AF",borderRadius:"50%",marginLeft:"-30px",marginTop:"3px",backgroundColor:"#7B72AF"}),Object(C.a)(a,"heading",{margin:"20px"}),a}));var Dh=Object(i.c)((function(e){var t=e.Attendence,a=t.add_dish_in_dishes;return{data:void 0===a?[]:a,loading:t.addDishInDishesLoading,updateLoading:t.updateDishInDishesLoading,removeImageLoading:t.removeLunchImageLoading,class_id:e.auth.userInfo.user_classes.class_id,school_id:e.auth.userInfo.user_classes.school_id}}),{AddDishInDishes:function(e,t,a){return{type:ba,subtypes:Pp.ADD_DISH_IN_DISHES,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.post("".concat("/lunch"),e)}(e)}}},showDishListInDishes:Gp,updateDishInDishes:function(e,t,a,n,r,o){return{type:ba,subtypes:Pp.UPDATE_DISH_IN_DISHES,onSuccessCallback:r,onFailCallback:o,promise:function(){return function(e,t,a,n){return ga.put("".concat("/lunch","/").concat(t,"?class_id=").concat(a,"&schoo_id=").concat(n),e)}(e,t,a,n)}}},removeLunchImage:function(e,t,a){return{type:ba,subtypes:Pp.REMOVE_LUNCH_IMAGE,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.remove("".concat("/lunch_image","/").concat(e))}(e)}}}})((function(e){var t=Bh(),a=Object(n.useState)(""),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)("Veg"),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)([]),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)([]),_=Object(S.a)(A,2),I=_[0],B=_[1],D=e.loading,R=e.school_id,L=e.updateLoading,F=e.edit,M=e.setEdit,P=e.editId,U=e.updateName,Y=e.updateStatus,H=e.updatePrice,G=e.updateDesc,V=e.updateImage;Object(n.useEffect)((function(){F&&(u(U),b(H),v(G),C(Y),B(V))}),[]);var K=function(){if(d)if(f)if(E){if(w[0])return!0;i("A Mandatory field isn't filled!")}else i("A Mandatory field isn't filled!");else i("A Mandatory field isn't filled!");else i("A Mandatory field isn't filled!")},q=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a,n,r,o,c,i,l;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a=t,n=[],r={maxSizeMB:.5,useWebWorker:!0},o=0;case 5:if(!(o<a.length)){e.next=23;break}return e.prev=6,e.next=9,Object(Ad.a)(a[o],r);case 9:return c=e.sent,e.next=12,Q(c);case 12:i=e.sent,n.push(i),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),ua.open("",!1,e.t0),console.log("error",e.t0);case 20:o++,e.next=5;break;case 23:F?(l=[],V.map((function(e){var t="".concat("https://dev.srmapi.in","/").concat(e.img_path,"/").concat(e.img_name);l.push(t)})),l=l.concat(n),T(l)):T(n);case 24:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){F?M(!F):e.close()},Q=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))};console.log("props.fetchData :>> ",e.fetchData);var X=function(){F?(console.log("success call"),e.fetchData(1),ua.open("",!0,"Dish updated successfully"),M(!1)):(console.log("success call add"),e.fetchData(),ua.open("",!0,"Dish added successfully"),J())},Z=function(e){console.log("success call error"),console.log("error",e),e&&ua.open("",!1,e.message)},$=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n,r;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=[],w.map((function(e,t){e.includes("lunch-image")||n.push(e)})),console.log("fileArray",n,w),K()&&(r={school_id:R,class_id:75,name:d,price:f,status:O,description:E,image:n},F?e.updateDishInDishes(r,P,75,R,X,Z):e.AddDishInDishes(r,X,Z));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ee=Object(Jt.a)({root:{"&$checked":{color:"#7B72AF"}},checked:{}})((function(e){return r.a.createElement(Sp.a,Object.assign({color:"default"},e))}));return r.a.createElement("div",null,r.a.createElement("div",{className:t.heading},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:J}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText)},F?"Update Dish":"Add Dish")),r.a.createElement("form",{className:t.formStyle},c?r.a.createElement(mr.a,{pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(t.errorColor)},c))):"",r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"title",name:"title",className:t.inputBorder,value:d,onChange:function(e){u(e.target.value),i("")},required:!0,label:"Dish Name",InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement("img",{style:{width:19,height:19},src:fe.a})))}}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"price",name:"price",className:t.inputBorder,value:f,onChange:function(e){b(e.target.value),i("")},required:!0,label:"Price",InputProps:{inputComponent:Ih,endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement("div",{className:t.rupeeSign},"\u20b9")))}}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{className:t.fieldStyle},r.a.createElement(m.a,{className:t.textAlignLeft},"Description"),r.a.createElement(Xo.a,{className:t.textArea,id:"outlined-multiline-static",label:"",multiline:!0,rows:5,value:E,onChange:function(e){v(e.target.value),i("")},variant:"outlined"}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins," ").concat(t.radio)},r.a.createElement(dr.a,{component:"fieldset"},r.a.createElement(jp.a,{className:t.radio,"aria-label":"radiotype",name:"radiotype1",value:O,onChange:function(e){C(e.target.value),i("")}},r.a.createElement(Op.a,{checked:"Veg"===O,value:"Veg",control:r.a.createElement(ee,null),label:"Veg"}),r.a.createElement(Op.a,{checked:"Non_veg"===O,value:"Non_veg",control:r.a.createElement(ee,null),label:"Non Veg"})))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(Th,{handleChange:q}),I.length>0&&I?r.a.createElement(_h,{data:I,handleDelete:function(t){e.removeLunchImage(t,(function(){return function(e){ua.open("",!0,"Image removes successfully"),B(I.filter((function(t){return t.id!==e})))}(t)}))}}):null),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:6,xs:12,className:t.publishBtns},D||L?r.a.createElement(kr.a,null):r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:$,disableElevation:!0},F?"Update":"Save")),r.a.createElement(en.a,{item:!0,sm:6,xs:12,className:t.textAlignLeft},r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))})),Rh=a(991),Lh=Object(dt.a)((function(e){return{loading:{display:"flex",justifyContent:"center",paddingTop:"10px",width:"100%"},root:Object(C.a)({marginTop:"15px",marginLeft:"2%",width:"47%"},e.breakpoints.down("xs"),{width:"100%",margin:"15px 15px 0 15px"}),container:{display:"flex",width:"100%",flexWrap:"wrap",marginBottom:"75px",overflow:"auto",height:"100%"},editBtn:{marginLeft:"auto",width:"19px",height:"19px",paddingLeft:"10px",transform:"translateY(4px)",cursor:"pointer",marginBottom:"7px"},deleteBtn:{color:"rgb(175,175,175)",marginBottom:"-3px",cursor:"pointer"},desc:{display:"flex",flexDirection:"column",paddingLeft:"5px",paddingRight:"5px",marginLeft:"5px",marginRight:"5px"},img:{height:"90px",width:"40%"},header:{display:"flex",padding:"10px",justifyContent:"flex-start",float:"right",width:"90%"},heading:{fontFamily:"Avenir medium",fontSize:14},heading1:{width:"70%"},heading2:{width:"30%",display:"flex",justifyContent:"flex-end"},red:{color:"#f44336"},green:{color:"#14ee14"},circle:{padding:"4px",borderRadius:"50%",height:"0px",marginTop:"5px",marginRight:"4px"},circleRed:{backgroundColor:"#f44336"},circleGreen:{backgroundColor:"#14ee14"},message:{fontFamily:"Avenir book",fontSize:14,textAlign:"center",paddingTop:"10px"}}}));var Fh=Object(i.c)((function(e){var t=e.Attendence,a=(t.show_dish_list_in_dishes,t.showDishListInDishesLoading,t.deleteDishInDishesLoading),n=(e.auth.userInfo||{}).user_classes||{};return{deleteLoading:a,class_id:n.class_id,school_id:n.school_id}}),{showDishListInDishes:Gp,deleteDishInDishes:function(e,t,a){return{type:ba,subtypes:Pp.DELETE_DISH_IN_DISHES,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.remove("".concat("/lunch","/").concat(e))}(e)}}}})((function(e){e.school_id;var t=Lh(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(""),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)(""),R=Object(S.a)(D,2),L=R[0],F=R[1],M=Object(n.useState)([]),P=Object(S.a)(M,2),z=P[0],U=P[1],Y=Object(n.useState)(1),H=Object(S.a)(Y,2),W=(H[0],H[1],e.data),G=e.loading;Object(n.useEffect)((function(){e.setEdit(f)}),[f]);var V=function(){ua.open("",!0,"Dish deleted successfully"),e.refetch(),i(!1),u("")},K=function(e){u(""),console.log("error",e),e&&ua.open("",!1,e.message)};console.log("deleteId",d),console.log("data :>> ",W);var q=W.map((function(e){return r.a.createElement(it.a,{className:t.root},r.a.createElement(st.a,{style:{display:"flex",flexDirection:"column"},onClick:function(){b(!0),v(e.id),C(e.name),T(e.status),B(e.description),F(e.price),U(e.lunch_images)}},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.heading1},r.a.createElement(m.a,{className:t.heading,variant:"h5",component:"h2",style:{fontSize:16}},e.name)),r.a.createElement("div",{className:t.heading2},r.a.createElement("div",{className:"Veg"===e.status?"".concat(t.circleGreen," ").concat(t.circle):"".concat(t.circleRed," ").concat(t.circle)}),r.a.createElement(m.a,{className:"Veg"===e.status?"".concat(t.green," ").concat(t.heading):"".concat(t.red," ").concat(t.heading),variant:"h5",component:"h2"},"Veg"===e.status?"Veg":"Non Veg"))),r.a.createElement(lt.a,{style:{display:"flex",paddingTop:"5px",paddingBottom:"5px",width:"90%"}},r.a.createElement(Rh.a,{className:t.img,component:"img",alt:"dish image",height:"50",width:"40",image:e.lunch_images[0]?"".concat("https://dev.srmapi.in","/").concat(e.lunch_images[0].img_path,"/").concat(e.lunch_images[0].img_name):"",title:"Dish Image"}),r.a.createElement("div",{className:t.desc},r.a.createElement(m.a,{style:{fontSize:14,fontFamily:"Avenir",color:"black"},variant:"body2",color:"textSecondary",component:"p"},e.description),r.a.createElement(m.a,{style:{fontSize:14,fontFamily:"Avenir",marginTop:"7px",marginBottom:"7px",color:"black"},variant:"body2",color:"textSecondary",component:"p"},"Price - \u20b9",e.price,"/-")))),r.a.createElement(Do.a,null,r.a.createElement("img",{src:an.a,className:t.editBtn,onClick:function(){b(!0),v(e.id),C(e.name),T(e.status),B(e.description),F(e.price),U(e.lunch_images)}}),r.a.createElement(Ic.a,{onClick:function(){return t=e.id,i(!0),void u(t);var t},className:t.deleteBtn,fontSize:"medium"})))}));return r.a.createElement(r.a.Fragment,null,f?r.a.createElement(Dh,{edit:f,setEdit:b,editId:E,fetchData:e.refetch,updateName:O,updateStatus:w,updatePrice:L,updateDesc:I,updateImage:z}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:c,handleClose:function(){i(!1)},onhandleDelete:function(){console.log("Deleting dish"),e.deleteDishInDishes(d,V,K)},loading:e.deleteLoading}),W[0]||G?"":r.a.createElement("div",null,r.a.createElement(m.a,{className:t.message,variant:"h5",component:"h2"},"No dishes available yet!")),r.a.createElement("div",{className:t.container},q,G?r.a.createElement("div",{className:t.loading},r.a.createElement(kr.a,{color:"primary",size:30})):"")))})),Mh=Object(I.a)((function(e){return{container:{display:"flex",flexDirection:"column"},datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{height:"100%",width:"100%"},header:{display:"inline block"},cardBoxPadding:Object(C.a)({padding:"24px"},e.breakpoints.down("sm"),{padding:"16px"}),style:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},addNew:{color:e.palette.common.deluge,display:"flex",justifyContent:"flex-end",cursor:"pointer",marginRight:"15px","& .new":{float:"right",fontSize:"14px",padding:"5px",fontWeight:500},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},InfiniteScroll:{overflow:"revert !important","& .infinite-scroll-component":{overflow:"revert !important"}},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},formControl:{margin:e.spacing(1),minWidth:120,width:"50%"},head:{margin:"20px",position:"relative",display:"flex",flexDirection:"row",justifyContent:"center"},heading1:{fontSize:"18px",fontFamily:"Avenir medium",textAlign:"center"},heading2:{fontFamily:"Avenir medium",fontSize:"18px",color:"rgb(150, 150, 150)"},heading:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontFamily:"Avenir"},heading21:{position:"absolute",width:"100px",right:0,display:"flex",alignItems:"flex-end",justifyContent:"flex-end"},new:{display:"flex",justifyContent:"flex-end"}}}));var Ph=Object(i.c)((function(e){var t=(e.auth.userInfo||{}).user_classes||{};return{selectedRole:e.auth.selectedRole,school_id:t.school_id}}),{showDishListInDishes:Gp})((function(e){var t=Mh(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(S.a)(l,2),d=s[0],u=s[1],p=e.selectedRole,g=e.school_id,f=Object(n.useState)([]),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(!1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(1),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)({}),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)(!1),B=Object(S.a)(I,2),D=B[0],R=B[1];console.log("data :>> ",h);var L=function(e){console.log("result :>> ",{result:e,data:h}),e&&(j(!1),x([].concat(Object(Na.a)(h),Object(Na.a)(e.data.data))),_(e.data))},F=function(t,a){y||(j(!0),console.log("fetchData",a),e.showDishListInDishes(t,g,L))};Object(n.useEffect)((function(){g&&F(1,"useEffect")}),[]),Object(n.useEffect)((function(){D&&F(1,"fetchDataOnSuccess")}),[D]);var M=function(){x([]),k(1),_({}),R(Math.random())};return r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),A.last_page>N&&t&&!y&&!d){var a=N+1;F(a,"pagination"),j(!0),k(a)}},style:{height:"100%",overflow:"auto"}},c?r.a.createElement(Dh,{fetchData:M,close:function(){i(!1)}}):r.a.createElement("div",{className:t.container},d?"":r.a.createElement("div",{className:t.head},r.a.createElement("div",{className:t.heading},r.a.createElement("span",{className:t.heading1},"Dishes"))),d?"":"teacher"===p||"admin"===p?r.a.createElement("div",{className:t.new},r.a.createElement("div",{className:t.addNew,onClick:function(){i(!0)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"Add Dishes"))):"","teacher"===p||"admin"===p?r.a.createElement(Fh,{refetch:M,data:h,loading:y,setEdit:u}):""))})),zh=a(564),Uh=Object(I.a)((function(e){return{dateTimeContainer:{minWidth:"200px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},span:{fontFamily:"Avenir medium",fontSize:14}}})),Yh=Object(i.c)((function(e){var t=e.Attendence;return Object(zh.a)(t),{}}),{})((function(e){e.loading;var t=e.class_id,a=Uh();console.log("class_id",t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:e.open,onClose:e.close,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:a.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{className:a.dialogContent,container:!0,justify:"space-around"},r.a.createElement("span",{className:a.span},"Publish Now?"))))),r.a.createElement(Je.a,{classes:{root:a.dialogActionsContainer}},r.a.createElement(z.a,{color:"primary",variant:"outlined",onClick:e.close,className:a.button},"Cancel"),r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:a.button,onClick:function(){e.handlePublishNow()}},"Publish"))))})),Hh=Object(I.a)((function(e){return{dateTimeContainer:{minWidth:"200px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"}}})),Wh=function(e){var t=Hh(),a=e.open,o=e.handleClose,c=e.handlePublish,i=Object(n.useState)(null),l=Object(S.a)(i,2),s=l[0],d=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:a,onClose:o,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,justify:"space-around"},r.a.createElement(Ai.a,{variant:"dialog",value:s,onChange:function(e){d(e)},label:"Publish Date and Time ",minDate:new Date,format:"yyyy/MM/dd hh:mm a",InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))}}))))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{color:"primary",variant:"outlined",onClick:o,className:t.button},"Cancel"),r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:t.button,onClick:function(){c(s)}},"Publish"))))},Gh=Object(dt.a)((function(e){var t,a;return a={formStyle:{margin:"20px",marginBottom:"85px",paddingTop:"20px",backgroundColor:"white",justifyContent:"center",textAlign:"center",borderRadius:"5px"},backImg:{float:"left",transform:"translate(0px, 7px)",cursor:"pointer"},adornmentColor:{color:"rgba(0, 0, 0, 0.54)"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0},errorColor:{color:"red"},titleText:{textAlign:"center",margin:"auto",fontFamily:"Avenir Medium",fontize:"1.2rem",color:"#1C1C1E"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},snackBar:{"&.MuiSnackbar-root":{zIndex:e.zIndex.drawer+1,maxWidth:"400px"}},previewChip:{minWidth:300,maxWidth:400},inputBorder:{height:"50px"},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),paper:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",border:"1px solid ".concat(e.palette.common.deluge),padding:e.spacing(.5),margin:"auto"},showIn:{paddingTop:"5px"},textArea:{width:"100%"},paperShowIn:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:"auto"},chip:{margin:e.spacing(.5)},paperBoxShadow:{boxShadow:"2px 2px 2px 0 #E5E5EA"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},contentCenter:{justifyContent:"left"},chips:{display:"flex",flexWrap:"wrap"}},Object(C.a)(a,"chip",{margin:2}),Object(C.a)(a,"publishBtns",{textAlign:"right",justifyContent:"right","& .MuiButton-root":{textTransform:"capitalize"}}),Object(C.a)(a,"menuItem",{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"}),Object(C.a)(a,"sideMargins",{marginLeft:"20px",marginRight:"20px"}),Object(C.a)(a,"formControl",{width:"100%"}),Object(C.a)(a,"sideMarginright",{marginRight:"50px"}),Object(C.a)(a,"radio",{display:"flex",flexDirection:"row",justifyContent:"flex-start"}),Object(C.a)(a,"dropzone",{border:"solid !important",minHeight:"0px !important",width:"150px !important"}),Object(C.a)(a,"margin",(t={marginTop:"20px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t)),Object(C.a)(a,"circle",{padding:"4px",borderRadius:"50%",width:"3px",height:"2px",marginTop:"5px",marginRight:"4px"}),Object(C.a)(a,"circleRed",{backgroundColor:"#f44336"}),Object(C.a)(a,"circleGreen",{backgroundColor:"#14ee14"}),Object(C.a)(a,"red",{color:"#f44336"}),Object(C.a)(a,"green",{color:"#14ee14"}),Object(C.a)(a,"heading",{fontFamily:"Avenir medium",fontSize:14,width:"20%",display:"flex",marginLeft:"15px"}),Object(C.a)(a,"renderOption",{display:"flex",justifyContent:"space-between",width:"100%",paddingTop:"13px",paddingBottom:"8px"}),Object(C.a)(a,"optionHeading",{fontFamily:"Avenir medium",fontSize:14}),Object(C.a)(a,"optionPrice",{fontFamily:"Avenir book",fontSize:14,width:"20%",textAlign:"center"}),Object(C.a)(a,"optionContainer",{display:"flex",width:"80%"}),Object(C.a)(a,"headingMargin",{margin:"20px"}),a}));var Vh=Object(i.c)((function(e){var t=e.Attendence,a=t.classes,n=void 0===a?[]:a,r=t.lunchMenuGetByDish,o=void 0===r?[]:r,c=t.lunchMenuGetByWeek,i=void 0===c?[]:c;return{dishListData:o,dishListLoading:t.lunchMenuGetByDishLoading,weekday:i,weekdayLoading:t.lunchMenuGetByWeekLoading,publishLoading:t.lunchMenuPublishNowLoading,data:n,token:e.auth.token,school_id:e.auth.userInfo.user_classes.school_id}}),{getClasses:Up,lunchMenuSearch:Vp,lunchMenuGetByDish:function(e,t,a,n){return{type:ba,subtypes:Pp.LUNCH_MENU_GET_BY_DISH,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/lunch_menu","?get_by=dish&school_id=").concat(e),t)}(e,t)}}},lunchMenuGetByWeek:Kp,lunchMenuPublishNow:function(e,t,a,n){return{type:ba,subtypes:Pp.LUNCH_MENU_PUBLISH_NOW,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/lunch_menu","/").concat(e),t)}(e,t)}}},lunchMenuAll:qp})((function(e){var t,a=Gh(),o=Object(n.useState)(""),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)([]),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(""),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)("Select Day"),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)([]),C=Object(S.a)(O,2),k=C[0],w=C[1],T=Object(n.useState)([]),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)([]),D=Object(S.a)(B,2),R=D[0],L=D[1],F=Object(n.useState)(""),P=Object(S.a)(F,2),U=P[0],Y=P[1],H=Object(n.useState)(!1),W=Object(S.a)(H,2),G=W[0],V=W[1],K=Object(n.useState)(!1),q=Object(S.a)(K,2),J=q[0],Q=q[1],X=Object(n.useState)(!1),Z=Object(S.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!1),ae=Object(S.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)(!1),ce=Object(S.a)(oe,2),ie=(ce[0],ce[1]),le=(e.menuId,e.edit),se=e.updateDay,de=e.updateTitle,me=e.updateClasses,ue=e.updateDish;console.log("updateDayTitle",typeof me,me),e.data;var pe=e.class_id,ge=e.school_id,fe=e.dishListData,be=e.dishListLoading,he=e.weekday,xe=e.weekdayLoading;console.log("class_id",pe);var Ee=Object(n.useState)(!1),ve=Object(S.a)(Ee,2),ye=ve[0],je=ve[1],Oe=Object(n.useState)(!1),Se=Object(S.a)(Oe,2),Ce=Se[0],Ne=Se[1],ke=e.lunchMenuId,we=Object(s.h)();Object(n.useEffect)((function(){U&&le&&function(){console.log("handleUpdate");var e=[],t=[];me.map((function(t){if(U.data){var a=U.data.data.find((function(e){return e.id==t}));e.push(a)}})),V(!1),e.map((function(e){t.push(e.class_name)})),w(t)}()}),[U]),Object(n.useEffect)((function(){var t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ee(!0),t.next=3,_l.fetchClasses(e.token);case 3:a=t.sent,ee(!1),Y(a),n={},a.data.data.forEach((function(e){n[e.id]=e.class_name})),console.log("classesResponse",a),I(Object(N.a)({},n));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();"/lunch"!==we.pathname&&"/menu"!==we.pathname||t()}),[]);var Te=["All"].concat(Object(Na.a)(Object.values(_)));console.log("classStateNames",Te,Object.values(_)),Object(n.useEffect)((function(){le&&(g(ue),x(de),j(se))}),[]);var Ae=function(){if("Select Day"!==y||h||p[0]||k[0])if("Select Day"!==y||h||p[0])if(h||p[0]||k[0])if("Select Day"!==y||h||k[0])if("Select Day"!==y||p[0]||k[0])if("Select Day"!==y||h)if(h||p[0])if(p[0]||k[0])if("Select Day"!==y||k[0])if("Select Day"===y)l("All field are mandatory ");else if(h)if(p[0]){if(k[0])return!0;l("All field are mandatory ")}else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ");else l("All field are mandatory ")},_e=function(){je(!1)},Ie=function(){Ae()&&Ne(!0)},Be=new Date,De=Be.getHours(),Re=Be.getMinutes(),Le=Be.getSeconds(),Fe=Be.getDate(),Me=Be.getMonth(),Pe=Be.getFullYear()+"-"+(Me=((Me=parseInt(Me)+1)<10?"0":"")+Me)+"-"+(Fe=(Fe<10?"0":"")+Fe)+" "+(De=(De<10?"0":"")+De)+":"+(Re=(Re<10?"0":"")+Re)+":"+(Le=(Le<10?"0":"")+Le);console.log("mappedClass",R),Object(n.useEffect)((function(){!function(){var e={class:[]};k.find((function(e){return"All"===e}))?(e.class=Object(Na.a)(Object.keys(_)),console.log("classMapping",e.class)):k.forEach((function(t){e.class.push(parseInt(Object.keys(_).find((function(e){return _[e]===t}))))})),L(e)}()}),[k]);var ze=function(t,a){Q(!0),Ne(!1);var n=[];p.map((function(e){n.push(e.id)}));var r={name:h,lunch_dish_id:n,weekday_id:"Select Day"===y?"":y,school_id:ge,published_to:R,status:t,published_date:a||Pe};e.lunchMenuPublishNow(ke,r,He,We)},Ue=function(t){if("Select Day"!==y&&h&&k){var a=[];p.map((function(e){a.push(e.id)}));var n={name:h,lunch_dish_id:a,weekday_id:"Select Day"===y?"":y,school_id:ge,published_to:R,status:"draft"};e.lunchMenuPublishNow(ke,n,(function(){return function(t){t&&("All"===e.day?e.lunchMenuAll(ge,pe):e.lunchMenuSearch(e.day,pe,ge),e.close())}(t)}))}else t&&e.close()};Object(n.useEffect)((function(){ne&&Ue(!1)}),[ne]),Object(n.useEffect)((function(){return be||xe||$||(t=setInterval((function(){re(Math.random())}),1e4)),function(){return clearInterval(t)}}),[y,h,k,p]),console.log(h),Object(n.useEffect)((function(){Ye()}),[]);var Ye=function(){e.getClasses(),e.lunchMenuGetByDish(ge),e.lunchMenuGetByWeek()},He=function(){le?(ua.open("",!0,"Menu updated successfully"),e.close()):(ua.open("",!0,"Menu created successfully"),e.close()),_e(),"All"===e.day?e.lunchMenuAll(ge,pe):e.lunchMenuSearch(e.day,pe,ge),ie(!1),Q(!1)},We=function(e){_e(),console.log("error",e),e&&ua.open("",!1,e.message),Q(!1)};return r.a.createElement(r.a.Fragment,null,be||xe||$?r.a.createElement(Tr,{open:!!(be||xe||$)}):r.a.createElement(r.a.Fragment,null,G?r.a.createElement(Tr,{open:G}):r.a.createElement(r.a.Fragment,null,Ce?r.a.createElement(Wh,{handlePublish:function(e){ze("active",e),clearInterval(t)},open:Ie,handleClose:function(){Ne(!1)}}):"",ye?r.a.createElement(Yh,{handlePublishNow:function(){je(!1),clearInterval(t),ze("published")},open:ye,close:_e}):"",r.a.createElement("div",{className:a.headingMargin},r.a.createElement("img",{src:Yc.a,alt:"Back",className:a.backImg,onClick:function(){ie(!0),Ue(!0)}}),r.a.createElement(m.a,{variant:"h5",className:"".concat(a.themeColor," ").concat(a.titleText)},le?"Update Menu":"Create Menu")),r.a.createElement("form",{className:a.formStyle},i?r.a.createElement(mr.a,{className:a.margin,pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(a.errorColor)},i))):"",r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,className:a.menuItem,onChange:function(e){j(e.target.value),l("")}},xe?r.a.createElement(M.a,{value:"Select Day"},"Loading..."):r.a.createElement(M.a,{value:"Select Day"},"Select Day"),he.map((function(e){return r.a.createElement(M.a,{key:e.id,value:e.id},e.name)}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Xo.a,{id:"title",name:"title",className:a.inputBorder,value:h,onChange:function(e){x(e.target.value),l("")},label:"Title"}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Select classes"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:k,multiple:!0,onChange:function(e){w(e.target.value),l("")},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:a.chips},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){w(k.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:a.chip})})))}},Te.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(zc.a,{multiple:!0,id:"tags-standard",options:fe,defaultValue:ue,value:p,getOptionLabel:function(e){return e.name},renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{variant:"standard",label:"Select Dishes"}))},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Pc.a,Object.assign({},t({index:a}),{onDelete:function(){return function(e){var t=null,a=e?e.id:"",n=Object(Na.a)(p);n.map((function(e,n){(e?e.id:"")===a&&(t=n)})),null!=t&&n.splice(t,1),g(n)}(e)},label:e?e.name:""}))}))},renderOption:function(e){return r.a.createElement("div",{onClick:function(){return function(e){var t=null,a=e.id;p.map((function(e,n){e.id===a&&(t=n)})),null!=t?p.splice(t,1):p.push(e),g(p)}(e)},className:a.renderOption},r.a.createElement("div",{className:a.optionContainer},r.a.createElement("div",{style:{width:"15%"}},r.a.createElement("img",{width:"40px",height:"30px",src:e.lunch_images[0]?"".concat("https://dev.srmapi.in","/").concat(e.lunch_images[0].img_path,"/").concat(e.lunch_images[0].img_name):""})),r.a.createElement("div",{className:a.optionHeading},e.name),r.a.createElement("div",{className:"Veg"===e.status?"".concat(a.green," ").concat(a.heading):"".concat(a.red," ").concat(a.heading)},r.a.createElement("div",{className:"Veg"===e.status?"".concat(a.circleGreen," ").concat(a.circle):"".concat(a.circleRed," ").concat(a.circle)}),"Veg"===e.status?"Veg":"Non Veg")),r.a.createElement("div",{className:a.optionPrice},"Price - \u20b9",e.price,"/-"))}}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{container:!0,className:a.fieldStyle,direction:"row-reverse"},J?r.a.createElement(kr.a,null):r.a.createElement(en.a,{item:!0,sm:8,xs:12,className:a.publishBtns},r.a.createElement(z.a,{id:"publishLaterBtn",variant:"contained",onClick:Ie,className:"".concat(a.fieldStyle," ","publishBtn"," ","publishLaterBtn"),disableElevation:!0},"Publish Later"),r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(a.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(e){e.preventDefault(),Ae()&&je(!0)},disableElevation:!0},"Publish Now")),r.a.createElement(en.a,{item:!0,sm:4,xs:12,className:a.textAlignLeft},r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))))})),Kh=Object(dt.a)((function(e){return{root:Object(C.a)({margin:"20px 20px 0 20px",width:"100%",paddingBottom:"10px"},e.breakpoints.down("xs"),{width:"100%",margin:"15px 15px 0 15px"}),container:{display:"flex",width:"100%",flexWrap:"wrap",marginBottom:"85px"},editBtn:{marginLeft:"auto",width:"19px",height:"19px",paddingLeft:"10px",transform:"translateY(4px)",cursor:"pointer",marginBottom:"7px"},deleteBtn:{color:"rgb(175,175,175)",marginBottom:"-3px",cursor:"pointer"},desc:{display:"flex",flexDirection:"column",paddingLeft:"5px",paddingRight:"5px",marginLeft:"5px",marginRight:"5px",width:"80%"},img:{height:"100px",width:"20%"},header:{display:"flex",padding:"0 10px 10px 10px",justifyContent:"flex-start",float:"right"},heading:{fontFamily:"Avenir medium",fontSize:14},heading1:{width:"70%"},heading2:{width:"20%",display:"flex",justifyContent:"flex-start",paddingLeft:"20px"},red:{color:"#f44336"},green:{color:"#14ee14"},circle:{padding:"4px",borderRadius:"50%",height:"0px",marginTop:"5px",marginRight:"4px"},circleRed:{backgroundColor:"#f44336"},circleGreen:{backgroundColor:"#14ee14"},message:{fontFamily:"Avenir book",fontSize:14,textAlign:"center",marginTop:"20px"},message2:{fontFamily:"Avenir book",fontSize:14,textAlign:"center"},cardHeader:{display:"flex"},content:{fontSize:14,fontFamily:"Avenir",color:"black"},contentCard:{display:"flex",width:"100%"},description:{width:"80%",padding:"10px"},price:{padding:"10px",display:"flex",marginRight:"15px",justifyContent:"flex-end",width:"30%"},cardAction:{width:"85px"},actionHead:{fontFamily:"Avenir medium",fontSize:18,marginLeft:"10px",textAlign:"center"},statusText:{fontFamily:"Avenir medium",fontSize:18},actionArea:{cursor:"default",display:"flex",paddingTop:"15px",paddingBottom:"15px",justifyContent:"space-between"},actionAreaStu:{cursor:"default",display:"flex",paddingTop:"15px",paddingBottom:"15px",justifyContent:"center"},cardContent:{display:"flex",paddingTop:"5px",paddingBottom:"5px",width:"100%",cursor:"pointer"},status:{marginLeft:"16px",textTransform:"capitalize",color:"rgba(0,0,0,0.54)",width:"85px"},loading:{display:"flex",justifyContent:"center",paddingTop:"20px",width:"100%"}}}));var qh=Object(i.c)((function(e){var t=e.Attendence.deleteMenuLoading,a=(e.auth.userInfo||{}).user_classes||{},n=e.auth||{};return{deleteLoading:t,school_id:a.school_id,selectedRole:n.selectedRole}}),{deleteMenuInList:function(e,t,a,n,r){return{type:ba,subtypes:Pp.DELETE_MENU_IN_LIST,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.remove("".concat("/lunch_menu","/").concat(e,"?school_id=").concat(t,"&class_id=").concat(a))}(e,t,a)}}},lunchMenuAll:qp})((function(e){var t=Object(n.useState)(!1),a=Object(S.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Kh(),g=Object(s.g)(),f=e.school_id,b=e.class_id,h=e.deleteLoading,x=e.menuDataLoading,E=e.menuData||{},v=Object.entries(E),y=Object(n.useState)(!1),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(""),k=Object(S.a)(N,2),w=k[0],T=k[1],A=Object(n.useState)(""),_=Object(S.a)(A,2),I=_[0],B=_[1],D=Object(n.useState)([]),R=Object(S.a)(D,2),L=R[0],F=R[1],M=Object(n.useState)([]),P=Object(S.a)(M,2),z=P[0],U=P[1],Y=Object(n.useState)(!0),H=Object(S.a)(Y,2),W=H[0],G=H[1],V=e.selectedRole;Object(n.useEffect)((function(){e.setEdit(O)}),[O]),Object(n.useEffect)((function(){6==v.length&&(v[0][1].length||v[1][1].length||v[2][1].length||v[3][1].length||v[4][1].length||v[5][1].length?G(!1):G(!0)),1==v.length&&(v[0][1].length?G(!1):G(!0))}),[v]);var K=function(){c(!1)},q=function(){ua.open("",!0,"Lunch menu deleted successfully"),e.lunchMenuAll(f,b),K()},J=function(e){console.log("error",e),e&&ua.open("",!1,e.message)};return r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Vh,{day:e.day,class_id:b,updateDay:w,updateTitle:I,updateClasses:L,updateDish:z,close:function(){C(!1)},lunchMenuId:d,edit:O}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:o,handleClose:K,onhandleDelete:function(){e.deleteMenuInList(d,f,b,q,J)},loading:h}),x||e.menuFilterLoading||e.classesLoading?r.a.createElement("div",{className:p.loading},r.a.createElement(kr.a,null)):r.a.createElement(r.a.Fragment,null,W?r.a.createElement(m.a,{className:p.message,variant:"h5",component:"h2"},"No menu available yet!"):r.a.createElement("div",{className:p.container},v.map((function(t){return t[1][0]?r.a.createElement(it.a,{className:p.root},r.a.createElement(st.a,{className:"teacher"===V||"admin"===V?"".concat(p.actionArea):p.actionAreaStu},"teacher"===V||"admin"===V?r.a.createElement("div",{className:p.status},r.a.createElement(m.a,{className:p.statusText},t[1][0]?t[1][0].status:"")):"",r.a.createElement(m.a,{className:p.actionHead},t[1][0]?t[1][0].name:""),"teacher"===V||"admin"===V?r.a.createElement(Do.a,{className:p.cardAction},r.a.createElement("img",{src:an.a,className:p.editBtn,onClick:function(){var e=[];!function(e){u(e),C(!0)}(t[1][0].id),T(t[1][0].weekday_id),B(t[1][0].name),F(t[1][0].class_mapping),t[1][0].lunch_menu_dish.map((function(t){t.lunch_dishes[0]&&e.push(t.lunch_dishes[0])})),U(e)}}),r.a.createElement(Ic.a,{className:p.deleteBtn,onClick:function(){return e=t[1][0].id,c(!0),void u(e);var e},fontSize:"medium"})):""),t[1][0].lunch_menu_dish.map((function(t){return t.lunch_dish_id?r.a.createElement(lt.a,{className:p.cardContent,onClick:function(){var a={class_id:b,day:e.day};localStorage.setItem("menuValue",JSON.stringify(a)),g.push("/lunch/".concat(t.lunch_dish_id))}},r.a.createElement(Rh.a,{className:p.img,component:"img",alt:"Dish Images",height:"50",width:"40",image:t.lunch_dishes[0]?"".concat("https://dev.srmapi.in","/").concat(t.lunch_dishes[0].lunch_images[0].img_path,"/").concat(t.lunch_dishes[0].lunch_images[0].img_name):"",title:"Dish Image"}),r.a.createElement("div",{className:p.desc},r.a.createElement("div",{className:p.header},r.a.createElement(m.a,{className:p.heading,variant:"h5",component:"h2",style:{fontSize:16}},t.lunch_dishes[0]?t.lunch_dishes[0].name:""),r.a.createElement("div",{className:p.heading2},r.a.createElement("div",{className:t.lunch_dishes[0]?"Veg"===t.lunch_dishes[0].status?"".concat(p.circleGreen," ").concat(p.circle):"".concat(p.circleRed," ").concat(p.circle):""}),r.a.createElement(m.a,{className:t.lunch_dishes[0]?"Veg"===t.lunch_dishes[0].status?"".concat(p.green," ").concat(p.heading):"".concat(p.red," ").concat(p.heading):"",variant:"h5",component:"h2"},t.lunch_dishes[0]?"Veg"===t.lunch_dishes[0].status?"Veg":"Non Veg":""))),r.a.createElement("div",{className:p.contentCard},r.a.createElement("div",{className:p.description},r.a.createElement(m.a,{className:p.content,variant:"body2",color:"textSecondary",component:"p"},t.lunch_dishes[0]?t.lunch_dishes[0].description:"")),r.a.createElement("div",{className:p.price},r.a.createElement(m.a,{className:p.content,variant:"body2",color:"textSecondary",component:"p"},"Price - \u20b9",t.lunch_dishes[0]?t.lunch_dishes[0].price:"","/-"))))):""}))):""}))))))})),Jh=Object(I.a)((function(e){return{container:{},datePicker:{width:"25%",paddingRight:"10px"},sectionContainer:{height:"100%",width:"100%"},header:{display:"inline block",marginRight:"20px"},cardBoxPadding:Object(C.a)({padding:"24px"},e.breakpoints.down("sm"),{padding:"16px"}),style:{fonTize:"1rem",fontFamily:"Avenir Medium",fontWeight:"400",color:"#1C1C1E",textAlign:"center"},addNew:{color:e.palette.common.deluge,float:"right",cursor:"pointer","& .new":{float:"right",fontSize:"14px",padding:"5px",fontWeight:500},"& img":{margin:"5px",height:"20px",cursor:"pointer"}},InfiniteScroll:{overflow:"revert !important","& .infinite-scroll-component":{overflow:"revert !important"}},fieldStyle:{width:"170px",marginleft:"15px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},menuItem:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)",marginRight:"20px"},loading:{width:"100%",textAlign:"center",paddingTop:"8px",fontSize:"20px"},formControl:{marginLeft:"5px",minWidth:120,width:"50%"},head:{margin:"20px",position:"relative",display:"flex",flexDirection:"row",justifyContent:"center"},heading1:{fontSize:"18px",fontFamily:"Avenir medium",textAlign:"center"},heading2:{fontFamily:"Avenir medium",fontSize:"18px",color:"rgb(150, 150, 150)"},heading:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontFamily:"Avenir"},heading21:{position:"absolute",width:"100px",right:0,display:"flex",alignItems:"flex-end",justifyContent:"flex-end"},dropdown:{display:"flex",justifyContent:"space-between",marginLeft:"20px",width:"50%"}}}));var Qh=Object(i.c)((function(e){var t=e.Attendence,a=t.getLunchMenuId,n=t.lunchMenuAll,r=void 0===n?[]:n,o=t.lunchMenuAllLoading,c=t.getLunchMenuIdLoading,i=t.lunchMenuGetByWeek,l=void 0===i?[]:i,s=t.lunchMenuSearch,d=void 0===s?[]:s,m=t.lunchMenuSearchLoading,u=t.classesLoading,p=(e.auth.userInfo||{}).user_classes||{};return{weekday:l,lunchMenuData:d,lunchMenuLoading:m,lunchMenuAllData:r,lunchMenuAllLoading:o,data:a,loading:c,classesLoading:u,selectedRole:e.auth.selectedRole,school_id:p.school_id}}),{lunchMenuGetByWeek:Kp,getLunchMenuId:function(e,t,a){return{type:ba,subtypes:Pp.GET_LUNCH_MENU_ID,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.post("".concat("/lunch_menu"),e)}(e)}}},lunchMenuSearch:Vp,lunchMenuAll:qp,lunchMenuAllStu:function(e,t,a){return{type:ba,subtypes:Pp.LUNCH_MENU_ALL,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/lunch_menu_all"),e)}(e)}}}})((function(e){var t=Jh(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)("All"),s=Object(S.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=(j[0],j[1]),C=e.data,N=e.loading,k=C.lunch_menu_id,w=JSON.parse(localStorage.getItem("menuValue")),T=e.selectedRole,A=e.weekday,_=e.school_id,I=e.lunchMenuData,B=e.lunchMenuLoading,D=e.lunchMenuAllData,R=e.lunchMenuAllLoading,L=e.classesLoading;Object(n.useEffect)((function(){w&&(v(w.class_id),u(w.day),localStorage.removeItem("menuValue"))}),[]);var F="All"===d?D||{}:I||{};return F=F.lunch_menu,Object(n.useEffect)((function(){e.lunchMenuGetByWeek()}),[]),Object(n.useEffect)((function(){"All"!=d&&e.lunchMenuSearch(d,E,_)}),[d,E]),Object(n.useEffect)((function(){"All"===d&&E&&e.lunchMenuAll(_,E),"parent"!==T&&"student"!==T||e.lunchMenuAllStu()}),[E]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,c?N?r.a.createElement(Tr,{open:N}):r.a.createElement(Vh,{day:d,lunchMenuId:k,class_id:E,close:function(){i(!1)}}):r.a.createElement("div",{className:t.container},f?"":r.a.createElement("div",{className:t.head},r.a.createElement("div",{className:t.heading},r.a.createElement("span",{className:t.heading1},"Menu"))),f?"":r.a.createElement("div",{className:t.sectionContainer},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},"teacher"===T||"admin"===T?r.a.createElement("div",{className:t.addNew,onClick:function(){e.getLunchMenuId(),i(!0)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"Add")):"")),r.a.createElement("div",{className:t.dropdown},"teacher"===T||"admin"===T?r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(lg,{className:t.menuItem,onChange:function(e,t){v(e),O(t.class_name)},value:E})))):"",r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.filterForm},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,className:t.menuItem,onChange:function(e){u(e.target.value)}},r.a.createElement(M.a,{value:"All"},"All"),A.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)})))))))),r.a.createElement(qh,{day:d,class_id:E,setEdit:b,menuData:F,classesLoading:L,menuFilterLoading:B,menuDataLoading:R}))))})),Xh=Object(dt.a)((function(e){return{root:Object(C.a)({width:"100%",paddingBottom:"10px"},e.breakpoints.down("xs"),{width:"100%",margin:"15px 15px 0 15px"}),container:{display:"flex",margin:"20px",justifyContent:"center",flexWrap:"wrap",marginBottom:"75px"},bachBtn:{marginLeft:"0",width:"19px",height:"19px",paddingLeft:"3px",transform:"translateY(4px)",cursor:"pointer",marginBottom:"7px"},deleteBtn:{color:"rgb(175,175,175)",marginBottom:"-3px"},desc:{display:"flex",flexDirection:"column"},img:{height:"100px",width:"120px",marginRight:"15px",marginTop:"15px"},media:{display:"flex",flexWrap:"wrap"},header:{display:"flex",paddingBottom:"15px",justifyContent:"flex-start",float:"right"},heading:{fontFamily:"Avenir medium",fontSize:16},heading1:{width:"80%"},heading2:{width:"20%",display:"flex",justifyContent:"flex-end",paddingLeft:"20px"},red:{color:"#f44336"},green:{color:"#14ee14"},circle:{padding:"4px",borderRadius:"50%",height:"0px",marginTop:"5px",marginRight:"4px"},circleRed:{backgroundColor:"#f44336"},circleGreen:{backgroundColor:"#14ee14"},message:{fontFamily:"Avenir book",fontSize:14},cardHeader:{display:"flex"},content:{fontSize:14,fontFamily:"Avenir",color:"black"},contentCard:{display:"flex",width:"100%"},description:{width:"80%"},price:{display:"flex",justifyContent:"flex-end",width:"20%"},cardAction:{position:"absolute",left:"3px"},actionHead:{fontFamily:"Avenir medium",fontSize:18},actionArea:{display:"flex",paddingTop:"15px",paddingBottom:"15px"},CircularProgress:{display:"flex",justifyContent:"center",paddingTop:"50px"}}}));var Zh=Object(i.c)((function(e){var t=e.Attendence,a=t.menuDishDetails,n=void 0===a?[]:a,r=t.menuDishDetailsLoading,o=(e.auth.userInfo||{}).user_classes||{};return{data:n,loading:r,class_id:o.class_id,school_id:o.school_id}}),{menuDishDetails:function(e,t,a,n){return{type:ba,subtypes:Pp.MENU_DISH_DETAILS,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/lunch","/").concat(e),t)}(e,t)}}}})((function(e){var t,a=Object(s.i)().id,o=Xh(),c=Object(s.g)(),i=e.data,l=e.loading,d=(e.class_id,e.school_id,i[0]?i[0].lunch_images:[]),u=i[0]?i[0].status:"";return console.log("details data",i),Object(n.useEffect)((function(){e.menuDishDetails(a)}),[]),r.a.createElement("div",{className:o.container},l?r.a.createElement("div",{className:o.CircularProgress},r.a.createElement(kr.a,null)):r.a.createElement(it.a,{className:o.root},r.a.createElement(st.a,{className:o.actionArea},r.a.createElement(Do.a,{className:o.cardAction},r.a.createElement("img",{src:Yc.a,className:o.bachBtn,onClick:function(){return c.replace("/lunch")}})),r.a.createElement("div",null,r.a.createElement(m.a,{className:o.actionHead},"Dish Details"))),r.a.createElement(lt.a,{style:{display:"flex",flexDirection:"column",paddingTop:"5px",paddingBottom:"5px"}},r.a.createElement("div",{className:o.desc},r.a.createElement("div",{className:o.header},r.a.createElement("div",{className:o.heading1},r.a.createElement(m.a,{className:o.heading,variant:"h5",component:"h2"},i[0]?i[0].name:"")),r.a.createElement("div",{className:o.heading2},r.a.createElement("div",{className:"Veg"===u?"".concat(o.circleGreen," ").concat(o.circle):"".concat(o.circleRed," ").concat(o.circle)}),r.a.createElement(m.a,(t={className:o.heading},Object(C.a)(t,"className","Veg"===u?"".concat(o.green," ").concat(o.heading):"".concat(o.red," ").concat(o.heading)),Object(C.a)(t,"variant","h5"),Object(C.a)(t,"component","h2"),t),"Veg"===u?"Veg":"Non Veg"))),r.a.createElement("div",{className:o.contentCard},r.a.createElement("div",{className:o.description},r.a.createElement(m.a,{className:o.content,variant:"body2",color:"textSecondary",component:"p"},i[0]?i[0].description:"")),r.a.createElement("div",{className:o.price},r.a.createElement(m.a,{className:o.content,variant:"body2",color:"textSecondary",component:"p"},"Price - \u20b9",i[0]?i[0].price:"","/-")))),r.a.createElement("div",{className:o.media},d.map((function(e){return r.a.createElement(Rh.a,{className:o.img,component:"img",alt:"Contemplative Reptile",height:"50",width:"40",image:"".concat("https://dev.srmapi.in","/").concat(e.img_path,"/").concat(e.img_name),title:"Contemplative Reptile"})}))))))})),$h=Object(I.a)((function(e){var t,a;return{root:{margin:"20px"},title:{fontSize:14,fontFamily:"Avenir medium",lineHeight:"30px",margin:"10px"},pos:{marginBottom:12},sectionContainer:{width:"100%",flexWrap:"wrap",marginBottom:"85px"},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",color:"#1C1C1E"},textArea:{width:"100%"},editBtn:{marginLeft:"auto",cursor:"pointer"},textAlignRight:{textAlign:"right",color:"#AEAEB2",fontSize:"0.85rem"},imgDiv:{display:"flex",justifyContent:"flex-end",width:"100%"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},fieldStyleText:{width:"100%",margin:"0 10px 28px 10px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},margin:(t={},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t),marginText:(a={marginTop:"10px"},Object(C.a)(a,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(a,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(a,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),a),sideMargins:{marginRight:"10px",display:"flex",justifyContent:"flex-end","& .MuiButton-root":{textTransform:"capitalize"}},sideMarginsText:{display:"flex",justifyContent:"flex-end"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"}}}));var ex=Object(i.c)((function(e){var t=e.Attendence,a=(t.updateMiscellaneous,t.updateMiscellaneousLoading),n=t.getMiscellaneous;return{miscData:void 0===n?[]:n,getLoading:t.getMiscellaneousLoading,loading:a,school_id:((e.auth.userInfo||{}).user_classes||{}).school_id,token:e.auth.token,selectedRole:e.auth.selectedRole}}),{updateMiscellaneous:function(e,t,a,n,r){return{type:ba,subtypes:Pp.UPDATE_MISCELLANEOUS,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.put("".concat("/miscellaneous","/").concat(e,"?current_role=").concat(t),a)}(e,t,a)}}},getMiscellaneous:Qp})((function(e){var t,a=$h(),o=Object(s.i)().id,c=Object(s.g)(),i=Object(n.useState)(""),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)({}),x=Object(S.a)(h,2),E=x[0],v=x[1],y=e.getLoading,j=e.school_id,O=e.selectedRole;console.log("description test :>> ",d);var C=function(){ua.open("",!0,"Updated successfully"),c.replace("/miscellaneous/".concat(o)),b(!1)},N=function(e){console.log("error",e),e&&ua.open("",!1,e.message)},k=function(e){console.log("result :>> ",e),e&&(v(e.data),u(e.data.description))};Object(n.useEffect)((function(){e.getMiscellaneous(o,O,k)}),[]);var w=function(){c.push("/miscellaneous/".concat(o))},T=function(t){console.log("description put :>> ",d);var a=ea(new Date).format("YYYY-MM-DD hh:mm:ss"),n={name:E.name,school_id:j,description:d,status:"draft",published_date:a};t?e.updateMiscellaneous(o,O,n,w):e.updateMiscellaneous(o,O,n)};return Object(n.useEffect)((function(){return t=setInterval((function(){T(!1)}),1e4),function(){return clearInterval(t)}}),[d]),y?r.a.createElement(Tr,{open:y}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.sectionContainer},r.a.createElement("div",{className:a.headingDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:a.backImg,onClick:function(){T(!0)}}),r.a.createElement(m.a,{style:{fontSize:18},className:"".concat(a.themeColor," ").concat(a.titleText)},"prayer"===E.name?"Prayer":"vijayi"===E.name?"Vijayi Vishwa Tiranga Pyara":"national"===E.name?"National Pledge":"jaya"===E.name?"Jaya Bharat Jananiya":"saare"===E.name?"National Anthem":"rules"===E.name?"School Rules and Other Info":"")),r.a.createElement(it.a,{className:a.root},r.a.createElement(lt.a,null,r.a.createElement(mr.a,{className:"".concat(a.marginText," ").concat(a.sideMarginsText)},r.a.createElement(en.a,{className:a.fieldStyleText},r.a.createElement(Gc,{handleDescription:function(e){console.log("description :>> ",e),u(e)},value:d,token:e.token}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},f?r.a.createElement(kr.a,null):r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(a.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(){console.log("description put :>> ",d),b(!0),clearInterval(t);var a=ea(new Date).format("YYYY-MM-DD hh:mm:ss"),n={name:E.name,school_id:j,description:d,status:"published",published_date:a};e.updateMiscellaneous(o,O,n,C,N)},disableElevation:!0},"Publish"))))))})),tx=Object(I.a)((function(e){var t,a;return{descriptionContent:{color:"#1C1C1E",fontFamily:"Avenir Book",fontSize:14},root:{margin:"20px"},title:{fontSize:14,fontFamily:"Avenir medium",color:"#707070"},message:{fontSize:14,fontFamily:"Avenir medium",lineHeight:"30px",textAlign:"center"},pos:{marginBottom:12},sectionContainer:{width:"100%",flexWrap:"wrap",marginBottom:"85px"},headingDiv:{margin:"20px 20px 20px 20px",display:"flex",justifyContent:"center"},backImg:{cursor:"pointer",position:"absolute",left:"20px",top:"25px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",color:"#1C1C1E"},textArea:{width:"100%"},editBtn:{marginLeft:"auto",cursor:"pointer"},textAlignRight:{textAlign:"right",color:"#AEAEB2",fontSize:"0.85rem"},imgDiv:{display:"flex",justifyContent:"flex-end"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},fieldStyleText:{width:"100%",margin:"0 10px 28px 10px",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},margin:(t={},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t),marginText:(a={marginTop:"10px"},Object(C.a)(a,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(a,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(a,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),a),sideMargins:{marginRight:"10px",display:"flex",justifyContent:"flex-end"},sideMarginsText:{display:"flex",justifyContent:"flex-end"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},status:{fontFamily:"Avenir medium",fontSize:18,textTransform:"capitalize",color:"rgba(0,0,0,0.54)",position:"absolute",top:"20px",right:"20px"},cardContent:{padding:"20px","& .MuiCardContent-root:last-child":{paddingBottom:"none"}}}}));var ax=Object(i.c)((function(e){var t=e.Attendence,a=t.getMiscellaneous;return{data:void 0===a?[]:a,loading:t.getMiscellaneousLoading,school_id:((e.auth.userInfo||{}).user_classes||{}).school_id,selectedRole:e.auth.selectedRole}}),{getMiscellaneous:Qp})((function(e){var t=tx(),a=Object(s.i)().id,o=Object(s.g)(),c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=(i[0],i[1],Object(n.useState)("")),d=Object(S.a)(l,2),u=(d[0],d[1],e.data),p=e.loading,g=e.selectedRole;return console.log("data get",u),Object(n.useEffect)((function(){e.getMiscellaneous(a,g)}),[]),r.a.createElement(r.a.Fragment,null,p?r.a.createElement(Tr,{open:p}):r.a.createElement("div",{className:t.sectionContainer},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){o.replace("/miscellaneous")}}),r.a.createElement("div",{className:t.headingDiv},r.a.createElement(m.a,{style:{fontSize:18},className:"".concat(t.themeColor," ").concat(t.titleText)},"prayer"===u.name?"Prayer":"vijayi"===u.name?"Vijayi Vishwa Tiranga Pyara":"national"===u.name?"National Pledge":"jaya"===u.name?"Jaya Bharat Jananiya":"saare"===u.name?"National Anthem":"rules"===u.name?"School Rules and Other Info":"")),"teacher"===g||"admin"===g?r.a.createElement(m.a,{className:t.status},u.status):"",r.a.createElement(it.a,{className:t.root},r.a.createElement(lt.a,{className:t.cardContent},u.description?r.a.createElement("div",{className:"".concat(t.descriptionContent),dangerouslySetInnerHTML:{__html:u.description}}):r.a.createElement(m.a,{className:t.message},"No record found!"),"teacher"===e.selectedRole||"admin"===e.selectedRole?r.a.createElement("div",{className:"".concat(t.imgDiv," ").concat(t.textAlignRight)},r.a.createElement("img",{src:an.a,onClick:function(){o.push("/miscellaneous/".concat(a,"/edit"))},className:t.editBtn})):""))))})),nx=Object(dt.a)((function(e){var t,a;return a={formStyle:{marginBottom:"85px",backgroundColor:"white",borderRadius:"5px"},backImg:{float:"left",transform:"translate(0px, 7px)",cursor:"pointer"},adornmentColor:{color:"rgba(0, 0, 0, 0.54)"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0},errorColor:{color:"red",textAlign:"center",marginTop:"10px"},titleText:{textAlign:"center",margin:"auto",fontFamily:"Avenir Medium",fontize:"1.2rem",color:"#1C1C1E"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiFormLabel-root":{fontFamily:"Avenir Book",fontSize:14,color:"#AEAEB2"}},inputBorder:{},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),paper:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",border:"1px solid ".concat(e.palette.common.deluge),padding:e.spacing(.5),margin:"auto"},showIn:{paddingTop:"5px"},textArea:{width:"100%"},paperShowIn:{display:"flex",minHeight:"40px",backgroundColor:"none",justifyContent:"left",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:"auto"},chip:{margin:e.spacing(.5)},paperBoxShadow:{boxShadow:"2px 2px 2px 0 #E5E5EA"},textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},contentCenter:{justifyContent:"left"},chips:{display:"flex",flexWrap:"wrap"}},Object(C.a)(a,"chip",{margin:2}),Object(C.a)(a,"publishBtns",{textAlign:"right",justifyContent:"right","& .MuiButton-root":{textTransform:"capitalize"}}),Object(C.a)(a,"sideMargins",{marginLeft:"20px",marginRight:"20px"}),Object(C.a)(a,"sideMarginright",{marginRight:"50px"}),Object(C.a)(a,"margin",(t={marginTop:"30px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t)),Object(C.a)(a,"header",{margin:"20px"}),a}));var rx=Object(i.c)((function(e){var t=e.Attendence,a=t.classesLoading,n=t.schoolGrade,r=void 0===n?[]:n,o=t.schoolGradeLoading,c=t.putDiaryMultipleLoading,i=(e.auth.userInfo||{}).user_classes||{};return{grade:r,gradeLoading:o,classesLoading:a,putLoading:c,selectedRole:e.auth.selectedRole,school_id:i.school_id,token:e.auth.token}}),{putDiaryMultiple:function(e,t,a,n){return{type:ba,subtypes:Pp.PUT_DIARY_MULTIPLE,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/dairy_many","/").concat(e),t)}(e,t)}}},schoolGrade:function(e,t,a,n){return{type:ba,subtypes:Pp.SCHOOL_GRADE,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/school_grades","?school_id=").concat(e),t)}(e,t)}}},diarySeenUnseen:Zp})((function(e){var t,a=nx(),o=Object(s.i)(),c=o.id,i=o.student_id,l=Object(s.g)(),d=Object(n.useState)(""),u=Object(S.a)(d,2),p=u[0],g=(u[1],Object(n.useState)("")),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)([]),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)([]),O=Object(S.a)(j,2),C=O[0],k=O[1],w=Object(n.useState)([]),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)([]),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)([]),F=Object(S.a)(L,2),P=F[0],U=F[1],Y=Object(n.useState)([]),H=Object(S.a)(Y,2),G=H[0],V=H[1],K=Object(n.useState)(""),q=Object(S.a)(K,2),J=q[0],Q=q[1],X=Object(n.useState)(null),Z=Object(S.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(""),ae=Object(S.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)([]),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=Object(n.useState)([]),de=Object(S.a)(se,2),me=de[0],ue=de[1],pe=Object(n.useState)(!1),ge=Object(S.a)(pe,2),fe=ge[0],be=ge[1],he=Object(n.useState)(!1),xe=Object(S.a)(he,2),Ee=xe[0],ve=xe[1],ye=Object(n.useState)(!1),je=Object(S.a)(ye,2),Oe=je[0],Se=je[1],Ce=Object(n.useState)(!1),Ne=Object(S.a)(Ce,2),ke=Ne[0],we=Ne[1],Te=Object(s.h)();console.log("classState",v);var Ae=e.grade,_e=e.gradeLoading,Ie=e.classesLoading,Be=e.selectedRole,De=e.school_id;Object(n.useEffect)((function(){!function(){var e=[];P.map((function(t){var a=Ae.find((function(e){return e.name===t}));e.push(a.id)})),V(e)}()}),[P]),Object(n.useEffect)((function(){v.map((function(e){"All Teachers"===e&&ve(!0),"All Parents"===e&&be(!0)}))}),[v]),Object(n.useEffect)((function(){var t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_l.fetchClasses(e.token);case 2:a=t.sent,k(a.data.data),console.log("classesResponse",a),n={},a.data.data.forEach((function(e){n[e.id]=e.class_name})),_(Object(N.a)({},n));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Te.pathname!=="/diary/".concat(i,"/edit/").concat(c)&&Te.pathname!=="/diary/".concat(i,"/edit/").concat(c)||t()}),[]);var Re=["Select All","All Teachers","All Parents"].concat(Object(Na.a)(Object.values(A)));Object(n.useEffect)((function(){!function(){var e=[];v.find((function(e){return"Select All"===e}))?e=Object(Na.a)(Object.keys(A)):v.forEach((function(t){e.push(parseInt(Object.keys(A).find((function(e){return A[e]===t}))))})),R(e)}()}),[v]),console.log("classUpdate, apiclassId",ie),Object(n.useEffect)((function(){C[0]&&ie&&function(){var e=[],t=ie.class||[];ie.teachers&&e.push("All Teachers"),ie.parents&&e.push("All Parents"),t.map((function(t){var a=C.find((function(e){return e.id===t}));a&&e.push(a.class_name)})),y(e),console.log("className",e)}()}),[C,ie]),Object(n.useEffect)((function(){!function(){console.log("apiGradeGroup",Ae);var e=[];(me||[]).map((function(t){var a=Ae.find((function(e){return e.id===t}));e.push(a.name)})),console.log("gradeName",e),U(e)}()}),[me,Ae]);var Le=function(e){console.log("result",e.data),h(e.data.diary.title),ee(e.data.diary.date),Q(e.data.diary.description),le(e.data.diary.class_mapping),ue(e.data.diary.grade_group)},Fe=function(){};Object(n.useEffect)((function(){e.schoolGrade(De),e.diarySeenUnseen(c,Be,Le,Fe)}),[]),console.log("props.back :>> ",e.back),Object(n.useEffect)((function(){e.back&&Me()}),[e.back]);var Me=function(){Pe(!0)},Pe=function(t){console.log("isBack :>> ",t);var a=ea($).format("YYYY-MM-DD");console.log("time",a),"Invalid date"===a&&(a="");var n={title:b,school_id:De,description:J,date:a,published_to:{class:D,parents:fe,teachers:Ee},grade_group_id:G};e.putDiaryMultiple(c,n,(function(){return function(t){e.setPutBack(!1),t&&l.push("/diary/".concat(i,"/tab/0"))}(t)}))};Object(n.useEffect)((function(){Oe&&"multiple"===e.menuVal&&Pe(!1)}),[Oe]),Object(n.useEffect)((function(){return _e||Ie||(t=setInterval((function(){Se(Math.random())}),1e4)),function(){return clearInterval(t)}}),[J,P,b,v,$]),Object(n.useEffect)((function(){if($){var e=ea($).format("YYYY-MM-DD");re(e)}}),[$]);var ze=function(){ua.open("",!0,"Diary created successfully"),l.push("/diary/".concat(i,"/tab/0")),we(!1)},Ue=function(e){console.log("error",e),e&&ua.open("",!1,e.message),we(!1)};return r.a.createElement(r.a.Fragment,null,_e||Ie?r.a.createElement(Tr,{open:!(!_e&&!Ie)}):r.a.createElement("form",{className:a.formStyle},p?r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(a.errorColor)},p)):"",r.a.createElement(mr.a,{className:" ".concat(a.sideMargins)},r.a.createElement(dr.a,{style:{marginTop:"30px"},className:a.fieldStyle},r.a.createElement(Xo.a,{id:"title",name:"title",className:a.inputBorder,value:b,onChange:function(t){h(t.target.value),e.setError(!1)},required:!0,label:"Title"}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:a.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"date",label:"Date",variant:"dialog",minDate:new Date,format:"yyyy/MM/dd",value:$,onChange:function(t){ee(t),e.setError(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:a.datePicker}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Show In"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:v,multiple:!0,onChange:function(t){y(t.target.value),e.setError(!1)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:a.chips},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){y(v.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:a.chip})})))}},Re.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Grade"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:P,multiple:!0,onChange:function(t){U(t.target.value),e.setError(!1)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:a.chips},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){U(P.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:a.chip})})))}},Ae.map((function(e){return r.a.createElement(M.a,{key:e.id,value:e.name},e.name)}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{className:a.fieldStyle},r.a.createElement(Xo.a,{className:a.textArea,id:"outlined-multiline-static",label:"",multiline:!0,rows:5,placeholder:"Description",value:J,onChange:function(t){Q(t.target.value),e.setError(!1)},variant:"outlined"}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{container:!0,className:a.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:6,xs:12,className:a.publishBtns},ke?r.a.createElement(kr.a,null):r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(a.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(a){a.preventDefault(),clearInterval(t);var n=ea(new Date).format("YYYY-MM-DD hh:mm:ss");if(function(){var t=!v[0]&&!P[0];if(console.log("stat",t),v[0]||P[0])if(b)if($){if(J)return!0;e.setError("A Mandatory field isn't filled!")}else e.setError("A Mandatory field isn't filled!");else e.setError("A Mandatory field isn't filled!");else e.setError("A Mandatory field isn't filled!")}()){we(!0);var r={title:b,school_id:De,description:J,date:ne,published_to:{class:D,parents:fe,teachers:Ee},grade_group_id:G,status:"published",published_date:n};e.putDiaryMultiple(c,r,ze,Ue)}},disableElevation:!0},"Save")),r.a.createElement(en.a,{item:!0,sm:6,xs:12,className:a.textAlignLeft},r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))})),ox=Object(dt.a)((function(e){return{root:{flexGrow:1,"& .MuiBox-root":{padding:"0px !important"},"& .PrivateTabIndicator-colorSecondary":{backgroundColor:"#7B72AF"},"& .MuiTabs-indicator":{backgroundColor:"#7B72AF !important"}},rootCard:{margin:"20px 0 20px 0",display:"flex"},Avatar:{margin:"20px 0 20px 20px"},name:{fontFamily:"Avenir Heavy",fontSize:16,marginTop:"15px",marginLeft:"10px"},class_name:{},stuName:{fontFamily:"Avenir medium",fontSize:14,marginTop:"-32px",marginLeft:"10px"},borderLeft:{borderLeft:"1px solid #aeaeb2",height:"48px",textAlign:"center"},stuClass:{fontFamily:"Avenir Roman",fontSize:14,position:"absolute",marginTop:"14px",right:"41px",textTransform:"uppercase",color:"rgba(0,0,0,0.54)"},tabPanel:{"& .MuiBox-root:before":{padding:"none !important"}},tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"14px",fontFamily:"Avenir medium"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}},display:{display:"none"},message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"}}}));function cx(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,{p:3},r.a.createElement(m.a,null,t)))}function ix(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}}function lx(e){return r.a.createElement(oo.a,Object.assign({component:"a",onClick:function(e){e.preventDefault()}},e))}function sx(e){var t=ox(),a=r.a.useState(0),n=Object(S.a)(a,2),o=n[0],c=n[1],i=e.seenUsers,l=e.unseenUsers;return r.a.createElement("div",{className:t.root},r.a.createElement(T.a,{position:"static",className:t.tabBar,style:{backgroundColor:"none",color:"black"}},r.a.createElement(ro.a,{variant:"fullWidth",value:o,onChange:function(e,t){c(t)},"aria-label":"nav tabs example",className:t.tabs},r.a.createElement(lx,Object.assign({className:"".concat(t.eventsTab," ").concat(t.borderRight),label:i?"Seen (".concat(i.length,")"):"Seen (0)",href:"/drafts"},ix(0))),r.a.createElement(lx,Object.assign({className:"".concat(t.eventsTab),label:l?"Unseen (".concat(l.length,")"):"Unseen (0)",href:"/trash"},ix(1))))),r.a.createElement(cx,{value:o,index:0,className:t.tabPanel},i?i.map((function(e){return r.a.createElement(it.a,{className:t.rootCard},r.a.createElement("div",{style:{width:"7%"}},r.a.createElement(P.a,{className:t.Avatar,alt:"Student image",src:e.thumbnail?"".concat(e.thumbnail):Gb.a})),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(lt.a,null,r.a.createElement(m.a,{className:t.name},e.firstname)),r.a.createElement(lt.a,null,r.a.createElement(m.a,{className:t.stuClass},e.lastname))))})):r.a.createElement(m.a,{className:t.message},"No students available yet!")),r.a.createElement(cx,{value:o,index:1},l?l.map((function(e){return r.a.createElement(it.a,{className:t.rootCard},r.a.createElement("div",{style:{width:"7%"}},r.a.createElement(P.a,{className:t.Avatar,alt:"Student image",src:e.thumbnail?"".concat(e.thumbnail):Gb.a})),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(lt.a,null,r.a.createElement(m.a,{className:t.name},e.firstname)),r.a.createElement(lt.a,null,r.a.createElement(m.a,{className:t.stuClass,variant:"body2",component:"p"},e.lastname))))})):r.a.createElement(m.a,{className:t.message},"No students available yet!"," ")))}var dx=Object(I.a)((function(e){return{card:{marginBottom:"20px"},sectionContainer:{flexWrap:"wrap",margin:"20px",marginBottom:"85px"},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",color:"#1C1C1E"},textAlignRight:{fontStyle:"normal",textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Roman"},imgDiv:{display:"flex",justifyContent:"flex-end",width:"100%"},labelText:{fontStyle:"normal",color:"#1C1C1E",fontSize:14,fontFamily:"Avenir Book",lineHeight:"19px"},span:{textTransform:"uppercase"},circularProgress:{display:"flex",height:"70%",justifyContent:"center",alignItems:"center"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#2C2C2E",paddingBottom:"12px"}}}));var mx=Object(i.c)((function(e){var t=e.Attendence,a=t.diarySeenUnseen,n=void 0===a?[]:a,r=t.diarySeenUnseenLoading,o=(e.auth.userInfo||{}).user_classes||{};return{data:n,dataLoading:r,selectedRole:e.auth.selectedRole,school_id:o.school_id}}),{diarySeenUnseen:Zp})((function(e){var t=dx(),a=Object(s.i)(),o=a.id,c=a.student_id,i=a.selectedTab,l=Object(s.g)(),d=e.data,u=e.dataLoading,p=e.selectedRole,g=d.diary||{};return Object(n.useEffect)((function(){e.diarySeenUnseen(o,p)}),[]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,null)):r.a.createElement("div",{className:t.sectionContainer},r.a.createElement("div",{className:t.headingDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){l.push({pathname:"/diary/".concat(c,"/tab/").concat(i)})}}),r.a.createElement(m.a,{style:{fontSize:18},className:"".concat(t.themeColor," ").concat(t.titleText)},"Diary Details")),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",null,r.a.createElement(m.a,{className:t.title},g.title))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},ea(g.created_at).format("DD MMM,hh:mm A")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8}),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:" ".concat(t.textAlignRight)},r.a.createElement("span",{className:"".concat(t.span)},g.status)))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement(m.a,{className:t.labelText},r.a.createElement(m.a,null),g.description)),r.a.createElement(en.a,{item:!0,xs:4})))),r.a.createElement(sx,{seenUsers:d.seen_users,unseenUsers:d.unseen_users})))})),ux=a(921),px=Object(dt.a)((function(e){var t,a;return{errorColor:{color:"red",textAlign:"center"},formStyle:{margin:"0 20px",backgroundColor:"white",justifyContent:"center",textAlign:"left",marginBottom:"90px",borderRadius:"5px"},formDiv:{},margin:(t={marginTop:"30px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),t),sideMargins:{marginLeft:"20px",marginRight:"20px"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",fontize:"1.2rem",color:"#1C1C1E"},inputBorder:{height:"50px","& .MuiFormLabel-root":{fontFamily:"Avenir Book",color:"#707070",fontSize:14}},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiSelect-selectMenu":{color:"#707070",fontFamily:"Avenir Book",fontSize:14}},fieldStyleDropdown:{position:"absolute",top:18,right:0,fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiSelect-selectMenu":{color:"#1C1C1E",fontFamily:"Avenir Medium",fontSize:18}},datePicker:(a={width:"100%"},Object(C.a)(a,e.breakpoints.down("xs"),{width:"100%"}),Object(C.a)(a,"& .MuiFormLabel-root",{fontFamily:"Avenir Book",color:"#707070",fontSize:14}),a),textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},textArea:{width:"100%"},radioBtn:{display:"flex",flexDirection:"row",fontFamily:"Avenir",fontSize:14},headingDiv:{margin:"20px 20px 30px",display:"flex",alignItems:"center",justifyContent:"center"},publishBtns:{textAlign:"right",justifyContent:"right","& .MuiButton-root":{textTransform:"capitalize"}},paddingTop:{paddingTop:"40px"},radio:{display:"flex",flexDirection:"row",textAlign:"left","& .MuiTypography-body1":{fontFamily:"Avenir Book",color:"#707070",fontSize:14}},checkBox:{marginLeft:"-9px",marginRight:"-11px",flexDirection:"row","& .MuiTypography-body1":{fontFamily:"Avenir Book",color:"#707070",fontSize:14}},dropdown:{position:"absolute",right:"20px"}}})),gx=Object(Jt.a)({root:{"&$checked":{color:"#7B72AF"}},checked:{}})((function(e){return r.a.createElement(Sp.a,Object.assign({color:"default"},e))}));var fx=Object(i.c)((function(e){var t=e.Attendence,a=t.individualDiaryPutLoading,n=t.getDetailsById;return{data:void 0===n?[]:n,dataLoading:t.getDetailsByIdLoading,putLoading:a,school_id:((e.auth.userInfo||{}).user_classes||{}).school_id,selectedRole:e.auth.selectedRole}}),{individualDiaryPut:function(e,t,a,n,r,o){return{type:ba,subtypes:Pp.INDIVIDUAL_DIARY_PUT,onSuccessCallback:r,onFailCallback:o,promise:function(){return function(e,t,a,n){return ga.put("".concat("/dairy","/").concat(e,"?current_role=").concat(t,"&student_id=").concat(a),n)}(e,t,a,n)}}},individualDiaryPutForParent:function(e,t,a,n,r,o,c){return{type:ba,subtypes:Pp.INDIVIDUAL_DIARY_PUT_FOR_PARENT,onSuccessCallback:o,onFailCallback:c,promise:function(){return function(e,t,a,n,r){return ga.put("".concat("/dairy","/").concat(e,"?current_role=").concat(t,"&student_id=").concat(n),a,{headers:{Authorization:"Bearer ".concat(r)}})}(e,t,a,n,r)}}},getDetailsById:eg,getDetailsByIdParent:tg})((function(e){var t,a=px(),o=Object(s.i)(),c=o.id,i=o.student_id,l=Object(s.g)(),d=Object(n.useState)(!0),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(""),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(null),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(""),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(""),T=Object(S.a)(w,2),A=T[0],_=T[1],I=Object(n.useState)("general"),B=Object(S.a)(I,2),D=B[0],R=B[1],L=Object(n.useState)(!1),F=Object(S.a)(L,2),P=F[0],U=F[1],Y=Object(n.useState)(!1),H=Object(S.a)(Y,2),G=H[0],V=H[1],K=Object(n.useState)(!1),q=Object(S.a)(K,2),J=q[0],Q=q[1],X=Object(n.useState)(""),Z=Object(S.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)("individual"),ae=Object(S.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)(!1),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=Object(n.useState)(!1),de=Object(S.a)(se,2),me=de[0],ue=de[1],pe=e.school_id,ge=e.selectedRole,fe=e.data,be=e.dataLoading,he=localStorage.getItem("srmToken"),xe=(fe.diary,window.localStorage),Ee=xe.srmSelected_Child,ve=xe.srmChild_dict,ye=new Function("return ["+ve+"];")()[0][Ee].userDetails.id,je=function(){if(h||y||A)if(h||y)if(y||A)if(h||A)if(h)if(y){if(A)return!0;ee("A Mandatory field isn't filled!")}else ee("A Mandatory field isn't filled!");else ee("A Mandatory field isn't filled!");else ee("A Mandatory field isn't filled!");else ee("A Mandatory field isn't filled!");else ee("A Mandatory field isn't filled!");else ee("A Mandatory field isn't filled!")};Object(n.useEffect)((function(){"parent"===ge&&Q(!0)}),[ge]),Object(n.useEffect)((function(){if(y){var e=new Date(y),t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),a=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);k(t+"-"+a+"-"+n)}}),[y]);var Oe=function(e){x(e.data.diary.title),j(e.data.diary.date),"0"===e.data.diary.acknowledgement?g(!1):g(!0),_(e.data.diary.description),e.data.diary.diary_status?R(e.data.diary.diary_status):R("general"),"individual"===e.data.diary.diary?re("individual"):"multiple"===e.data.diary.diary&&re("multiple")};Object(n.useEffect)((function(){"parent"===ge?e.getDetailsByIdParent(c,ge,ye,he):e.getDetailsById(c,ge,i,Oe)}),[]),console.log("back :>> ",ie);var Se=function(t){ue(!1),t&&("teacher"===e.selectedRole||"admin"===e.selectedRole?l.push("/diary/".concat(i,"/tab/0")):l.push("/diary/tab/0"))},Ce=function(t){var a={title:h,school_id:pe,diary_status:D,description:A,date:N,acknowledgement:p,student_id:i},n={title:h,school_id:pe,diary_status:D,description:A,date:N,acknowledgement:p,student_id:ye};J?e.individualDiaryPutForParent(c,ge,n,ye,he,(function(){return Se(t)})):e.individualDiaryPut(c,ge,i,a,(function(){return Se(t)}))};Object(n.useEffect)((function(){G&&"individual"===ne&&Ce(!1)}),[G]),Object(n.useEffect)((function(){return t=setInterval((function(){V(Math.random())}),1e4),function(){return clearInterval(t)}}),[A,h,y,p,D]);var Ne=function(){ua.open("",!0,"Diary created successfully"),"parent"===e.selectedRole?l.push("/diary/tab/0"):l.push("/diary/".concat(i,"/tab/0")),U(!1)},ke=function(e){console.log("error",e),e&&ua.open("",!1,e.message),U(!1)};return r.a.createElement(r.a.Fragment,null,be||me?r.a.createElement(Tr,{open:!(!be&&!me)}):r.a.createElement("div",{className:a.formDiv},r.a.createElement("div",{className:a.headingDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:a.backImg,onClick:function(){"individual"===ne?Ce(!0):"multiple"===ne&&(console.log("back multi"),le(Math.random))}}),r.a.createElement(m.a,{variant:"h5",style:{fontSize:18},className:"".concat(a.themeColor," ").concat(a.titleText)},"Create New Diary Entry"),"teacher"===ge||"admin"===ge?r.a.createElement(dr.a,{className:a.fieldStyleDropdown},r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",className:a.dropdown,value:ne,onChange:function(e){re(e.target.value)},classes:{paper:a.menuContainer,list:a.menuList}},r.a.createElement(M.a,{value:"individual"},"Individual Diary"),r.a.createElement(M.a,{value:"multiple"},"Multiple Diary"))):""),r.a.createElement("form",{className:a.formStyle},$?r.a.createElement(mr.a,{className:a.margin,pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(a.errorColor)},$))):"","individual"===ne?r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:"".concat(a.fieldStyle," ").concat(a.paddingTop)},r.a.createElement(Xo.a,{label:"Title",id:"title",name:"title",className:a.inputBorder,value:h,onChange:function(e){x(e.target.value),ee(!1)},required:!0}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:a.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"eventDate",label:"Date",variant:"dialog",minDate:new Date,format:"MM/dd/yyyy",value:y,onChange:function(e){j(e),ee(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:a.datePicker}))))),"teacher"===ge||"admin"===ge?r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{className:a.fieldStyle},r.a.createElement(dr.a,{component:"fieldset"},r.a.createElement(jp.a,{"aria-label":"radio",name:"radio1",value:D,className:a.radio,onChange:function(e){R(e.target.value),console.log("diaryStatus",e.target.value)}},r.a.createElement(Op.a,{value:"general",control:r.a.createElement(gx,null),label:"General Diary"}),r.a.createElement(Op.a,{value:"teacher",control:r.a.createElement(gx,null),label:"Teacher's Observation"}),r.a.createElement(Op.a,{value:"late",control:r.a.createElement(gx,null),label:"Late Coming"}))))):"",r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{className:a.fieldStyle},r.a.createElement(Xo.a,{className:a.textArea,id:"outlined-multiline-static",label:"",multiline:!0,rows:5,placeholder:"Description",value:A,onChange:function(e){_(e.target.value),ee(!1)},variant:"outlined"}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{container:!0,className:a.fieldStyle,direction:"row"},r.a.createElement(en.a,{item:!0,sm:10,xs:12,className:a.textAlignLeft},r.a.createElement(ux.a,null,r.a.createElement(Op.a,{className:a.checkBox,value:"acknowledgement required",control:r.a.createElement(io.a,{checked:p,color:"primary"}),label:"Acknowledgement Required",labelPlacement:"start",onChange:function(e){g(e.target.checked)}}))),r.a.createElement(en.a,{item:!0,sm:2,xs:12,className:a.publishBtns},P?r.a.createElement(kr.a,null):r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(a.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(a){if(a.preventDefault(),clearInterval(t),console.log("validForm",je()),je()){U(!0);var n=ea(new Date).format("YYYY-MM-DD hh:mm:ss"),r={title:h,school_id:pe,diary_status:D,description:A,date:N,acknowledgement:p,student_id:i,status:"published",published_date:n},o={title:h,school_id:pe,diary_status:D,description:A,date:N,acknowledgement:p,student_id:ye,status:"published",published_date:n};J?e.individualDiaryPutForParent(c,ge,o,ye,he,Ne,ke):e.individualDiaryPut(c,ge,i,r,Ne,ke)}},disableElevation:!0},"Save")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))):r.a.createElement(rx,{setPutBack:ue,menuVal:ne,setError:ee,back:ie}))))})),bx=Object(I.a)((function(e){return{card:{marginBottom:"20px","& .MuiCardContent-root":{padding:"20px"}},sectionContainer:{flexWrap:"wrap",margin:"20px",marginBottom:"85px"},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",color:"#1C1C1E"},textAlignRight:{fontStyle:"normal",textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Roman",marginBottom:"12px"},imgDiv:{display:"flex",justifyContent:"flex-end",width:"100%"},typography:{},labelText:{fontStyle:"normal",color:"#1C1C1E",fontSize:14,fontFamily:"Avenir Book",lineHeight:"19px"},span:{textTransform:"uppercase"},circularProgress:{display:"flex",height:"70%",justifyContent:"center",alignItems:"center"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#2C2C2E",paddingBottom:"12px"}}}));var hx=Object(i.c)((function(e){var t=e.Attendence,a=t.getDetailsById,n=void 0===a?[]:a,r=t.getDetailsByIdLoading,o=(e.auth.userInfo||{}).user_classes||{};return{data:n,dataLoading:r,selectedRole:e.auth.selectedRole,school_id:o.school_id}}),{getDetailsById:eg,getDetailsByIdParent:tg})((function(e){var t=bx(),a=Object(s.i)(),o=a.student_id,c=a.id,i=Object(s.g)(),l=e.data,d=e.dataLoading,u=e.selectedRole,p=localStorage.getItem("srmToken"),g=l.diary||{};return console.log("data",l,c),Object(n.useEffect)((function(){!function(){if("parent"===u){var t=window.localStorage,a=t.srmSelected_Child,n=t.srmChild_dict,r=new Function("return ["+n+"];")()[0][a].userDetails.id;e.getDetailsByIdParent(c,u,r,p)}else if("teacher"===u||"parent"===u)e.getDetailsById(c,u,o);else{var i=window.localStorage.srmUserInfo,l=JSON.parse(i),s=l.id;console.log("srmUserInfo",l,s),e.getDetailsById(c,u,s)}}()}),[]),r.a.createElement(r.a.Fragment,null,d?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,null)):r.a.createElement("div",{className:t.sectionContainer},r.a.createElement("div",{className:t.headingDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){i.goBack()}}),r.a.createElement(m.a,{style:{fontSize:18},className:"".concat(t.themeColor," ").concat(t.titleText)},"Diary Details")),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",null,r.a.createElement(m.a,{className:t.title},g.title))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},ea(g.created_at).format("DD MMM YY")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8}),r.a.createElement(en.a,{item:!0,xs:4},"student"===u?"":r.a.createElement(m.a,{className:" ".concat(t.textAlignRight)},r.a.createElement("span",{className:"".concat(t.span)},g.status)))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement(m.a,{className:t.labelText},r.a.createElement(m.a,{className:"".concat(t.typography)}),g.description)),r.a.createElement(en.a,{item:!0,xs:4}))))))})),xx=new(function(){function e(){Object(ca.a)(this,e)}return Object(ia.a)(e,[{key:"getHomeworkLimit",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homeworkSetting"),{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getHomeworkLimitByClass",value:function(e,t){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/homeworkSetting/").concat(e),{headers:{accept:"application/json",Authorization:"Bearer ".concat(t)}})}},{key:"updateHomeworksLimit",value:function(e,t,a){return oa.a.put("".concat("https://dev.srmapi.in/api/v1","/homeworkSetting/").concat(e),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}},{key:"fetchClasses",value:function(e){return oa.a.get("".concat("https://dev.srmapi.in/api/v1","/classes"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}()),Ex=Object(I.a)((function(){return{grid1:{padding:"10px 10px 10px 0px"},grid2:{padding:"10px 0px 10px 10px"},title:{cursor:"pointer",paddingBottom:"20px"},limit:{color:g}}})),vx=function(){var e=Ex(),t=Object(s.g)(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(!0),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)([]),f=Object(S.a)(g,2),b=f[0],h=f[1],x=localStorage.getItem("srmToken");Object(n.useEffect)((function(){c||(E(),i(!0))}),[]);var E=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,xx.getHomeworkLimit(x);case 4:200===(t=e.sent).status&&h(t.data.data),p(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),p(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(en.a,{container:!0,style:{display:"border-box"}},u?r.a.createElement(ui,null):b.length>0?b.map((function(a,n){return r.a.createElement(en.a,{key:"".concat(a.id).concat(n),item:!0,xs:6,className:(n+1)%2===1?e.grid1:e.grid2},r.a.createElement(Jc,null,r.a.createElement(m.a,{onClick:function(){return t.push({pathname:"".concat(Un).concat(pn,"/").concat(a.id),state:{classID:a.id,className:a.class_name}})},variant:"subtitle1",className:e.title},a.class_name),r.a.createElement(m.a,{variant:"subtitle2",className:e.limit},"Homework Limit - ",a.limit)))})):r.a.createElement(di,null," No class assign to you ")))},yx=Object(I.a)((function(){return{dropdown:{width:"100%",paddingBottom:"10px"}}})),jx=function(){var e=yx(),t=Object(n.useState)("Homework"),a=Object(S.a)(t,2),o=a[0],c=a[1];return r.a.createElement(Kc,null,r.a.createElement(ni,null,"My Settings"),r.a.createElement("div",{className:e.dropdown},r.a.createElement(li,{data:[{id:"Homework",name:"Homework"}],value:o,onChange:function(e){c(e)},loading:!1,makeDisable:!0})),"Homework"===o?r.a.createElement(vx,null):null)},Ox=Object(dt.a)((function(e){return{categoryClass:{minWidth:"200px","& span":{textAlign:"left"}},categorySelect:{textAlign:"left"}}})),Sx=function(e){var t=e.data,a=e.name,n=e.value,o=e.i,c=Ox();return r.a.createElement(Gr.a,{labelId:e.labelId,id:"demo-simple-select-helper",name:a,value:n,onChange:function(t){return a=t,void e.onChange(a,o);var a},className:c.categoryClass,classes:{select:c.categorySelect}},t.map((function(e,t){return r.a.createElement(M.a,{value:e.id,index:t},e.name)})))},Cx=Object(I.a)((function(){return{formControl:{width:"100%",marginTop:"20px"},label:{fontSize:"14px",fontFamily:y,color:p},saveBtn:{width:"100%",paddingTop:"20px","& Button":{width:"130px",marginLeft:"calc(100% - 130px)"}}}})),Nx=function(e){var t=Cx(),a=Object(s.g)(),o=Object(s.h)().state,c=o.classID,i=o.className,l=Object(n.useState)(!1),d=Object(S.a)(l,2),m=d[0],u=d[1],p=Object(n.useState)(!0),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)([]),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(!1),j=Object(S.a)(y,2),O=j[0],C=j[1],N=localStorage.getItem("srmToken");Object(n.useEffect)((function(){m||(k(),u(!0))}),[]),Object(n.useEffect)((function(){var e=setInterval((function(){w(!1)}),1e4);return function(){clearInterval(e)}}),[E]);var k=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,xx.getHomeworkLimitByClass(c,N);case 4:200===(t=e.sent).status&&(a=[],t.data.data.forEach((function(e){a=[].concat(Object(Na.a)(a),[{subject_id:e.subject.id,name:e.subject.name,subject_limit:e.subject_limit}])})),v(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:b(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&C(!0),e.prev=1,e.next=4,xx.updateHomeworksLimit(c,{subjects:E},N);case 4:200===e.sent.status&&t&&a.goBack(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log();case 11:t&&C(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e,t){var a=e.target,n=(a.name,a.value),r=Object(Na.a)(E);r[t].subject_limit=n,v(r)};return r.a.createElement(r.a.Fragment,null,f?r.a.createElement(gi,null):r.a.createElement(Kc,null,r.a.createElement(Jc,null,r.a.createElement($c,{handleBack:function(){w(!0)},title:i}),E.length>0?E.map((function(e,a){return r.a.createElement(dr.a,{className:t.formControl},r.a.createElement(Wr.a,{id:"".concat(e.name,"-subject"),className:t.label},e.name),r.a.createElement(Sx,{key:e.id,labelId:"".concat(e.name,"-subject"),name:e.name,i:a,data:[{id:0,name:0},{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5}],value:e.subject_limit,onChange:T,loading:!1,makeDisable:!0}))})):null,r.a.createElement("div",{className:t.saveBtn},r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){return w(!0)},disabled:O},"Save")))))},kx=Object(I.a)((function(){return{cardContainer:{display:"flex",alignItems:"center"},avatar:{borderRadius:"50%",width:"50px",height:"50px",marginRight:"20px"},name:{width:"100%",cursor:"pointer"},seen:{width:"100%",textAlign:"right"}}})),wx=function(e){var t=e.item,a=kx(),n=Object(s.g)();return r.a.createElement(Jc,null,r.a.createElement("div",{className:a.cardContainer},t.student.thumbnail?r.a.createElement("img",{src:t.student.thumbnail,className:a.avatar}):null,r.a.createElement(m.a,{variant:"h6",className:a.name,onClick:function(){return n.push({pathname:"".concat(un).concat(rn),state:{homework_id:t.homework_id,student_id:t.student_id}})}},t.student.firstname," ",t.student.lastname),r.a.createElement(m.a,{variant:"subtitle2",className:a.seen,style:{color:"pending"===t.submission_status?h:p}},t.submission_status)))},Tx=Object(I.a)((function(e){var t;return t={typography:{margin:"16px 0"},cardContainer:{paddingTop:"10px"},pb20:{paddingBottom:"20px"},editBtn:{marginLeft:"auto",cursor:"pointer"},infoBtn:{cursor:"pointer",width:"30px",height:"30px"},labelText:{fontStyle:"normal",color:"#8E8E93"},mainContent:{color:"#8E8E93",wordBreak:"break-word",marginTop:"0px",marginBottom:"20px"}},Object(C.a)(t,"editBtn",{width:"17px",height:"17px",paddingLeft:"10px",transform:"translateY(4px)",cursor:"pointer"}),Object(C.a)(t,"textAlignRight",{textAlign:"right",color:"#AEAEB2"}),Object(C.a)(t,"imgGrid",{position:"relative"}),Object(C.a)(t,"imgDiv",{bottom:"0px",right:"35px",position:"absolute"}),Object(C.a)(t,"imgDiv_del",{bottom:0,right:0,position:"absolute",transform:"translateY(7px)",cursor:"pointer",color:"#b7b7bb","& svg":{width:"25px",height:"23px"}}),Object(C.a)(t,"sub",{padding:"10px 0px",color:g}),Object(C.a)(t,"grid1",{padding:"10px 10px 10px 0px"}),Object(C.a)(t,"grid2",{padding:"10px 0px 10px 10px"}),t})),Ax=function(){var e=Tx(),t=Object(s.g)(),a=Object(s.h)(),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(S.a)(d,2),p=u[0],g=u[1],f=localStorage.getItem("srmToken"),b=JSON.parse(localStorage.getItem("srmSelectedRole")),h=Object(n.useState)(null),x=Object(S.a)(h,2),E=x[0],v=x[1],y=E||{},j=y.id,O=y.status,C=y.title,N=y.main_content,k=(y.submission_date,y.homework_submission),w=y.created_at,T=y.subject;Object(n.useEffect)((function(){A()}),[]);var A=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t={},"parent"===b&&(t={current_role:"parent"}),e.prev=3,e.next=6,_l.fetchSingleHomework(a.state.homework_id,t,f);case 6:200===(n=e.sent).status&&v(n.data.data.homework),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:l(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(j,f),e.next=4,_l.deleteHomework(j,f);case 4:t=e.sent,console.log(t),200===t.status?console.log("Successfully Deleted"):console.log("Failed to delete"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(gi,null):r.a.createElement(Kc,null,r.a.createElement($c,{handleBack:function(){return t.goBack()},title:"Assignment Details"}),r.a.createElement(Dc,{open:p,handleClose:function(){g(!1)},onhandleDelete:function(){_(),g(!1)}}),r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:e.cardContainer},r.a.createElement(Xc,null,r.a.createElement(en.a,{container:!0,className:e.pb20},r.a.createElement(en.a,{item:!0,xs:8},C||T?r.a.createElement(m.a,{variant:"subtitle1"},C||null," ",C&&T?"-":null," ",T?T.name:null):r.a.createElement(m.a,{variant:"subtitle1"},"N/A")),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(e.textAlignRight),variant:"subtitle2"},"Created at: ",ea(w).format("DD MMM YY")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement(m.a,{className:e.mainContent,variant:"subtitle2"},N?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:N}}):"N/A")),r.a.createElement(en.a,{item:!0,xs:4,className:e.imgGrid},r.a.createElement(m.a,{className:"".concat(e.labelText," ").concat(e.textAlignRight),variant:"subtitle2"},"Status : ",r.a.createElement("span",{className:"".concat(e.span)},O)),"published"!==O?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(e.imgDiv," ").concat(e.textAlignRight)},r.a.createElement("img",{src:an.a,className:e.editBtn,onClick:function(){t.push("/create-homework/".concat(j))}})),r.a.createElement("div",{className:"".concat(e.imgDiv_del),onClick:function(){g(!0)}},r.a.createElement(Ic.a,{fontSize:"medium"}))):r.a.createElement("div",{className:"".concat(e.imgDiv_del," ").concat(e.textAlignRight)},r.a.createElement("img",{src:Bl.a,className:e.infoBtn,onClick:function(){return t.push({pathname:"".concat(un,"/").concat(a.state.homework_id),state:{homework_id:a.state.homework_id}})}}))),r.a.createElement(en.a,{item:!0,xs:12},E.teacher_document.length>0&&E.teacher_document?r.a.createElement(Si,{data:E.teacher_document}):null)))),"published"===O?r.a.createElement(m.a,{variant:"h2",className:e.sub},"Submissions"):null,"published"===O?k?r.a.createElement(en.a,{container:!0,style:{display:"border-box"}},k.map((function(t,a){return r.a.createElement(en.a,{item:!0,xs:6,className:(a+1)%2===1?e.grid1:e.grid2},r.a.createElement(wx,{item:t}))}))):r.a.createElement(di,null,"No Record"):null))},_x=Object(I.a)((function(){return{cardContainer:{paddingTop:"10px"},typography:{margin:"16px 0"},title:{cursor:"pointer"},pb20:{paddingBottom:"20px"},mt20:{marginTop:"20px"},duedate:{textAlign:"right",color:f},mainContent:{color:f,wordBreak:"break-word","& p":{margin:"0px !important"}},relative:{position:"relative"},seen:{position:"absolute",right:"0px",bottom:"0px",color:h},sub:{padding:"10px 0px",color:g},grid1:{padding:"10px 10px 10px 0px"},grid2:{padding:"10px 0px 10px 10px"},answer:{color:g},main_content:{marginTop:"20px",color:g},formcontrol:{width:"100%",marginTop:"20px","& .MuiInputBase-root":{color:"rgba(0, 0, 0, 0.54)"}},saveBtn:{width:"100%",marginTop:"20px","& Button":{width:"130px",marginLeft:"calc(100% - 130px)"}}}})),Ix=function(){var e=_x(),t=Object(s.g)(),a=Object(s.h)(),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=localStorage.getItem("srmToken"),u=JSON.parse(localStorage.getItem("srmSelectedRole")),p=Object(n.useState)(null),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(""),j=Object(S.a)(y,2),O=(j[0],j[1],Object(n.useState)([])),C=Object(S.a)(O,2),N=C[0],k=C[1],w=Object(n.useState)(!1),T=Object(S.a)(w,2),A=T[0],_=T[1],I=f||{},B=I.id,D=I.title,R=I.main_content,L=I.submission_date,F=I.homework_submission_student,M=I.teacher_document,P=I.teacher_feedback,U=I.subject,Y=I.subject_id;Object(n.useEffect)((function(){H()}),[]),Object(n.useEffect)((function(){if(F&&"pending"===F.status){var e=setInterval((function(){W(!1,F?F.status:"draft")}),1e4);return function(){return clearInterval(e)}}}),[E,N]);var H=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n,r,o;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t={},"parent"===u&&(n=localStorage.getItem("srmSelected_Child"),r=JSON.parse(localStorage.getItem("srmChild_dict")),t={student_id:r[n].userDetails.id,current_role:"parent"}),e.prev=3,e.next=6,_l.fetchSingleHomework(a.state.homework_id,t,d);case 6:200===(o=e.sent).status&&b(o.data.data.homework),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:l(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(Ca.a)(Sa.a.mark((function e(a,n){var r,o;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in _(!0),e.prev=1,r=new FormData,N)r.append("upload_document[".concat(o,"]"),N[o]);return r.append("teacher_id",F.teacher_id),r.append("subject_id",Y),r.append("homework_id",B),r.append("answer",E),r.append("status",n),e.next=11,_l.saveHomeworkSubmission(d,r);case 11:200===e.sent.status&&(a?t.goBack():"published"===n&&H()),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:_(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F||"pending"!==F.submission_status){e.next=3;break}return e.next=3,W(!0,F?F.status:"draft");case 3:t.goBack();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,f?i?r.a.createElement(gi,null):r.a.createElement(Kc,null,r.a.createElement($c,{handleBack:G,title:"Assignment Details"}),r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:e.cardContainer},r.a.createElement(Xc,null,r.a.createElement(en.a,{container:!0,className:e.pb20},r.a.createElement(en.a,{item:!0,xs:6},D||U?r.a.createElement(m.a,{variant:"subtitle1"},D||null," ",D&&U?"-":null," ",U?U.name:null):r.a.createElement(m.a,{variant:"subtitle1"},"N/A")),r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement(m.a,{className:"".concat(e.duedate),variant:"h6"},"Due Date: ",ea(L).format("DD/MM/YY hh:mm A")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement(m.a,{className:e.mainContent,variant:"subtitle2"},R?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:R}}):"N/A")),r.a.createElement(en.a,{item:!0,xs:6,className:e.relative},r.a.createElement(m.a,{className:e.seen,variant:"subtitle2"},"Seen : ","parent"===u?f.parent_seen_time?ea(f.parent_seen_time).format("DD/MM/YY hh:mm A"):"N/A":f.student_seen_time?ea(f.student_seen_time).format("DD/MM/YY hh:mm A"):"N/A")),r.a.createElement(en.a,{item:!0,xs:12},M.length>0?r.a.createElement(Si,{data:M}):null)))),!F||"student"!==u&&"submitted"!==F.submission_status?null:r.a.createElement(Xc,null,r.a.createElement(m.a,{variant:"subtitle1",className:e.answer},"Answer"),"pending"===F.submission_status?r.a.createElement(r.a.Fragment,null,r.a.createElement(dr.a,{className:e.formcontrol},r.a.createElement(Gc,{handleDescription:function(e){v(e)},placeholder:"Type Here",value:E,token:d})),r.a.createElement(hi,{handleChange:function(e){k(e)}}),r.a.createElement("div",{className:e.saveBtn},r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){W(!1,"published")},disabled:A},"Submit"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"".concat(e.mainContent," ").concat(e.mt20),variant:"subtitle2"},R?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:F.main_content}}):"N/A"),F.student_document.length>0?r.a.createElement(Si,{data:F.student_document}):null)),P&&"published"===P.status?r.a.createElement(Xc,null,r.a.createElement(m.a,{variant:"subtitle1",className:e.answer},"Feedback"),r.a.createElement(m.a,{className:"".concat(e.mainContent," ").concat(e.mt20),variant:"subtitle2"},P.main_content?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:P.main_content}}):"N/A"),P.teacher_feedback_document.length>0?r.a.createElement(Si,{data:P.teacher_feedback_document}):null):null):null)},Bx=function(e){var t=JSON.parse(localStorage.getItem("srmSelectedRole"));return r.a.createElement(r.a.Fragment,null,"admin"===t||"teacher"===t?r.a.createElement(Ax,null):r.a.createElement(Ix,null))},Dx=Object(I.a)((function(){return{cardContainer:{paddingTop:"10px"},typography:{margin:"16px 0"},title:{cursor:"pointer"},pb20:{paddingBottom:"20px"},mt20:{marginTop:"20px"},duedate:{textAlign:"right",color:f},mainContent:{color:f,wordBreak:"break-word","& p":{margin:"0px !important"}},relative:{position:"relative"},seen:{position:"absolute",right:"0px",bottom:"0px",color:h},sub:{padding:"10px 0px",color:g},grid1:{padding:"10px 10px 10px 0px"},grid2:{padding:"10px 0px 10px 10px"},answer:{color:g},main_content:{marginTop:"20px",color:g},formcontrol:{width:"100%",marginTop:"20px","& .MuiInputBase-root":{color:"rgba(0, 0, 0, 0.54)"}},saveBtn:{width:"100%",marginTop:"20px","& Button":{width:"130px",marginLeft:"calc(100% - 130px)"}}}})),Rx=function(){var e=Dx(),t=Object(s.g)(),a=Object(s.h)(),o=Object(n.useState)(!0),c=Object(S.a)(o,2),i=c[0],l=c[1],d=localStorage.getItem("srmToken"),u=Object(n.useState)(null),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)([]),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=g||{},A=T.id,_=T.main_content,I=T.submission_date,B=T.homework_submission_student,D=T.teacher_document,R=T.teacher_feedback,L=T.subject,F=T.subject_id;Object(n.useEffect)((function(){M()}),[]),Object(n.useEffect)((function(){if(B&&"pending"===B.submission_status){var e=setInterval((function(){P(!1,B?B.status:"draft")}),1e4);return function(){return clearInterval(e)}}}),[x,j]);var M=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t={homework_id:a.state.homework_id,student_id:a.state.student_id},e.prev=2,console.log(t),e.next=6,_l.fetchStudentSubmitted(t,d);case 6:n=e.sent,console.log(n.data),200===n.status&&f(n.data.data.homework),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:l(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(Ca.a)(Sa.a.mark((function e(n,r){var o,c;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in w(!0),e.prev=1,o=new FormData,j)o.append("upload_document[".concat(c,"]"),j[c]);return o.append("subject_id",F),o.append("student_id",a.state.student_id),o.append("homework_id",A),o.append("feedback",x),o.append("status",r),o.append("class_id",R.class_id),e.next=12,_l.saveFeedback(d,o);case 12:200===e.sent.status&&(n?t.goBack():"published"===r&&M()),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:w(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("pending"!==R.submission_status){e.next=3;break}return e.next=3,P(!0,R?R.status:"draft");case 3:t.goBack();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,g?i?r.a.createElement(gi,null):r.a.createElement(Kc,null,r.a.createElement($c,{handleBack:U,title:"Assignment Details"}),r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center",className:e.cardContainer},r.a.createElement(Xc,null,r.a.createElement(en.a,{container:!0,className:e.pb20},r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement("span",null,L?r.a.createElement(m.a,{variant:"subtitle1"},L.name," Homework"):r.a.createElement(m.a,{variant:"subtitle1"},"N/A"))),r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement(m.a,{className:"".concat(e.duedate),variant:"h6"},"Due Date: ",ea(I).format("DD/MM/YY hh:mm A")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:6},r.a.createElement(m.a,{className:e.mainContent,variant:"subtitle2"},_?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:_}}):"N/A")),r.a.createElement(en.a,{item:!0,xs:12},D.length>0?r.a.createElement(Si,{data:D}):null)))),B?r.a.createElement(Xc,null,r.a.createElement(m.a,{variant:"subtitle1",className:e.answer},"Answer"),r.a.createElement(m.a,{className:"".concat(e.mainContent," ").concat(e.mt20),variant:"subtitle2"},_?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:B.main_content}}):"N/A"),B.student_document.length>0?r.a.createElement(Si,{data:B.student_document}):null):null,r.a.createElement(Xc,null,r.a.createElement(m.a,{variant:"subtitle1",className:e.answer},"Feedback"),R?"published"===R.status?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"".concat(e.mainContent," ").concat(e.mt20),variant:"subtitle2"},R.main_content?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:R.main_content}}):"N/A"),R.teacher_feedback_document.length>0?r.a.createElement(Si,{data:R.teacher_feedback_document}):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(dr.a,{className:e.formcontrol},r.a.createElement(Gc,{handleDescription:function(e){E(e)},placeholder:"Type Here",value:x,token:d})),r.a.createElement(hi,{handleChange:function(e){O(e)}}),r.a.createElement("div",{className:e.saveBtn},r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){P(!1,"published")},disabled:k},"Submit"))):null)):null)},Lx=Object(I.a)((function(){return{cardContainer:{display:"flex",alignItems:"center"},avatar:{borderRadius:"50%",width:"50px",height:"50px",marginRight:"20px"},name:{width:"100%"},seen:{width:"100%",textAlign:"right",color:h}}})),Fx=function(e){var t=e.item,a=Lx();return r.a.createElement(Xc,{style:{borderRadius:"10px"}},r.a.createElement("div",{className:a.cardContainer},r.a.createElement("img",{src:t.thumbnail,className:a.avatar}),r.a.createElement(m.a,{variant:"h6",className:a.name},t.firstname," ",t.lastname),r.a.createElement(m.a,{variant:"subtitle2",className:a.seen},"Seen: ",ea(t.seen_time).format("DD/MM/YY hh:mm A"))))},Mx=function(e){var t=e.id,a=e.seen_by,o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],s=Object(n.useState)(!0),d=Object(S.a)(s,2),m=d[0],u=d[1],p=localStorage.getItem("srmToken");Object(n.useEffect)((function(){g()}),[a]);var g=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var n;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,_l.fetchSeenHomework({id:t,seen_by:a},p);case 4:n=e.sent,console.log(n),200===n.status&&("parent"===a?n.data.data.seen_parent?l(n.data.data.seen_parent):l([]):n.data.data.seen_student?l(n.data.data.seen_student):l([])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:u(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Kc,null,m?r.a.createElement(ui,null):i.length>0?i.map((function(e,t){return r.a.createElement(Fx,{item:e})})):r.a.createElement(di,null,"No Data"))},Px=Object(dt.a)((function(e){return{tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"11px"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}}}}));function zx(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,null,t))}function Ux(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Yx=function(){var e=Px(),t=Object(s.h)().state,a=Object(n.useState)(0),o=Object(S.a)(a,2),c=o[0],i=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{position:"sticky",className:e.tabBar},r.a.createElement(ro.a,{centered:!0,value:c,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(oo.a,Object.assign({label:"Seen by Students"},Ux(0),{className:"".concat(e.eventsTab," ").concat(e.borderRight)})),r.a.createElement(oo.a,Object.assign({label:"Seen by Parents"},Ux(1),{className:e.eventsTab})))),r.a.createElement(zx,{value:c,index:0},r.a.createElement(Mx,{key:0,seen_by:"student",id:t.homework_id})),r.a.createElement(zx,{value:c,index:1},r.a.createElement(Mx,{key:1,seen_by:"parent",id:t.homework_id})))},Hx=Object(I.a)((function(e){var t;return t={loader:{textAlign:"center",width:"100%"},message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book"},messageDiv:{padding:"20px"},span:{textTransform:"capitalize"},typography:{cursor:"pointer"},card:{width:"100%",margin:"0 20px 20px 20px"},editBtn:{marginLeft:"auto",cursor:"pointer"},labelText:{fontStyle:"normal",color:"#1C1C1E",fontSize:14,fontFamily:"Avenir Book"},Del_img:{cursor:"pointer",marginLeft:"10px"}},Object(C.a)(t,"editBtn",{width:"19px",height:"19px",transform:"translateY(4px)",cursor:"pointer",marginTop:"-3px"}),Object(C.a)(t,"cardContent",{padding:"20px !important",overflow:"auto"}),Object(C.a)(t,"textAlignRight",{fontStyle:"normal",textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Book"}),Object(C.a)(t,"imgDiv",{display:"flex",justifyContent:"flex-end",transform:"translateY(5px)",color:"#AEAEB2",paddingTop:"12px"}),Object(C.a)(t,"circularProgress",{display:"flex",padding:"20px",width:"100%",justifyContent:"center",alignItems:"center"}),Object(C.a)(t,"title",{fontFamily:"Avenir Heavy",fontSize:14,color:"#1C1C1E",paddingBottom:"12px",cursor:"pointer","&:hover":{textDecoration:"underline"}}),Object(C.a)(t,"infiniteScroll",{width:"100%",paddingBottom:"80px"}),t}));var Wx=Object(i.c)((function(e){var t=e.Payment,a=t.getPayment,n=t.getPaymentLoading,r=t.hasMore,o=t.getPaymentInfo,c=t.deleteLoading,i=(e.auth.userInfo||{}).user_classes||{};return{data:o,loading:n,delLoading:c,paginationInfo:a,selectedRole:e.auth.selectedRole,school_id:i.school_id,hasMore:r}}),{getPayment:function(e,t,a){return{type:ba,subtypes:pd.GET_PAYMENT,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/notifications","?type=payments&created_by=true&page=").concat(e))}(e)}}},removePayment:function(e,t,a){return{type:ba,subtypes:pd.REMOVE_PAYMENT,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.remove("".concat("/notifications","/").concat(e))}(e)}}}})((function(e){var t=Hx(),a=(e.data,e.loading,e.paginationInfo,e.hasMore,e.delLoading),o=Object(s.g)(),c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1],b=e.paymentData||[],h=function(){d(!1)},x=function(){ua.open("",!0,"Payment deleted successfully"),e.setData({}),e.setPayment([]),e.setLoader(!0),e.setRefetch(Math.random()),h()},E=function(e){console.log("error",e),e&&ua.open("",!1,e.message)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:l,handleClose:h,onhandleDelete:function(){e.removePayment(g,x,E)},loading:a}),b.length?r.a.createElement(en.a,{container:!0,direction:"row",justify:"center",alignContent:"center"},b.map((function(e){return r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",{onClick:function(){return o.push("/create-payment/payment-details/".concat(e.id))}},e.data.title?r.a.createElement(m.a,{className:t.title},e.data.title):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},ea(e.created_at).format("DD MMM, hh:mm A")))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement(m.a,{className:t.labelText},r.a.createElement(m.a,{className:"".concat(t.typography)}),e.data.summary)),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},r.a.createElement("span",{className:"".concat(t.span)},e.notify_status)))),r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12,className:t.imgGrid},"published"===e.notify_status||"active"===e.notify_status?"":r.a.createElement("div",{className:"".concat(t.imgDiv)},r.a.createElement("img",{src:an.a,className:t.editBtn,onClick:function(){return o.push("/create-payment/edit/".concat(e.id))}}),r.a.createElement("div",{className:t.Del_img,onClick:function(){return function(e){d(!0),f(e)}(e.id)}},r.a.createElement(Ic.a,{fontSize:"medium"})))))))}))):e.loader?"":r.a.createElement(m.a,{className:t.message},"No payment available yet!"),e.loader?r.a.createElement("div",{className:t.loader},r.a.createElement(kr.a,{color:"primary",size:30})):"")})),Gx=Object(I.a)((function(e){return{container:{height:"100%",overflow:"auto",paddingBottom:"50px",display:"flex",flexDirection:"column"},addNew:{color:e.palette.common.deluge,float:"right",cursor:"pointer",marginRight:"15px",paddingBottom:"20px","& .new":{float:"right",fontSize:"14px",padding:"5px 5px 0 5px",fontWeight:500},"& img":{margin:"5px 5px 0 5px",height:"20px",cursor:"pointer"}},head:{margin:"20px 20px 15px 20px",textAlign:"center"},heading1:{fontSize:"18px",fontFamily:"Avenir medium"}}}));var Vx=Object(i.c)((function(e){var t=e.Payment;t.postPayment;return{loading:t.postPaymentLoading,selectedRole:e.auth.selectedRole}}),{postPayment:function(e,t){return{type:ba,subtypes:pd.POST_PAYMENT,onSuccessCallback:e,onFailCallback:t,promise:function(){return ga.post("".concat("/notifications","?type=payment"))}}}})((function(e){var t=Gx(),a=Object(s.g)(),o=e.selectedRole,c=e.loading,i=Object(n.useState)({}),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)([]),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(1),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)(!0),j=Object(S.a)(y,2),O=j[0],C=j[1],N=Object(n.useState)(!1),k=Object(S.a)(N,2),w=k[0],T=k[1],A=localStorage.getItem("srmToken");console.log("paymentData :>> ",f);var _=function(e){a.push("/create-payment/edit/".concat(e.data.id))},I=function(e){fetch("".concat("https://dev.srmapi.in/api/v1","/paymentNotifications?current_role=").concat(o,"&page=").concat(e),{headers:{Authorization:"Bearer ".concat(A)}}).then((function(e){return console.log("inter request",e),e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText})})).then((function(e){console.log("inter response",e),C(!1),b([].concat(Object(Na.a)(f),Object(Na.a)(e.data.data))),u(e.data),console.log("res :>> ",e)})).catch((function(e){return console.log(e.statusText)}))};return Object(n.useEffect)((function(){I(1)}),[]),Object(n.useEffect)((function(){w&&I(1)}),[w]),r.a.createElement(r.a.Fragment,null,c?r.a.createElement(Tr,{open:c}):r.a.createElement("div",{className:t.container,onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(d.last_page>E&&t&&!O){var a=E+1;I(a),C(!0),v(a)}}},r.a.createElement("div",{className:t.head},r.a.createElement("span",{className:t.heading1},"Create Payment")),"teacher"===o||"admin"===o?r.a.createElement("div",null,r.a.createElement("div",{className:t.addNew,onClick:function(){e.postPayment(_)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))):"",r.a.createElement(Wx,{setData:u,setPayment:b,setRefetch:T,setLoader:C,paymentData:f,loader:O})))})),Kx=Object(I.a)((function(e){return{dateTimeContainer:{minWidth:"200px","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}},dialogActionsContainer:{"&.MuiDialogActions-root":{justifyContent:"center",marginBottom:"10px"}},button:{minWidth:"80px",textTransform:"none"},confirmationText:{fontWeight:500,fontSize:"1rem",color:"#000000"},dialogContent:{textAlign:"center"}}})),qx=function(e){var t=Kx(),a=e.open,o=e.submissionDate,c=e.handleClose,i=e.handlePublishLater,l=Object(n.useState)(null),s=Object(S.a)(l,2),d=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{open:a,onClose:c,maxWidth:"sm",fullWidth:!1},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:t.dateTimeContainer},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,justify:"space-around"},r.a.createElement(Ai.a,{variant:"dialog",value:d,onChange:function(e){m(e)},label:"Publish Date and Time ",minDate:new Date,maxDate:o,format:"yyyy/MM/dd hh:mm a",InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))}}))))),r.a.createElement(Je.a,{classes:{root:t.dialogActionsContainer}},r.a.createElement(z.a,{color:"primary",variant:"outlined",onClick:c,className:t.button},"Cancel"),r.a.createElement(z.a,{color:"primary",autoFocus:!0,variant:"contained",className:t.button,onClick:function(){i(d)}},"Publish"))))},Jx=Object(dt.a)((function(e){var t,a;return a={formStyle:{margin:"20px",backgroundColor:"white",borderRadius:"5px"},backImg:{float:"left",transform:"translateY(7px)",cursor:"pointer"},sideMargins:{marginLeft:"20px",marginRight:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0},errorColor:{color:"red",textAlign:"center",marginTop:"10px"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:14,"& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiFormLabel-root":{fontFamily:"Avenir Book",fontSize:14},"& .MuiInputBase-root":{fontSize:14}},inputBorder:{height:"50px"},chip:{margin:e.spacing(.5)},textAlignLeft:{textAlign:"left",color:"#AEAEB2",fontFamily:"Avenir Book",fontSize:14},chips:{display:"flex",flexWrap:"wrap"}},Object(C.a)(a,"chip",{margin:2}),Object(C.a)(a,"publishBtns",{textAlign:"right",justifyContent:"right","& .MuiButton-root":{textTransform:"capitalize"}}),Object(C.a)(a,"margin",(t={marginTop:"30px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"20px"}),t)),Object(C.a)(a,"optionContainer",{borderBottom:"1px solid #DCDCE0",width:"100%"}),Object(C.a)(a,"optionBody",{color:"rgba(0, 0, 0, 0.54)"}),Object(C.a)(a,"titleText",{fontFamily:"Avenir Medium",color:"#1C1C1E",textAlign:"center",fontSize:18,"& .MuiTypography-body1":{fontize:18}}),Object(C.a)(a,"header",{paddingTop:"20px"}),Object(C.a)(a,"renderOption",{display:"flex",justifyContent:"space-between",width:"100%"}),a})),Qx=Object(i.c)((function(e){var t=e.Payment;t.putPayment,t.putPaymentLoading;return{loading:t.getPaymentByIdLoading,token:e.auth.token}}),{putPayment:function(e,t,a,n){return{type:ba,subtypes:pd.PUT_PAYMENT,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/notifications","/").concat(e),t)}(e,t)}}},getPaymentById:gd})((function(e){console.log(e);var t,a=Jx(),o=Object(s.g)(),c=Object(s.i)().id,i=e.loading,l=Object(s.h)(),d=Object(n.useState)(!1),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(""),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(""),v=Object(S.a)(E,2),y=v[0],j=v[1],O=Object(n.useState)(""),C=Object(S.a)(O,2),k=C[0],w=C[1],T=Object(n.useState)(""),A=Object(S.a)(T,2),_=A[0],I=A[1],B=Object(n.useState)("0"),D=Object(S.a)(B,2),R=D[0],L=D[1],F=Object(n.useState)([]),P=Object(S.a)(F,2),U=P[0],Y=P[1],H=Object(n.useState)([]),W=Object(S.a)(H,2),G=W[0],V=W[1],K=Object(n.useState)([]),q=Object(S.a)(K,2),J=q[0],Q=q[1],X=Object(n.useState)(""),Z=Object(S.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(""),ae=Object(S.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)(""),ce=Object(S.a)(oe,2),ie=ce[0],le=ce[1],se=Object(n.useState)(!1),de=Object(S.a)(se,2),me=de[0],ue=de[1],pe=Object(n.useState)(!1),ge=Object(S.a)(pe,2),fe=ge[0],be=ge[1],he=Object(n.useState)([]),xe=Object(S.a)(he,2),Ee=xe[0],ve=xe[1],ye=Object(n.useState)([]),je=Object(S.a)(ye,2),Oe=je[0],Se=je[1],Ce=Object(n.useState)([]),Ne=Object(S.a)(Ce,2),ke=Ne[0],we=Ne[1],Te=Object(n.useState)({}),Ae=Object(S.a)(Te,2),_e=Ae[0],Ie=Ae[1],Be=Object(n.useState)([]),De=Object(S.a)(Be,2),Re=De[0],Le=De[1],Fe=Object(n.useState)(!1),Me=Object(S.a)(Fe,2),Pe=Me[0],ze=Me[1],Ue=Object(n.useState)(!1),Ye=Object(S.a)(Ue,2),He=Ye[0],We=Ye[1],Ge=Object(n.useState)(!1),Ve=Object(S.a)(Ge,2),Ke=Ve[0],qe=Ve[1],Je=Object(n.useState)(!1),Qe=Object(S.a)(Je,2),Xe=Qe[0],Ze=Qe[1],$e=Object(n.useState)(!1),et=Object(S.a)($e,2),tt=et[0],at=et[1],nt=Object(n.useState)(!1),rt=Object(S.a)(nt,2),ot=rt[0],ct=rt[1],it=Object(n.useState)({}),lt=Object(S.a)(it,2),st=lt[0],dt=lt[1],mt=Object(n.useState)([]),ut=Object(S.a)(mt,2),pt=ut[0],gt=ut[1],ft=Object(n.useState)(!1),bt=Object(S.a)(ft,2),ht=(bt[0],bt[1]),xt=me&&0===Re.length,Et=fe&&0===Re.length;console.log("classUpdate :>> ",st);var vt=function(){if(h)if(y)if(R){if(U[0]||Ee[0])return!0;I("A Mandatory field isn't filled!")}else I("A Mandatory field isn't filled!");else I("A Mandatory field isn't filled!");else I("A Mandatory field isn't filled!")},yt=function(e){console.log("result :>> ",e),e&&(x(e.data.data.title),j(e.data.data.summary),L(e.data.data.payment/100),w(e.data.data.main_content),re(e.data.repeat),le(e.data.reminder),We(e.data.class_mapping.parents),Ze(e.data.class_mapping.teachers),gt(e.data.class_mapping.class),Se(e.data.class_mapping.individual_users))};Object(n.useEffect)((function(){var e=[];if(st&&pt.length){var t=st.data||[];console.log("classIdUpdate :>> ",pt),pt.map((function(a){var n=t.find((function(e){return e.id===a}));console.log("className obj :>> ",n),n&&e.push(n.class_name)})),He&&e.push("All Parents"),Xe&&e.push("All Teachers"),console.log("className :>> ",e),Y(e)}}),[st,pt]);Object(n.useEffect)((function(){e.getPaymentById(c,yt)}),[]),console.log("mappedClass :>> ",J,J);var jt=["All Teachers","All Parents","Select All"].concat(Object(Na.a)(Object.values(G)));Object(n.useEffect)((function(){var t=function(){var t=Object(Ca.a)(Sa.a.mark((function t(){var a,n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return at(!0),t.next=3,_l.fetchClasses(e.token);case 3:a=t.sent,dt(a.data),at(!1),console.log("classesResponse",a),n={},a.data.data.forEach((function(e){n[e.id]=e.class_name})),V(Object(N.a)({},n));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();l.pathname!=="/create-payment/edit/".concat(c)&&l.pathname!=="/create-payment/edit/".concat(c)||t()}),[]);Object(n.useEffect)((function(){!function(){var e=[];U.find((function(e){return"Select All"===e}))?e=Object(Na.a)(Object.keys(G)):U.forEach((function(t){e.push(parseInt(Object.keys(G).find((function(e){return G[e]===t}))))})),Q(e)}()}),[U]),Object(n.useEffect)((function(){if(J){var e=[];J.map((function(t,a){t&&e.push(t)})),console.log("classId",$),ee(e)}}),[J]),Object(n.useEffect)((function(){U.map((function(e){"All Teachers"===e&&qe(!0),"All Parents"===e&&ze(!0)}))}),[U]);var Ot=function(){var t=Object(Ca.a)(Sa.a.mark((function t(a){var n;return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.target.value||a.target.value.length%3!==0){t.next=11;break}return t.prev=1,t.next=4,vc.searchUser(a.target.value,e.token);case 4:n=t.sent,Le(n.data.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){if(Ee.length){var e=[];Ee.map((function(t){var a={id:t.id,role:t.name};e.push(a)})),Se(e)}if(ke.length){var t=[];ke.map((function(e){t.push(e.id)})),console.log("userId2",t),Ie(t)}}),[Ee,ke]);var St=function(e){"title"===e.target.name?(x(e.target.value),I(!1)):(j(e.target.value),I(!1))},Ct=function(t){var a={type:"payment",data:{title:h,summary:y,main_content:k,payment:100*R},published_to:{individual_users:Oe,class:$,parents:Pe,teachers:Ke},notify_status:"draft",excluded_user_id:_e,reminder:ie,repeat:ne};e.putPayment(c,a),t&&o.push("/create-payment")};Object(n.useEffect)((function(){!ot||tt||i||Ct(!1)}),[ot]),Object(n.useEffect)((function(){return t=setInterval((function(){ct(Math.random())}),1e4),function(){return clearInterval(t)}}),[k,y,h,U,Ee,ke,ie,ne,R]);var Nt=function(){ua.open("",!0,"Payment created successfully"),o.push("/create-payment"),ht(!1)},kt=function(e){console.log("error",e),e&&ua.open("",!1,e.message),ht(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qx,{open:p,handleClose:function(){g(!1)},handlePublishLater:function(t){console.log("selectedDate",t),ht(!0);var a={type:"payment",data:{title:h,summary:y,main_content:k,payment:100*R},published_to:{individual_users:Oe,class:$,parents:Pe,teachers:Ke},notify_status:"active",published_date:t,excluded_user_id:_e,reminder:ie,repeat:ne};console.log("publishData",a),t&&e.putPayment(c,a,Nt,kt)}}),tt?r.a.createElement(Tr,{open:tt}):r.a.createElement("div",{style:{marginBottom:"50px"}},r.a.createElement("div",{style:{margin:"20px"}},r.a.createElement("img",{src:Yc.a,alt:"Back",className:a.backImg,onClick:function(){Ct(!0)}}),r.a.createElement(m.a,{className:"".concat(a.themeColor," ").concat(a.titleText)},"Create Payment")),r.a.createElement("form",{className:a.formStyle},_?r.a.createElement(mr.a,{pt:2},r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(a.errorColor)},_))):"",r.a.createElement(mr.a,{className:" ".concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle,style:{marginTop:"30px"}},r.a.createElement(Xo.a,{label:"Title",id:"title",name:"title",className:a.inputBorder,value:h,onChange:St,required:!0}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Xo.a,{id:"summary",name:"summary",label:"Summary",className:a.inputBorder,value:y,onChange:St,required:!0}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Xo.a,{id:"payment",name:"payment",label:"Amount",className:a.inputBorder,value:R,onChange:function(e){L(e.target.value),I(!1)},required:!0,InputProps:{inputComponent:Ih}}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(zc.a,{multiple:!0,open:me,onOpen:function(){ue(!0)},onClose:function(){ue(!1)},onBlur:function(){return Le([])},value:Ee,id:"tags-standard",options:Re,loading:xt,onChange:function(e,t){ve(t),I(!1)},onInputChange:Ot,getOptionLabel:function(e){return e.username},renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{variant:"standard",label:"Search users"}))},renderOption:function(e){return r.a.createElement("div",{className:a.renderOption},r.a.createElement("div",null,r.a.createElement(m.a,null,e.username," "),"   "),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(m.a,null,e.name," ")))}}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(zc.a,{multiple:!0,open:fe,onOpen:function(){be(!0)},onClose:function(){be(!1)},onBlur:function(){return Le([])},value:ke,id:"tags-standard",options:Re,loading:Et,onChange:function(e,t){we(t),I(!1)},onInputChange:Ot,getOptionLabel:function(e){return e.username},renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{variant:"standard",label:"Exclude users"}))},renderOption:function(e){return r.a.createElement("div",{className:a.renderOption},r.a.createElement("div",null,r.a.createElement(m.a,null,e.username," "),"   "),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(m.a,null,e.name," ")))}}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Select Class"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:U,multiple:!0,onChange:function(e){Y(e.target.value),I(!1)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:a.chips},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){Y(U.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:a.chip})})))}},jt.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Reminder Duration (in days)"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:ie,onChange:function(e){le(e.target.value),I(!1)}},r.a.createElement(M.a,{value:"5"},"5"),r.a.createElement(M.a,{value:"15"},"15"),r.a.createElement(M.a,{value:"30"},"30"),r.a.createElement(M.a,{value:"90"},"90")))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(dr.a,{className:a.fieldStyle},r.a.createElement(Wr.a,null,"Repeat"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:ne,onChange:function(e){re(e.target.value),I(!1)}},r.a.createElement(M.a,{value:"monthly"},"Monthly"),r.a.createElement(M.a,{value:"quarterly"},"Quarterly"),r.a.createElement(M.a,{value:"half-yearly"},"Half Yearly"),r.a.createElement(M.a,{value:"full-yearly"},"Full Yearly")))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{className:a.fieldStyle},r.a.createElement(m.a,{className:a.textAlignLeft},"Description"),r.a.createElement(Gc,{handleDescription:function(e){w(e),I(!1)},value:k,token:e.token}))),r.a.createElement(mr.a,{className:"".concat(a.margin," ").concat(a.sideMargins)},r.a.createElement(en.a,{container:!0,className:a.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:8,xs:12,className:a.publishBtns},r.a.createElement(z.a,{id:"publishLaterBtn",variant:"contained",onClick:function(){vt()&&g(!0)},className:"".concat(a.fieldStyle," ","publishBtn"," ","publishLaterBtn"),disableElevation:!0},"Publish Later"),r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(a.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(t){if(t.preventDefault(),vt()){ht(!0);var a={type:"payment",data:{title:h,summary:y,main_content:k,payment:100*R},published_to:{individual_users:Oe,class:$,parents:Pe,teachers:Ke},notify_status:"published",excluded_user_id:_e,reminder:ie,repeat:ne};console.log("publishData",a),e.putPayment(c,a,Nt,kt)}},disableElevation:!0},"Publish Now")),r.a.createElement(en.a,{item:!0,sm:4,xs:12,className:a.textAlignLeft}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement("br",null),r.a.createElement("br",null))})),Xx=Object(dt.a)((function(e){return{rootCard:{margin:"20px 0 20px 0",display:"flex",justifyContent:"space-between",cursor:"pointer"},Avatar:{margin:"20px 0 20px 20px",width:50,height:50},name:{fontFamily:"Avenir Medium",fontSize:14,color:"#1C1C1E",marginBottom:"12px",marginLeft:"10px"},className:{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E",marginLeft:"10px"},stuName:{fontFamily:"Avenir Book",fontSize:14,marginTop:"-32px",color:"#1C1C1E",marginLeft:"10px"},borderLeft:{borderLeft:"1px solid #AEAEB2",height:"54px",textAlign:"center"},created_at:{fontFamily:"Avenir Book",fontSize:14,color:"#AEAEB2",marginBottom:"12px"},paymentStatus:{fontFamily:"Avenir Book",fontSize:14,color:"#7B72AF"},borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}},nameContainer:{display:"flex",width:"60%","& .MuiCardContent-root":{padding:"20px 20px 20px 0"}},cardContent:{display:"flex",alignItems:"center"},textAlignRight:{width:"30%",textAlign:"right"},circularProgress:{margin:"20px",textAlign:"center"},message:{textAlign:"center",fontFamily:"Avenir Book",fontSize:14,margin:"20px"}}})),Zx=Object(i.c)((function(e){var t=e.Payment,a=t.paidUsers,n=t.paidUsersLoading,r=t.unpaidUsers,o=t.unpaidUsersLoading,c=(e.auth.userInfo||{}).user_classes||{};return{paid:a,paidLoading:n,unpaid:r,unpaidLoading:o,selectedRole:e.auth.selectedRole,school_id:c.school_id}}),{paidUsers:function(e,t,a){return{type:ba,subtypes:pd.PAID_USERS,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/paymentUserList","/").concat(e,"?status=paid"))}(e)}}},unpaidUsers:function(e,t,a){return{type:ba,subtypes:pd.UNPAID_USERS,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/paymentUserList","/").concat(e,"?status=unpaid"))}(e)}}}})((function(e){var t=Xx(),a=Object(s.g)(),o=Object(s.i)().id,c=e.paid,i=e.paidLoading,l=e.unpaid,d=e.unpaidLoading;console.log("paid, unpaid :>> ",c,l);var u=e.value?l:c;console.log("userData :>> ",u);return Object(n.useEffect)((function(){e.value?e.unpaidUsers(o):e.paidUsers(o)}),[]),r.a.createElement(r.a.Fragment,null,u.length||i||d?"":e.value?r.a.createElement(m.a,{className:t.message},"No unpaid users available!"):r.a.createElement(m.a,{className:t.message},"No paid users available yet!"),i||d?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,null)):r.a.createElement(r.a.Fragment,null,u.map((function(n){return r.a.createElement(it.a,{className:t.rootCard,onClick:function(){return a.push("/create-payment/payment/".concat(n.id))}},r.a.createElement(P.a,{className:t.Avatar,alt:"Student image",src:n.user.thumbnail?n.user.thumbnail:Gb.a}),r.a.createElement("div",{className:t.nameContainer},r.a.createElement(lt.a,null,r.a.createElement(m.a,{className:t.name},n.user.fullName),r.a.createElement(m.a,{className:t.className},n.user_class.className))),r.a.createElement(lt.a,{className:t.textAlignRight},e.value?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.created_at},ta()(n.paid_date).format("DD/MM/YY hh:mm A")),r.a.createElement(m.a,{className:t.paymentStatus},n.mode))))}))))})),$x=Object(dt.a)((function(e){return{root:{marginTop:"20px",flexGrow:1,"& .MuiBox-root":{padding:"0px !important"},"& .PrivateTabIndicator-colorSecondary":{backgroundColor:"#7B72AF"},"& .MuiTabs-indicator":{backgroundColor:"#7B72AF !important"}},rootCard:{margin:"20px 0 20px 0",display:"flex"},Avatar:{margin:"20px 0 20px 20px"},name:{fontFamily:"Avenir Heavy",fontSize:16,marginTop:"15px",marginLeft:"10px"},class_name:{},stuName:{fontFamily:"Avenir medium",fontSize:14,marginTop:"-32px",marginLeft:"10px"},borderLeft:{borderLeft:"1px solid #aeaeb2",height:"48px",textAlign:"center"},stuClass:{fontFamily:"Avenir Roman",fontSize:14,position:"absolute",marginTop:"14px",right:"41px",textTransform:"uppercase",color:"rgba(0,0,0,0.54)"},tabPanel:{"& .MuiBox-root:before":{padding:"none !important"}},tabBar:{backgroundColor:e.palette.mainBackground,color:e.palette.common.deluge,boxShadow:"none"},eventsTab:Object(C.a)({padding:"6px 0px",borderBottom:"1px solid #aeaeb2","& .MuiTab-wrapper":{height:"30px"}},e.breakpoints.down("sm"),{fontSize:"14px",fontFamily:"Avenir medium"}),borderRight:{"& .MuiTab-wrapper":{borderRight:"1px solid  #aeaeb2"}},display:{display:"none"}}}));function eE(e){var t=e.children,a=e.value,n=e.index,o=Object(na.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},o),a===n&&r.a.createElement(mr.a,{p:3},r.a.createElement(m.a,null,t)))}function tE(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}}function aE(e){return r.a.createElement(oo.a,Object.assign({component:"a",onClick:function(e){e.preventDefault()}},e))}function nE(e){var t=$x(),a=(Object(s.g)(),Object(s.i)().id,r.a.useState(0)),n=Object(S.a)(a,2),o=n[0],c=n[1];e.seenUsers,e.unseenUsers;return r.a.createElement("div",{className:t.root},r.a.createElement(T.a,{position:"static",className:t.tabBar,style:{backgroundColor:"none",color:"black"}},r.a.createElement(ro.a,{variant:"fullWidth",value:o,onChange:function(e,t){c(t),console.log("newValue :>> ",t)},"aria-label":"nav tabs example",className:t.tabs},r.a.createElement(aE,Object.assign({className:"".concat(t.eventsTab," ").concat(t.borderRight),label:"Paid",href:"/paid"},tE(0))),r.a.createElement(aE,Object.assign({className:"".concat(t.eventsTab),label:"Pending",href:"/pending"},tE(1))))),r.a.createElement(eE,{value:o,index:0,className:t.tabPanel},r.a.createElement(Zx,{value:o})),r.a.createElement(eE,{value:o,index:1},r.a.createElement(Zx,{value:o})))}var rE=Object(dt.a)((function(e){var t;return{hr:{marginBottom:"0px",color:"#AEAEB2",fontFamily:"Avenir Book"},sectionContainer:{padding:"20px 20px 65px 20px"},descriptionContent:{color:"#1C1C1E",fontFamily:"Avenir Book",fontSize:14},gridContainer:{paddingTop:"8px"},buttonContainer:{width:"100%",paddingTop:"15px"},button:{width:"100%"},card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px"},mainHeader:{width:"100%",paddingTop:"15px"},mainHeadertext:{fontSize:18,fontFamily:"Avenir Medium",width:"100%",textAlign:"center",color:"#1C1C1E"},backImg:{paddingLeft:"15px",paddingTop:"5px",cursor:"pointer",width:10,height:18},cardHeader:{padding:"15px 20px 0 20px"},iconButtonRoot:{padding:"8px"},titleIconSpan:{marginRight:"8px"},titleIcon:{transform:"translateY(3px)"},greentick:{padding:"15px 5px 0px 0px"},cardTitle:{fontSize:14,fontStyle:"normal",fontFamily:"Avenir Heavy",fontWeight:500},cardActions:{padding:"0 20px 20px 20px"},cardContent:{padding:"5px 20px 20px 20px","&:last-child":{paddingBottom:"20px"}},menuItem:{paddingLeft:"10px",paddingRight:"10px",colour:"#1C1C1E"},borderBottomDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px",borderBottom:"1px solid #D1D1D6"},borderBottomLastDiv:{width:"90%",height:"30px",margin:"auto",marginTop:"5px"},menuTopItemMargin:{marginTop:"5px"},menuItemRoot:{padding:0},menuContainer:(t={backgroundColor:e.palette.common.darkGray,color:"black",minWidth:"150px","&.MuiPaper-rounded":{boxShadow:"0px 6px 6px #00000029"}},Object(C.a)(t,e.breakpoints.down("md"),{minWidth:"150px"}),Object(C.a)(t,e.breakpoints.down("sm"),{minWidth:"150px"}),t),menuList:{width:"100% !important",padding:0},contentStyle:{color:"".concat(e.palette.common.lightFont),fontSize:"14px",fontStyle:"normal"},readClass:{textAlign:"right",width:"100%"},amount:{color:"#AEAEB2",fontFamily:"Avenir Book",fontSize:14},CircularProgress:{margin:"20px",display:"flex",justifyContent:"center",alignItems:"center",height:"85%"}}})),oE=Object(i.c)((function(e){var t=e.Payment;return{data:t.getPaymentById,loading:t.getPaymentByIdLoading,selectedRole:e.auth.selectedRole,token:e.auth.token}}),{getPaymentById:gd})((function(e){var t=rE(),a=(Object(B.a)(),Object(s.g)()),o=Object(s.i)().id,c=e.data,i=e.loading,l=c.data||{};console.log("data :>> ",c);return Object(n.useEffect)((function(){e.getPaymentById(o)}),[]),r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:t.CircularProgress},r.a.createElement(kr.a,null)):r.a.createElement("div",{className:t.sectionContainer},r.a.createElement(it.a,{className:t.card},r.a.createElement("div",{className:t.mainHeader},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:1},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.push("/create-payment")}})),r.a.createElement(en.a,{item:!0,xs:10},r.a.createElement("div",{className:t.mainHeadertext},r.a.createElement(m.a,null,"Payment Details"))),r.a.createElement(en.a,{item:!0,xs:1}))),r.a.createElement($a.a,{className:t.cardHeader,title:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.cardTitle},l?l.title:""))}),r.a.createElement(lt.a,{classes:{root:t.cardContent}},r.a.createElement(en.a,{container:!0,direction:"row",className:t.gridContainer},r.a.createElement("div",{className:"".concat(t.descriptionContent),dangerouslySetInnerHTML:{__html:l?l.main_content:""}})),r.a.createElement("hr",{className:t.hr}),r.a.createElement(en.a,{container:!0,direction:"row",className:t.gridContainer},r.a.createElement("div",{className:t.readClass},r.a.createElement(m.a,{className:t.amount},"Amount: ",r.a.createElement("span",null,"\u20b9"),r.a.createElement("span",null,"\xa0"),r.a.createElement(td.a,{value:l?parseInt(l.payment)/100:"",displayType:"text",thousandSeparator:!0,thousandsGroupStyle:"lakh"})))))),r.a.createElement(nE,null)))})),cE=Object(dt.a)((function(e){var t,a;return a={download:{textAlign:"right",cursor:"pointer"},print:{display:"none"},sectionContainer:{padding:"20px","& .MuiButton-root":{textTransform:"capitalize"}},card:{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",margin:"20px"},mainHeader:{width:"100%"},mainHeadertext:{fontSize:18,fontFamily:"Avenir Medium",width:"100%",textAlign:"center",color:"#1C1C1E"},backImg:{paddingTop:"5px",cursor:"pointer",width:10,height:18}},Object(C.a)(a,"card",{boxShadow:"none",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px",marginTop:"20px"}),Object(C.a)(a,"cardHeader",{padding:"20px 20px 0 20px"}),Object(C.a)(a,"cardTitle",{fontSize:14,fontStyle:"normal",fontFamily:"Avenir Heavy",fontWeight:500,textAlign:"center"}),Object(C.a)(a,"cardContent",{padding:"0 20px 20px 20px","&:last-child":{paddingBottom:"20px"}}),Object(C.a)(a,"CircularProgress",{margin:"20px",display:"flex",justifyContent:"center",alignItems:"center",width:"85%"}),Object(C.a)(a,"cardContentText",{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E",marginRight:"20px",marginTop:"12px"}),Object(C.a)(a,"fieldStyle",{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:14,"& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiFormLabel-root":{fontFamily:"Avenir Book",fontSize:14},"& .MuiInputBase-root":{fontSize:14}}),Object(C.a)(a,"sideMargins",{marginLeft:"20px",marginRight:"20px"}),Object(C.a)(a,"margin",(t={marginTop:"15px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(t,"& .publishBtn",Object(C.a)({borderRadius:"3px",width:"inherit",margin:0},e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"})),Object(C.a)(t,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"20px"}),t)),Object(C.a)(a,"textAlignLeft",{textAlign:"left",fontFamily:"Avenir Book",fontSize:14,color:"#AEAEB2",marginBottom:"12px"}),Object(C.a)(a,"commentSection",{paddingBottom:"65px"}),Object(C.a)(a,"circularProgress",{textAlign:"center",margin:"20px"}),a})),iE=Object(i.c)((function(e){var t=e.Payment;return{data:t.paymentById,loading:t.paymentByIdLoading,postLoading:t.postPayLoading,createLoading:t.createOrderLoading,selectedRole:e.auth.selectedRole,token:e.auth.token}}),{paymentById:function(e,t,a){return{type:ba,subtypes:pd.PAYMENT_BY_ID,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.get("".concat("/payments","/").concat(e))}(e)}}},postPay:function(e,t,a,n,r){return{type:ba,subtypes:pd.POST_PAY,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.post("".concat("/pay","/").concat(e,"?current_role=").concat(t),a)}(e,t,a)}}}})((function(e){var t=cE(),a=(Object(B.a)(),Object(s.g)()),o=Object(s.i)().id,c=Object(n.useState)("not-paid"),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(""),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)({}),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!1),y=Object(S.a)(v,2),j=y[0],O=y[1],C=e.postLoading,N=e.createLoading,k=e.selectedRole,w=x.amount_due,T=x.user||{},A=x.user_class||{};console.log("data :>> ",x);var _=function(e){O(!1),e&&E(e.data)},I=function(){O(!1)};Object(n.useEffect)((function(){O(!0),e.paymentById(o,_,I)}),[]);var D=function(){ua.open("",!0,"Payment paid successfully"),a.push("/create-payment/payment-details/".concat(x.notification_id))},R=function(e){console.log("error",e),e&&ua.open("",!1,e.message)},L=Object(n.useRef)(),F=Object(aa.useReactToPrint)({content:function(){return L.current}});return j?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,null)):r.a.createElement(r.a.Fragment,null,x&&!j?r.a.createElement("div",{className:t.print},r.a.createElement("div",{ref:L},r.a.createElement(Cd,{receipt:x}))):"",r.a.createElement("div",{className:t.sectionContainer},r.a.createElement("div",{className:t.mainHeader},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:1},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.goBack()}})),r.a.createElement(en.a,{item:!0,xs:10},r.a.createElement("div",{className:t.mainHeadertext},r.a.createElement(m.a,null,"Payment Details"))),r.a.createElement(en.a,{item:!0,xs:1,className:t.download},"1"===x.status?r.a.createElement("img",{src:yi.a,onClick:F,alt:"download",width:"23",height:"24"}):""))),r.a.createElement(it.a,{className:t.card},r.a.createElement($a.a,{className:t.cardHeader,title:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.cardTitle},x.payment_title))}),r.a.createElement(lt.a,{classes:{root:t.cardContent}},r.a.createElement(m.a,{className:t.cardContentText},T?T.fullName:""),r.a.createElement("div",{style:{display:"flex"}},A.className?r.a.createElement(m.a,{className:t.cardContentText},"Class - ",A.className):"","1"===x.status?r.a.createElement(m.a,{className:t.cardContentText},"Amount Paid: \u20b9",x.amount_paid/100):r.a.createElement(m.a,{className:t.cardContentText},"Amount Due: \u20b9",x.amount_due/100)),"1"===x.status?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{className:"".concat(t.margin)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,null,"Payment Status"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:l,onChange:function(e){d(e.target.value)}},r.a.createElement(M.a,{value:"not-paid"},"Not Paid"),r.a.createElement(M.a,{value:"Manually Paid"},"Manually Paid"),r.a.createElement(M.a,{value:"Online Paid"},"Online Paid"),r.a.createElement(M.a,{value:"Half waived"},"Half waived"),r.a.createElement(M.a,{value:"Full waived"},"Full waived")))),r.a.createElement(mr.a,{className:"".concat(t.margin)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(m.a,{className:t.textAlignLeft},"Remarks"),r.a.createElement(Xo.a,{className:t.textArea,id:"outlined-multiline-static",label:"",multiline:!0,rows:5,value:g,onChange:function(e){f(e.target.value)},variant:"outlined"})))))),"1"===x.status?"":r.a.createElement(en.a,{container:!0,style:{marginTop:"20px"}},r.a.createElement(en.a,{item:!0,xs:9}),r.a.createElement(en.a,{item:!0,xs:3},C||N?r.a.createElement(kr.a,null):r.a.createElement(z.a,{id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(){var t={mode:l,amount_paid:"Half waived"===l?w/2:"Full waived"===l?"0":w,remarks:g,razorpay_payment_id:"",razorpay_order_id:"",razorpay_signature:""};"not-paid"!==l&&e.postPay(o,k,t,D,R)},disableElevation:!0},"Save")))),x?r.a.createElement("div",{className:t.commentSection},r.a.createElement(bd,null)):"")})),lE=Object(I.a)((function(e){return{selectStudent:{fontFamily:"Avenir book",fontSize:14,margin:"20px",textAlign:"center"},dropdownContainer:{marginRight:"20px",marginLeft:"20px"},backImg:{cursor:"pointer",position:"absolute",left:"20px",top:"30px"},profileNameDiv:{textAlign:"center",marginTop:"20px"},profilePictureDiv:{width:"120px",height:"120px",borderRadius:"50%",margin:"auto",border:"1px solid"},editProfile:{transform:"translate(35px,75px)",cursor:"pointer"},profileName:{fontStyle:"normal",fontSize:"24px",fontWeight:500},changePwdDiv:{width:"95%",marginTop:"40px",margin:"auto"},input:{display:"none"},changePwd:{width:"100%",height:"50px",borderRadius:"5px",borderWidth:"2px",borderStyle:"solid"},sectionContainer:{paddingBottom:"45px"},container:{display:"flex",justifyContent:"center"}}})),sE=Object(i.c)((function(e){var t=e.Attendence;t.diaryProfile,t.diaryProfileLoading;return{userInfo:e.auth.userInfo,selectedRole:e.auth.selectedRole}}),{diaryProfile:function(e,t,a,n,r){return{type:ba,subtypes:Pp.DIARY_PROFILE,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return ga.get("".concat("/dairy","?get_by=").concat(a,"&current_role=").concat(t,"&student_id=").concat(e))}(e,t,a)}}}})((function(e){var t=lE(),a=(Object(s.g)(),Object(s.i)().id),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(null),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)([]),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)([]),v=Object(S.a)(E,2),y=v[0],j=(v[1],Object(n.useState)(null)),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(n.useState)([]),w=Object(S.a)(k,2),T=w[0],A=w[1],_=e.selectedRole,I=localStorage.getItem("selectedStudent"),B=[],D=[];B.push(h),D.push(B),console.log("Phone",h),console.log("Email",y),console.log("phoneArray",B);var R=function(e){l(!1),console.log("result :>> ",e),e&&(g(e.data[0]),x(e.data[0].user_phones),N(e.data[0].user_addresses),A(e.data[0].family_member))},L=function(){l(!0),e.diaryProfile(a,_,"profile",R)};return Object(n.useEffect)((function(){("teacher"!==_&&"admin"!==_||!I)&&"parent"!==_&&"student"!==_||L()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.sectionContainer},"teacher"===_||"admin"===_?r.a.createElement("div",{className:t.dropdownContainer},r.a.createElement(Fb,null)):"","teacher"!==_&&"admin"!==_||I?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.profileNameDiv},r.a.createElement("div",{className:t.profilePictureDiv,style:{backgroundImage:"url(".concat(p?p.thumbnail?p.thumbnail:Gb.a:"",")"),"background-repeat":"no-repeat","background-size":"cover","background-position":"center"}}),r.a.createElement(m.a,{className:t.profileName},p?"".concat(p.firstname," ").concat(p.lastname):""))),r.a.createElement(vm,{gender:p?p.gender:"",userPhones:D,userEmails:y}),C?r.a.createElement(jm,{address:C}):"",r.a.createElement(Sm,{parentsData:T})):r.a.createElement(m.a,{className:t.selectStudent},"Please select student first!")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Tr,{open:i}))})),dE=Object(dt.a)({selectStudent:{fontFamily:"Avenir book",fontSize:14,margin:"20px",textAlign:"center"},leavesRoot:{maxWidth:"100%",paddingBottom:"75px"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"16px",top:"18px"},dropdownContainer:{marginRight:"20px",marginLeft:"20px"},circularProgress:{textAlign:"center",margin:"8px"},container:{height:"100%",overflow:"auto"}}),mE=Object(i.c)((function(e){return{selectedRole:e.auth.selectedRole}}),{diaryLeave:function(e,t,a,n,r,o){return{type:ba,subtypes:Pp.DIARY_PROFILE,onSuccessCallback:r,onFailCallback:o,promise:function(){return function(e,t,a,n){return ga.get("".concat("/dairy","?get_by=").concat(a,"&current_role=").concat(t,"&student_id=").concat(e,"&page=").concat(n))}(e,t,a,n)}}}})((function(e){var t=dE(),a=(Object(s.g)(),Object(s.i)().id),o=Object(n.useState)({}),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)([]),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(1),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(!0),v=Object(S.a)(E,2),y=v[0],j=v[1],O=localStorage.getItem("selectedStudent"),C=e.selectedRole,N=function(e){j(!1),console.log("result :>> ",e),e&&(g([].concat(Object(Na.a)(p),Object(Na.a)(e.data.data))),l(e.data))},k=function(t){a&&e.diaryLeave(a,C,"leave",t,N)};Object(n.useEffect)((function(){k(1)}),[]);return r.a.createElement(mr.a,{className:t.container,id:"scrollable",onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),i.last_page>h&&t&&!y){var a=h+1;k(a),j(!0),x(a)}}},r.a.createElement($u,{title:!0,titleText:"Leaves"}),"teacher"===C||"admin"===C?r.a.createElement("div",{className:t.dropdownContainer},r.a.createElement(Fb,null)):"","teacher"!==C&&"admin"!==C||O?r.a.createElement("div",{className:t.leavesRoot},p.map((function(e){return r.a.createElement(mp,{leave:e})})),y||p.length?null:r.a.createElement(Ju,null),y?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):""):r.a.createElement(m.a,{className:t.selectStudent},"Please select student first!"))})),uE=function(e,t){return ga.put("".concat("/schoolReport","/").concat(e),t)},pE={POST_REPORT:{START:"report.post_report:start",SUCCESS:"report.post_report:success",FAIL:"report.post_report:fail"},PUT_ASSIGNMENT:{START:"report.put_assignment:start",SUCCESS:"report.put_assignment:success",FAIL:"report.put_assignment:fail"},PUT_NEWS:{START:"report.put_news:start",SUCCESS:"report.put_news:success",FAIL:"report.put_news:fail"},PUT_ATTENDANCE:{START:"report.put_attendance:start",SUCCESS:"report.put_attendance:success",FAIL:"report.put_attendance:fail"},PUT_PAYMENT:{START:"report.put_payment:start",SUCCESS:"report.put_payment:success",FAIL:"report.put_payment:fail"},GET_REPORT:{START:"report.get_report:start",SUCCESS:"report.get_report:success",FAIL:"report.get_report:fail"},GET_REPORT_BY_ID:{START:"report.get_report_by_id:start",SUCCESS:"report.get_report_by_id:success",FAIL:"report.get_report_by_id:fail"},DELETE_REPORT:{START:"report.delete_report:start",SUCCESS:"report.delete_report:success",FAIL:"report.delete_report:fail"},DOWNLOAD_REPORT:{START:"report.download_report:start",SUCCESS:"report.download_report:success",FAIL:"report.download_report:fail"}},gE=function(e,t){return{type:ba,subtypes:pE.POST_REPORT,onSuccessCallback:e,onFailCallback:t,promise:function(){return ga.post("".concat("/schoolReport"))}}},fE=function(e,t,a,n){return{type:ba,subtypes:pE.GET_REPORT,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/schoolReport","?get_type=").concat(e,"&page=").concat(t))}(e,t)}}},bE=function(e,t,a,n,r){return console.log("page :>> ",e,t,a),{type:ba,subtypes:pE.GET_REPORT_BY_ID,onSuccessCallback:n,onFailCallback:r,promise:function(){return function(e,t,a){return console.log("page :>> ",a),ga.get("".concat("/schoolReport","/").concat(e,"?get_type=").concat(t,"&page=").concat(a))}(e,t,a)}}},hE=function(e,t,a){return{type:ba,subtypes:pE.DELETE_REPORT,onSuccessCallback:t,onFailCallback:a,promise:function(){return function(e){return ga.remove("".concat("/schoolReport","/").concat(e))}(e)}}},xE=function(e,t,a,n){return{type:ba,subtypes:pE.DOWNLOAD_REPORT,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.get("".concat("/schoolReportImport","/").concat(e,"?get_type=").concat(t,"&get_report=sheet"))}(e,t)}}},EE=Object(I.a)((function(e){return{message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},span:{textTransform:"capitalize"},card:{margin:"20px 20px 0 20px"},Del_img:{cursor:"pointer",marginLeft:"20px"},downloadBtn:{width:"19px",height:"19px",transform:"translateY(4px)",cursor:"pointer",marginLeft:"20px"},infoBtn:{width:"25px",height:"23px",transform:"translateY(4px)",cursor:"pointer",marginLeft:"5px",marginTop:"-4px"},cardContent:{padding:"20px !important",overflow:"auto"},textAlignRight:{textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Book"},imgDiv:{display:"flex",justifyContent:"flex-end",transform:"translateY(5px)",color:"#AEAEB2"},circularProgress:{display:"flex",justifyContent:"center",margin:"8px"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#1C1C1E",paddingBottom:"12px",cursor:"pointer","&:hover":{textDecoration:"underline"}},iconContainer:{display:"flex",justifyContent:"flex-end"},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)},popoverMessage:{display:"flex",flexDirection:"column",padding:"12px 12px 0 12px"},popoverLabel:{fontFamily:"Avenir Medium",fontSize:14,color:"#000000"},popoverText:{fontFamily:"Avenir Book",fontSize:14,color:"#000000",marginBottom:"12px"}}}));var vE=Object(i.c)((function(e){var t=e.Report.deleteReportLoading,a=(e.auth.userInfo||{}).user_classes||{};return{deleteLoading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{deleteReport:hE,downloadReport:xE})((function(e){var t=EE(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(!1),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)({}),E=Object(S.a)(x,2),v=E[0],y=E[1],j=r.a.useState(null),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(s.g)(),w=e.data,T=e.loading;Object(n.useEffect)((function(){b&&e.fetchAssignment(1)}),[b]);var A=function(){ua.open("",!0,"Report deleted successfully"),e.setAssignmentData([]),e.setInfo({}),e.setLoader(!0),h(Math.random()),i(!1)},_=function(e){console.log("error",e),e&&ua.open("",!1,e.message)},I=function(){N(null)},B=Boolean(C);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:c,handleClose:function(){i(!1)},onhandleDelete:function(){e.deleteReport(u,A,_)},loading:e.deleteLoading}),w.length||T?"":r.a.createElement(m.a,{className:t.message},"No assignment report available yet!"),w.map((function(e){return r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",{onClick:function(){return k.push("/assignment-report/details/".concat(e.id))}},e.title?r.a.createElement(m.a,{className:t.title},e.title):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},ea(e.created_at).format("DD MMM, hh:mm A")))),r.a.createElement(en.a,{container:!0,className:t.iconContainer},r.a.createElement("div",{className:"".concat(t.imgDiv)},r.a.createElement("img",{src:Db.a,className:t.infoBtn,onMouseEnter:function(t){N(t.currentTarget),function(e){y(e)}(e)},onMouseLeave:I}),r.a.createElement("img",{src:yi.a,className:t.downloadBtn,onClick:function(){return function(e){var t=localStorage.getItem("srmToken");oa()({url:"".concat("/schoolReportImport","/").concat(e,"?get_type=assignment&get_report=sheet"),method:"GET",params:{},responseType:"blob",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log("response :>> ",e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","assignment.xlsx"),document.body.appendChild(a),a.click()})).catch((function(){}))}(e.id)}}),r.a.createElement("div",{className:t.Del_img,onClick:function(){return function(e){i(!0),p(e)}(e.id)}},r.a.createElement(Ic.a,{fontSize:"medium"}))))))})),T?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"",r.a.createElement(Rb.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:B,anchorEl:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:I,disableRestoreFocus:!0},r.a.createElement("div",{className:t.popoverMessage},r.a.createElement(m.a,{className:t.popoverLabel},"From Date:"),r.a.createElement(m.a,{className:t.popoverText},ea(v.from_date).format("DD MMMM YYYY")),r.a.createElement(m.a,{className:t.popoverLabel},"To Date:"),r.a.createElement(m.a,{className:t.popoverText},ea(v.to_date).format("DD MMMM YYYY")))))})),yE=Object(dt.a)((function(e){return{sectionContainer:{height:"100%",overflow:"auto",marginBottom:"80px"},header:{display:"flex",justifyContent:"center",flexDirection:"column"},addNew:{color:e.palette.common.deluge,display:"flex",marginRight:"15px",marginTop:"15px",justifyContent:"flex-end","& .new":{float:"right",fontSize:"14px",padding:"5px 5px 0 5px"},"& img":{margin:"5px 5px 0 5px",height:"20px",cursor:"pointer"}},cursor:{cursor:"pointer"},titleText:{fontFamily:"Avenir Medium",fontSize:18,color:"#1C1C1E"}}}));var jE=Object(i.c)((function(e){var t=e.Report.postReportLoading,a=(e.auth.userInfo||{}).user_classes||{};return{loading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{postReport:gE,getReport:fE})((function(e){var t=yE(),a=Object(s.g)(),o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)({}),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!0),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=(e.selectedRole,e.loading),C=function(e){a.push("/assignment-report/edit/".concat(e.data.id))},N=function(e){x(!1),console.log("result :>> ",e),e&&(l([].concat(Object(Na.a)(i),Object(Na.a)(e.data.assignment.data))),g(e.data.assignment))},k=function(e){x(!1)},w=function(t){e.getReport("assignment",t,N,k)};return Object(n.useEffect)((function(){w(1)}),[]),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Tr,{open:O}):r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),p.last_page>y&&t&&!h){var a=y+1;w(a),x(!0),j(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.header},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},r.a.createElement(m.a,{className:"".concat(t.themeColor," ").concat(t.titleText)},"Assignment Report"))),r.a.createElement("div",{className:t.addNew},r.a.createElement("div",{className:t.cursor,onClick:function(){e.postReport(C)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))),r.a.createElement(vE,{data:i,loading:h,setAssignmentData:l,setInfo:g,setLoader:x,fetchAssignment:w})))})),OE=Object(dt.a)((function(e){var t,a;return{errorColor:{color:"red",textAlign:"center",padding:"10px 0"},formStyle:{margin:"20px",backgroundColor:"white",justifyContent:"center",textAlign:"right",borderRadius:"5px",paddingTop:"20px"},formDiv:{height:"100vh",overflow:"auto"},margin:(a={marginTop:"30px"},Object(C.a)(a,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(a,"& .publishBtn",(t={borderRadius:"3px",width:"inherit",margin:0},Object(C.a)(t,"width",130),Object(C.a)(t,"height",40),Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"}),t)),Object(C.a)(a,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),a),sideMargins:{marginLeft:"20px",marginRight:"20px"},sideMarginsFromDate:{marginLeft:"20px"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",fontize:18,color:"#1C1C1E"},inputBorder:{height:"50px"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiFormLabel-root":{fontFamily:"Avenir Book",fontSize:14,color:"#AEAEB2"}},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},textArea:{width:"100%",border:"1px solid rgb(200,200,200"},radioBtn:{display:"flex",flexDirection:"row",fontFamily:"Avenir",fontSize:14},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},publishBtns:{display:"flex",justifyContent:"flex-end","& .MuiButton-root":{textTransform:"capitalize"}},renderOption:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"13px",paddingBottom:"8px"},optionContainer:{display:"flex"},dateContainer:{display:"flex",justifyContent:"space-between"},dateWidth:{width:"50%"},chips:{display:"flex",flexWrap:"wrap"}}}));var SE=Object(i.c)((function(e){var t=e.Report.putAssingmentLoading,a=(e.auth.userInfo||{}).user_classes||{};return{loading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{putAssignment:function(e,t,a,n){return{type:ba,subtypes:pE.PUT_ASSIGNMENT,onSuccessCallback:a,onFailCallback:n,promise:function(){return uE(e,t)}}}})((function(e){var t=OE(),a=Object(s.g)(),o=Object(s.h)(),c=Object(s.i)().id,i=Object(n.useState)(""),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)([]),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)([]),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)([]),j=Object(S.a)(y,2),O=j[0],C=j[1],k=Object(n.useState)(!0),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(null),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(null),L=Object(S.a)(R,2),F=L[0],P=L[1],U=Object(n.useState)(!1),Y=Object(S.a)(U,2),H=Y[0],G=Y[1],V=Object(n.useState)(!1),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=localStorage.getItem("srmToken"),X=e.school_id;Object(n.useEffect)((function(){var e=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l.fetchClasses(Q);case 2:t=e.sent,A(!1),console.log("classesResponse",t),a={},t.data.data.forEach((function(e){a[e.id]=e.class_name})),C(Object(N.a)({},a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.pathname!=="/assignment-report/edit/".concat(c)&&o.pathname!=="/assignment-report/edit/".concat(c)||e()}),[]);var Z=["All"].concat(Object(Na.a)(Object.values(O)));Object(n.useEffect)((function(){!function(){var e=[];f.find((function(e){return"All"===e}))?e=Object(Na.a)(Object.keys(O)):f.forEach((function(t){e.push(parseInt(Object.keys(O).find((function(e){return O[e]===t}))))})),v(e)}()}),[f]);var $=function(){J(!1),ua.open("",!0,"Assignment report created successfully"),a.push("/assignment-report")},ee=function(e){console.log("error",e),J(!1),e&&ua.open("",!1,e.message)};return T?r.a.createElement(Tr,{open:T}):r.a.createElement("div",{className:t.formDiv},r.a.createElement("div",{className:t.headingDiv,style:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.push("/assignment-report")}}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText),style:{fontSize:18}},"Create Assignment Report")),r.a.createElement("form",{className:t.formStyle},H?r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(t.errorColor)},H)):"",r.a.createElement(mr.a,{className:" ".concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"title",name:"title",className:t.inputBorder,value:d,onChange:function(e){u(e.target.value),G(!1)},required:!0,label:"Title"}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,null,"Select Class"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:f,multiple:!0,onChange:function(e){b(e.target.value),G(!1)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){b(f.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:t.chip})})))}},Z.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(mr.a,{style:{width:"50%"},className:"".concat(t.margin," ").concat(t.sideMarginsFromDate)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"fromDate",label:"From Date",variant:"dialog",maxDate:new Date,format:"MM/dd/yyyy",value:B,onChange:function(e){D(e),G(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker}))))),r.a.createElement(mr.a,{style:{width:"50%"},className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"endDate",label:"To Date",variant:"dialog",maxDate:new Date,format:"MM/dd/yyyy",value:F,onChange:function(e){P(e),G(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker})))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:3,xs:12,className:t.publishBtns},q?r.a.createElement(kr.a,null):r.a.createElement(z.a,{style:{textTransform:"capitalize"},id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(t){if(t.preventDefault(),function(){if(d)if(f.length)if(B)if(F){if(!(F.getTime()<B.getTime()))return!0;G("End date should be greater then from date")}else G("A Mandatory field isn't filled!");else G("A Mandatory field isn't filled!");else G("A Mandatory field isn't filled!");else G("A Mandatory field isn't filled!")}()){J(!0);var a={title:d,class_mapping:E,from_date:ea(B).format("YYYY-MM-DD"),to_date:ea(F).format("YYYY-MM-DD"),type:"assignment",school_id:X};e.putAssignment(c,a,$,ee)}},disableElevation:!0},"Create")),r.a.createElement(en.a,{item:!0,sm:9,xs:12,className:t.textAlignLeft}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))})),CE=Object(Jt.a)((function(e){return{head:{backgroundColor:"#7B72AF",color:e.palette.common.white,textAlign:"center"},body:{fontSize:14,textAlign:"center"}}}))(Ed.a),NE=Object(Jt.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#FFFFFF"},"&:nth-of-type(even)":{backgroundColor:"#FFFFFF"}}}}))(jd.a),kE=Object(dt.a)({table:{border:"1px solid #707070"},border:{borderLeft:"1px solid #FFFFFF",borderRight:"1px solid #FFFFFF"},columnBorder:{borderLeft:"1px solid #707070",borderRight:"1px solid #707070"},message:{fontFamily:"Avenir Book",fontSize:14}});function wE(e){var t=kE(),a=e.loading,n=e.report;return r.a.createElement(vd.a,{className:t.table,component:Od.a},r.a.createElement(hd.a,{"aria-label":"customized table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(CE,null,"Date"),r.a.createElement(CE,{align:"center",className:t.border},"Class"),r.a.createElement(CE,{align:"center",className:t.border},"Subject"),r.a.createElement(CE,{align:"center"},"Number of Homework"))),r.a.createElement(xd.a,null,n.length?n.map((function(e,a){return r.a.createElement(NE,{key:a},r.a.createElement(CE,{component:"th",scope:"row",style:{padding:n.length===a+1?"16px 0 16px":"16px 0 0"}},e.date),r.a.createElement(CE,{align:"center",className:t.columnBorder,style:{padding:n.length===a+1?"16px 0 16px":"16px 0 0"}},e.class),r.a.createElement(CE,{align:"center",className:t.columnBorder,style:{padding:n.length===a+1?"16px 0 16px":"16px 0 0"}},e.subject_name),r.a.createElement(CE,{align:"center",style:{padding:n.length===a+1?"16px 0 16px":"16px 0 0"}},e.no_of_homework))})):a?"":r.a.createElement(CE,{component:"th",scope:"row",colSpan:4,style:{padding:"16px 5px 16px 5px"}},r.a.createElement(m.a,{className:t.message},"No report available yet!")))))}var TE=Object(I.a)((function(e){return{card:{marginBottom:"20px",padding:"0 20px 20px",margin:"0 20px","& .MuiCardContent-root":{padding:"20px 0"},"& .MuiTableCell-root":{fontFamily:"Avenir Medium",fontSize:14,borderBottom:"none"},"& .MuiPaper-elevation1":{boxShadow:"none"}},sectionContainer:{flexWrap:"wrap",height:"100vh",overflow:"auto",marginBottom:"60px"},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},backImg:{cursor:"pointer"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",color:"#1C1C1E"},textAlignRight:{fontStyle:"normal",textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Roman"},imgDiv:{display:"flex",justifyContent:"flex-end",width:"100%"},labelText:{fontStyle:"normal",color:"#1C1C1E",fontSize:14,fontFamily:"Avenir Book",lineHeight:"19px"},span:{textTransform:"uppercase"},circularProgress:{textAlign:"center",marginTop:"8px"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#2C2C2E",paddingBottom:"12px",textAlign:"center"},downloadBtn:{cursor:"pointer"},rowDiv:{display:"flex",justifyContent:"space-between"},headText:{fontFamily:"Avenir Medium",fontSize:14,color:"#1C1C1E"},text:{width:"85%",marginBottom:"12px"},font:{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E"}}}));var AE=Object(i.c)((function(e){var t=e.Report,a=t.getReportById,n=t.getReportByIdLoading,r=t.downloadReport,o=t.downloadReportLoading,c=(e.auth.userInfo||{}).user_classes||{};return{reportData:r,reportLoading:o,data:a,loading:n,selectedRole:e.auth.selectedRole,school_id:c.school_id}}),{getReportById:bE,downloadReport:xE})((function(e){var t=TE(),a=Object(s.i)().id,o=Object(s.g)(),c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)({}),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)([]),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)({}),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(1),A=Object(S.a)(T,2),_=A[0],I=A[1],B=function(e){e&&(console.log("result :>> ",e),w(!1),O(e.data.report),f(e.data),E([].concat(Object(Na.a)(x),Object(Na.a)(e.data.report.data))))},D=function(t){w(!0),e.getReportById(a,"assignment",t,B)};return Object(n.useEffect)((function(){D(1)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),j.last_page>_&&t&&!k){var a=_+1;D(a),w(!0),I(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.headingDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){o.push({pathname:"/assignment-report"})}}),r.a.createElement(m.a,{style:{fontSize:18},className:"".concat(t.themeColor," ").concat(t.titleText)},"Assignment Report Details"),l?r.a.createElement("div",{className:t.downloadBtn},r.a.createElement(kr.a,{color:"primary",size:20})):r.a.createElement("img",{src:yi.a,className:t.downloadBtn,onClick:function(){var e=localStorage.getItem("srmToken");oa()({url:"".concat("/schoolReportImport","/").concat(a,"?get_type=assignment&get_report=sheet"),method:"GET",params:{},responseType:"blob",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){d(!1),console.log("response :>> ",e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","assignment.xlsx"),document.body.appendChild(a),a.click()})).catch((function(){d(!1)}))}})),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement("span",null,r.a.createElement(m.a,{className:t.title},g.title)))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"From Date:"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},ea(g.from_date).format("DD MMMM YYYY"))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"To Date:"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},ea(g.to_date).format("DD MMMM YYYY")))),r.a.createElement(wE,{report:x,loading:k}),k?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"")))})),_E=Object(I.a)((function(e){return{message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},span:{textTransform:"capitalize"},card:{margin:"20px 20px 0 20px"},Del_img:{cursor:"pointer",marginLeft:"20px"},downloadBtn:{width:"19px",height:"19px",transform:"translateY(4px)",cursor:"pointer",marginLeft:"20px"},infoBtn:{width:"25px",height:"23px",transform:"translateY(4px)",cursor:"pointer",marginLeft:"5px",marginTop:"-4px"},cardContent:{padding:"20px !important",overflow:"auto"},textAlignRight:{textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Book"},imgDiv:{display:"flex",justifyContent:"flex-end",transform:"translateY(5px)",color:"#AEAEB2"},circularProgress:{display:"flex",justifyContent:"center",margin:"8px"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#1C1C1E",paddingBottom:"12px",cursor:"pointer","&:hover":{textDecoration:"underline"}},iconContainer:{display:"flex",justifyContent:"flex-end"},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)},popoverMessage:{display:"flex",flexDirection:"column",padding:"12px 12px 0 12px"},popoverLabel:{fontFamily:"Avenir Medium",fontSize:14,color:"#000000"},popoverText:{fontFamily:"Avenir Book",fontSize:14,color:"#000000",marginBottom:"12px"}}}));var IE=Object(i.c)((function(e){var t=e.Report.deleteReportLoading,a=(e.auth.userInfo||{}).user_classes||{};return{deleteLoading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{deleteReport:hE,downloadReport:xE})((function(e){var t=_E(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)({}),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(n.useState)(!1),E=Object(S.a)(x,2),v=E[0],y=E[1],j=r.a.useState(null),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(s.g)(),w=e.data,T=e.loading;Object(n.useEffect)((function(){v&&e.fetchNews(1)}),[v]);var A=function(){ua.open("",!0,"Report deleted successfully"),e.setNewsData([]),e.setInfo({}),e.setLoader(!0),y(Math.random()),i(!1)},_=function(e){console.log("error",e),e&&ua.open("",!1,e.message)},I=function(){N(null)},B=Boolean(C);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:c,handleClose:function(){i(!1)},onhandleDelete:function(){e.deleteReport(u,A,_)},loading:e.deleteLoading}),r.a.createElement(Rb.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:B,anchorEl:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:I,disableRestoreFocus:!0},r.a.createElement("div",{className:t.popoverMessage},r.a.createElement(m.a,{className:t.popoverLabel},"From Date:"),r.a.createElement(m.a,{className:t.popoverText},ea(b.from_date).format("DD MMMM YYYY")),r.a.createElement(m.a,{className:t.popoverLabel},"To Date:"),r.a.createElement(m.a,{className:t.popoverText},ea(b.to_date).format("DD MMMM YYYY")))),w.length||T?"":r.a.createElement(m.a,{className:t.message},"No news report available yet!"),w.map((function(e){return r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",{onClick:function(){return k.push("/news-report/details/".concat(e.id))}},e.title?r.a.createElement(m.a,{className:t.title},e.title):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},ea(e.created_at).format("DD MMM, hh:mm A")))),r.a.createElement(en.a,{container:!0,className:t.iconContainer},r.a.createElement("div",{className:"".concat(t.imgDiv)},r.a.createElement("img",{src:Db.a,className:t.infoBtn,onMouseEnter:function(t){N(t.currentTarget),function(e){h(e)}(e)},onMouseLeave:I}),r.a.createElement("img",{src:yi.a,className:t.downloadBtn,onClick:function(){return function(e){var t=localStorage.getItem("srmToken");oa()({url:"".concat("/schoolReportImport","/").concat(e,"?get_type=news&get_report=sheet"),method:"GET",params:{},responseType:"blob",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log("response :>> ",e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","news.xlsx"),document.body.appendChild(a),a.click()})).catch((function(){}))}(e.id)}}),r.a.createElement("div",{className:t.Del_img,onClick:function(){return function(e){i(!0),p(e)}(e.id)}},r.a.createElement(Ic.a,{fontSize:"medium"}))))))})),T?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"")})),BE=Object(dt.a)((function(e){return{sectionContainer:{height:"100%",width:"100%",overflow:"auto",paddingBottom:"80px"},header:{display:"flex",justifyContent:"center",flexDirection:"column"},addNew:{color:e.palette.common.deluge,display:"flex",marginRight:"15px",marginTop:"15px",justifyContent:"flex-end","& .new":{float:"right",fontSize:"14px",padding:"5px 5px 0 5px"},"& img":{margin:"5px 5px 0 5px",height:"20px",cursor:"pointer"}},cursor:{cursor:"pointer"},titleText:{fontFamily:"Avenir Medium",fontSize:18,color:"#1C1C1E"}}}));var DE=Object(i.c)((function(e){var t=e.Report.postReportLoading,a=(e.auth.userInfo||{}).user_classes||{};return{loading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{postReport:gE,getReport:fE})((function(e){var t=BE(),a=Object(s.g)(),o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)({}),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!0),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=(e.selectedRole,e.loading),C=function(e){a.push("/news-report/edit/".concat(e.data.id))},N=function(e){x(!1),console.log("result :>> ",e),e&&(l([].concat(Object(Na.a)(i),Object(Na.a)(e.data.news.data))),g(e.data.news))},k=function(e){x(!1)},w=function(t){e.getReport("news",t,N,k)};return Object(n.useEffect)((function(){w(1)}),[]),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Tr,{open:O}):r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),p.last_page>y&&t&&!h){var a=y+1;w(a),x(!0),j(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.header},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},r.a.createElement(m.a,{className:"".concat(t.themeColor," ").concat(t.titleText)},"News Report"))),r.a.createElement("div",{className:t.addNew},r.a.createElement("div",{className:t.cursor,onClick:function(){e.postReport(C)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))),r.a.createElement(IE,{data:i,loading:h,setNewsData:l,setInfo:g,setLoader:x,fetchNews:w})))})),RE=a(992),LE=Object(dt.a)((function(e){var t,a;return{errorColor:{color:"red",textAlign:"center",padding:"10px 0"},formStyle:{margin:"20px",backgroundColor:"white",justifyContent:"center",textAlign:"right",borderRadius:"5px",paddingTop:"20px"},formDiv:{height:"100vh",overflow:"auto"},margin:(a={marginTop:"30px"},Object(C.a)(a,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(a,"& .publishBtn",(t={borderRadius:"3px",width:"inherit",margin:0},Object(C.a)(t,"width",130),Object(C.a)(t,"height",40),Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"}),t)),Object(C.a)(a,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),a),sideMargins:{marginLeft:"20px",marginRight:"20px"},sideMarginsFromDate:{marginLeft:"20px"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",fontize:18,color:"#1C1C1E"},inputBorder:{height:"50px"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiFormLabel-root":{fontFamily:"Avenir Book",fontSize:14,color:"#AEAEB2"}},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},textArea:{width:"100%",border:"1px solid rgb(200,200,200"},radioBtn:{display:"flex",flexDirection:"row",fontFamily:"Avenir",fontSize:14},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},publishBtns:{display:"flex",justifyContent:"flex-end","& .MuiButton-root":{textTransform:"capitalize"}},renderOption:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"13px",paddingBottom:"8px"},optionContainer:{display:"flex"},dateContainer:{display:"flex",justifyContent:"space-between"},dateWidth:{width:"50%"},chips:{display:"flex",flexWrap:"wrap"}}}));var FE=Object(i.c)((function(e){var t=e.Report.putNewsLoading,a=(e.auth.userInfo||{}).user_classes||{};return{loading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{putNews:function(e,t,a,n){return{type:ba,subtypes:pE.PUT_NEWS,onSuccessCallback:a,onFailCallback:n,promise:function(){return uE(e,t)}}}})((function(e){var t=LE(),a=Object(s.g)(),o=(Object(s.h)(),Object(s.i)().id),c=Object(n.useState)(""),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(null),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)(null),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)(!1),y=Object(S.a)(v,2),j=y[0],O=y[1],C=(localStorage.getItem("srmToken"),e.loading),N=e.school_id,k=function(){ua.open("",!0,"News report created successfully"),a.push("/news-report")},w=function(e){console.log("error",e),e&&ua.open("",!1,e.message)};return r.a.createElement("div",{className:t.formDiv},r.a.createElement("div",{className:t.headingDiv,style:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.goBack()}}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText),style:{fontSize:18}},"Create News Report")),r.a.createElement("form",{className:t.formStyle},j?r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(t.errorColor)},j)):"",r.a.createElement(mr.a,{className:" ".concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"title",name:"title",className:t.inputBorder,value:l,onChange:function(e){d(e.target.value),O(!1)},required:!0,label:"Title"}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(mr.a,{style:{width:"50%"},className:"".concat(t.margin," ").concat(t.sideMarginsFromDate)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"fromDate",label:"From Date",variant:"dialog",maxDate:new Date,format:"MM/dd/yyyy",value:g,onChange:function(e){f(e),O(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker}))))),r.a.createElement(mr.a,{style:{width:"50%"},className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"endDate",label:"To Date",variant:"dialog",maxDate:new Date,format:"MM/dd/yyyy",value:x,onChange:function(e){E(e),O(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker})))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:3,xs:12,className:t.publishBtns},C?r.a.createElement(kr.a,null):r.a.createElement(z.a,{style:{textTransform:"capitalize"},id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(t){if(t.preventDefault(),function(){if(RE.a)if(g)if(x){if(!(x.getTime()<g.getTime()))return!0;O("End date should be greater then from date")}else O("A Mandatory field isn't filled!");else O("A Mandatory field isn't filled!");else O("A Mandatory field isn't filled!")}()){var a={title:l,from_date:ea(g).format("YYYY-MM-DD"),to_date:ea(x).format("YYYY-MM-DD"),type:"news",school_id:N};e.putNews(o,a,k,w)}},disableElevation:!0},"Create")),r.a.createElement(en.a,{item:!0,sm:9,xs:12,className:t.textAlignLeft}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))})),ME=Object(Jt.a)((function(e){return{head:{backgroundColor:"#7B72AF",color:e.palette.common.white,textAlign:"center"},body:{fontSize:14,textAlign:"center"}}}))(Ed.a),PE=Object(Jt.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#FFFFFF"},"&:nth-of-type(even)":{backgroundColor:"#FFFFFF"}}}}))(jd.a),zE=Object(dt.a)({table:{border:"1px solid #707070"},border:{borderLeft:"1px solid #FFFFFF",borderRight:"1px solid #FFFFFF"},columnBorder:{borderLeft:"1px solid #707070",borderRight:"1px solid #707070"},message:{fontFamily:"Avenir Book",fontSize:14}});function UE(e){var t=zE(),a=e.report||[];return r.a.createElement(vd.a,{className:t.table,component:Od.a},r.a.createElement(hd.a,{"aria-label":"customized table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(ME,null,"Sr No."),r.a.createElement(ME,{align:"center",className:t.border},"Date"),r.a.createElement(ME,{align:"center"},"News ID"),r.a.createElement(ME,{className:t.border},"Published By"),r.a.createElement(ME,{align:"center",className:t.border},"Published To"),r.a.createElement(ME,{align:"center"},"News Title"))),r.a.createElement(xd.a,null,a.length?a.map((function(e,n){return r.a.createElement(PE,{key:n},r.a.createElement(ME,{component:"th",scope:"row",style:{padding:a.length===n+1?"16px 7px 16px":"16px 7px 0"}},e.sr_no),r.a.createElement(ME,{align:"center",className:t.columnBorder,style:{padding:a.length===n+1?"16px 7px 16px":"16px 7px 0"}},e.date),r.a.createElement(ME,{align:"center",style:{padding:a.length===n+1?"16px 7px 16px":"16px 7px 0"}},e.news_id),r.a.createElement(ME,{align:"center",className:t.columnBorder,style:{padding:a.length===n+1?"16px 7px 16px":"16px 7px 0"}},e.published_by),r.a.createElement(ME,{align:"center",className:t.columnBorder,style:{padding:a.length===n+1?"16px 7px 16px":"16px 7px 0"}},e.published_to),r.a.createElement(ME,{align:"center",style:{padding:a.length===n+1?"16px 7px 16px":"16px 7px 0"}},e.news_title))})):e.loading?"":r.a.createElement(ME,{component:"th",scope:"row",colSpan:6,style:{padding:"16px 7px 16px"}},r.a.createElement(m.a,{className:t.message},"No report available yet!")))))}var YE=Object(I.a)((function(e){return{card:{marginBottom:"20px",margin:"0 20px",padding:"0 20px 20px","& .MuiCardContent-root":{padding:"20px 0"},"& .MuiTableCell-root":{fontFamily:"Avenir Medium",fontSize:14,borderBottom:"none"},"& .MuiPaper-elevation1":{boxShadow:"none"}},sectionContainer:{flexWrap:"wrap",height:"100vh",overflow:"auto",marginBottom:"60px"},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},backImg:{cursor:"pointer"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",color:"#1C1C1E"},textAlignRight:{fontStyle:"normal",textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Roman"},imgDiv:{display:"flex",justifyContent:"flex-end",width:"100%"},labelText:{fontStyle:"normal",color:"#1C1C1E",fontSize:14,fontFamily:"Avenir Book",lineHeight:"19px"},span:{textTransform:"uppercase"},circularProgress:{textAlign:"center",marginTop:"8px"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#2C2C2E",paddingBottom:"12px",textAlign:"center"},downloadBtn:{cursor:"pointer"},rowDiv:{display:"flex",justifyContent:"space-between"},headText:{fontFamily:"Avenir Medium",fontSize:14,color:"#1C1C1E"},text:{width:"85%",marginBottom:"12px"},font:{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E"}}}));var HE=Object(i.c)((function(e){var t=e.Report,a=t.getReportById,n=t.getReportByIdLoading,r=t.downloadReportLoading,o=(e.auth.userInfo||{}).user_classes||{};return{reportLoading:r,data:a,loading:n,selectedRole:e.auth.selectedRole,school_id:o.school_id}}),{getReportById:bE,downloadReport:xE})((function(e){var t=YE(),a=Object(s.i)().id,o=Object(s.g)(),c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)({}),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)([]),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)({}),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(1),A=Object(S.a)(T,2),_=A[0],I=A[1];console.log("report :>> ",x);var B=function(e){e&&(console.log("result :>> ",e),w(!1),O(e.data.report),f(e.data),E([].concat(Object(Na.a)(x),Object(Na.a)(e.data.report.data))))},D=function(t){w(!0),e.getReportById(a,"news",t,B)};return Object(n.useEffect)((function(){D(1)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),j.last_page>_&&t&&!k){var a=_+1;D(a),w(!0),I(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.headingDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){o.push({pathname:"/news-report"})}}),r.a.createElement(m.a,{style:{fontSize:18},className:"".concat(t.themeColor," ").concat(t.titleText)},"News Report Details"),l?r.a.createElement("div",{className:t.downloadBtn},r.a.createElement(kr.a,{color:"primary",size:20})):r.a.createElement("img",{src:yi.a,className:t.downloadBtn,onClick:function(){var e=localStorage.getItem("srmToken");oa()({url:"".concat("/schoolReportImport","/").concat(a,"?get_type=news&get_report=sheet"),method:"GET",params:{},responseType:"blob",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){d(!1),console.log("response :>> ",e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","news.xlsx"),document.body.appendChild(a),a.click()})).catch((function(){d(!1)}))}})),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement("span",null,r.a.createElement(m.a,{className:t.title},g.title)))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"From Date:"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},ea(g.from_date).format("DD MMMM YYYY"))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"To Date:"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},ea(g.to_date).format("DD MMMM YYYY")))),r.a.createElement(UE,{report:x,loading:k}),k?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"")))})),WE=Object(I.a)((function(e){return{message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},span:{textTransform:"capitalize"},card:{margin:"20px 20px 0 20px"},Del_img:{cursor:"pointer",marginLeft:"20px"},downloadBtn:{width:"19px",height:"19px",transform:"translateY(4px)",cursor:"pointer",marginLeft:"20px"},infoBtn:{width:"25px",height:"23px",transform:"translateY(4px)",cursor:"pointer",marginLeft:"5px",marginTop:"-4px"},cardContent:{padding:"20px !important",overflow:"auto"},textAlignRight:{textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Book"},imgDiv:{display:"flex",justifyContent:"flex-end",transform:"translateY(5px)",color:"#AEAEB2"},circularProgress:{display:"flex",justifyContent:"center",margin:"8px"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#1C1C1E",paddingBottom:"12px",cursor:"pointer","&:hover":{textDecoration:"underline"}},iconContainer:{display:"flex",justifyContent:"flex-end"}}}));var GE=Object(i.c)((function(e){var t=e.Report.deleteReportLoading,a=(e.auth.userInfo||{}).user_classes||{};return{deleteLoading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{deleteReport:hE,downloadReport:xE})((function(e){var t=WE(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)(!1),f=Object(S.a)(g,2),b=f[0],h=f[1],x=Object(s.g)(),E=e.data,v=e.loading;Object(n.useEffect)((function(){b&&e.fetchAttendance(1)}),[b]);var y=function(){ua.open("",!0,"Report deleted successfully"),e.setAttendanceData([]),e.setInfo({}),e.setLoader(!0),h(Math.random()),i(!1)},j=function(e){console.log("error",e),e&&ua.open("",!1,e.message)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:c,handleClose:function(){i(!1)},onhandleDelete:function(){e.deleteReport(u,y,j)},loading:e.deleteLoading}),E.length||v?"":r.a.createElement(m.a,{className:t.message},"No attendance report available yet!"),E.map((function(e){return r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",{onClick:function(){return x.push("/attendance-report/details/".concat(e.id))}},e.title?r.a.createElement(m.a,{className:t.title},e.title):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},ea(e.created_at).format("DD MMM, hh:mm A")))),r.a.createElement(en.a,{container:!0,className:t.iconContainer},r.a.createElement("div",{className:"".concat(t.imgDiv)},r.a.createElement("img",{src:yi.a,className:t.downloadBtn,onClick:function(){return function(e){var t=localStorage.getItem("srmToken");oa()({url:"".concat("/schoolReportImport","/").concat(e,"?get_type=attendance&get_report=sheet"),method:"GET",params:{},responseType:"blob",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log("response :>> ",e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","attendance.xlsx"),document.body.appendChild(a),a.click()})).catch((function(){}))}(e.id)}}),r.a.createElement("div",{className:t.Del_img,onClick:function(){return function(e){i(!0),p(e)}(e.id)}},r.a.createElement(Ic.a,{fontSize:"medium"}))))))})),v?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"")})),VE=Object(dt.a)((function(e){return{sectionContainer:{height:"100%",width:"100%",overflow:"auto",paddingBottom:"80px"},header:{display:"flex",justifyContent:"center",flexDirection:"column"},addNew:{color:e.palette.common.deluge,display:"flex",marginRight:"15px",marginTop:"15px",justifyContent:"flex-end","& .new":{float:"right",fontSize:"14px",padding:"5px 5px 0 5px"},"& img":{margin:"5px 5px 0 5px",height:"20px",cursor:"pointer"}},cursor:{cursor:"pointer"},titleText:{fontFamily:"Avenir Medium",fontSize:18,color:"#1C1C1E"}}}));var KE=Object(i.c)((function(e){var t=e.Report.postReportLoading,a=(e.auth.userInfo||{}).user_classes||{};return{loading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{postReport:gE,getReport:fE})((function(e){var t=VE(),a=Object(s.g)(),o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)({}),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!0),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=(e.selectedRole,e.loading),C=function(e){a.push("/attendance-report/edit/".concat(e.data.id))},N=function(e){x(!1),console.log("result :>> ",e),e&&(l([].concat(Object(Na.a)(i),Object(Na.a)(e.data.attendance.data))),g(e.data.attendance))},k=function(e){x(!1)},w=function(t){e.getReport("attendance",t,N,k)};return Object(n.useEffect)((function(){w(1)}),[]),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Tr,{open:O}):"",r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),p.last_page>y&&t&&!h){var a=y+1;w(a),x(!0),j(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.header},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},r.a.createElement(m.a,{className:"".concat(t.themeColor," ").concat(t.titleText)},"Attendance Report"))),r.a.createElement("div",{className:t.addNew},r.a.createElement("div",{className:t.cursor,onClick:function(){e.postReport(C)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))),r.a.createElement(GE,{data:i,loading:h,setAttendanceData:l,setInfo:g,setLoader:x,fetchAttendance:w})))})),qE=Object(dt.a)((function(e){var t,a;return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},errorColor:{color:"red",textAlign:"center",padding:"10px 0"},formStyle:{margin:"20px",backgroundColor:"white",justifyContent:"center",textAlign:"right",borderRadius:"5px",paddingTop:"20px"},formDiv:{height:"100vh",overflow:"auto"},margin:(a={marginTop:"30px"},Object(C.a)(a,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(a,"& .publishBtn",(t={borderRadius:"3px",width:"inherit",margin:0},Object(C.a)(t,"width",130),Object(C.a)(t,"height",40),Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"}),t)),Object(C.a)(a,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),a),sideMargins:{marginLeft:"20px",marginRight:"20px"},sideMarginsFromDate:{marginLeft:"20px"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",fontize:18,color:"#1C1C1E"},inputBorder:{height:"50px"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiFormLabel-root":{fontFamily:"Avenir Book",fontSize:14,color:"#AEAEB2"}},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},textArea:{width:"100%",border:"1px solid rgb(200,200,200"},radioBtn:{display:"flex",flexDirection:"row",fontFamily:"Avenir",fontSize:14},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},publishBtns:{display:"flex",justifyContent:"flex-end","& .MuiButton-root":{textTransform:"capitalize"}},renderOption:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"13px",paddingBottom:"8px"},optionContainer:{display:"flex"},dateContainer:{display:"flex",justifyContent:"space-between"},dateWidth:{width:"50%"},chips:{display:"flex",flexWrap:"wrap"}}}));var JE=Object(i.c)((function(e){var t=e.Attendence,a=t.getByMonth,n=void 0===a?[]:a,r=t.getByMonthLoading,o=e.Report.putAttendanceLoading,c=(e.auth.userInfo||{}).user_classes||{};return{data:n,monthLoading:r,loading:o,selectedRole:e.auth.selectedRole,school_id:c.school_id}}),{getByMonth:Jp,putAttendance:function(e,t,a,n){return{type:ba,subtypes:pE.PUT_ATTENDANCE,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/schoolReport","/").concat(e,"?get_type=attendance"),t)}(e,t)}}}})((function(e){var t=qE(),a=Object(s.g)(),o=Object(s.h)(),c=Object(s.i)().id,i=Object(n.useState)(""),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)([]),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)([]),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)([]),j=Object(S.a)(y,2),O=j[0],C=j[1],k=Object(n.useState)(!0),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(""),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(""),L=Object(S.a)(R,2),F=L[0],P=L[1],U=Object(n.useState)(!1),Y=Object(S.a)(U,2),H=Y[0],W=Y[1],G=localStorage.getItem("srmToken"),V=e.data,K=e.monthLoading,q=e.loading,J=e.school_id,Q=(new Date).getUTCFullYear(),X=Array(Q-(Q-3)).fill("").map((function(e,t){return Q-t}));Object(n.useEffect)((function(){e.getByMonth()}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l.fetchClasses(G);case 2:t=e.sent,A(!1),console.log("classesResponse",t),a={},t.data.data.forEach((function(e){a[e.id]=e.class_name})),C(Object(N.a)({},a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.pathname!=="/attendance-report/edit/".concat(c)&&o.pathname!=="/attendance-report/edit/".concat(c)||e()}),[]);var Z=["All"].concat(Object(Na.a)(Object.values(O)));Object(n.useEffect)((function(){!function(){var e=[];f.find((function(e){return"All"===e}))?e=Object(Na.a)(Object.keys(O)):f.forEach((function(t){e.push(parseInt(Object.keys(O).find((function(e){return O[e]===t}))))})),v(e)}()}),[f]);var $=function(){ua.open("",!0,"Attendance report created successfully"),a.push("/attendance-report")},ee=function(e){console.log("error",e),e&&ua.open("",!1,e.message)};return K||T?r.a.createElement(Tr,{open:!(!K&&!T)}):r.a.createElement("div",{className:t.formDiv},r.a.createElement("div",{className:t.headingDiv,style:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.goBack()}}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText),style:{fontSize:18}},"Create Assignment Report")),r.a.createElement("form",{className:t.formStyle},H?r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(t.errorColor)},H)):"",r.a.createElement(mr.a,{className:" ".concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"title",name:"title",className:t.inputBorder,value:d,onChange:function(e){u(e.target.value),W(!1)},required:!0,label:"Title"}))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,null,"Select Class"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:f,multiple:!0,onChange:function(e){b(e.target.value),W(!1)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){b(f.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:t.chip})})))}},Z.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,{id:"demo-simple-select-autowidth-label"},"Month"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:B,onChange:function(e){D(e.target.value)},style:{textAlign:"left"},MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null}},V.map((function(e){return r.a.createElement(M.a,{value:e.id},e.name)}))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,{id:"demo-simple-select-autowidth-label"},"Year"),r.a.createElement(Gr.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:F,onChange:function(e){P(e.target.value),W(!1)},style:{textAlign:"left"},MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null}},X.map((function(e){return r.a.createElement(M.a,{value:e},e)}))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:3,xs:12,className:t.publishBtns},q?r.a.createElement(kr.a,null):r.a.createElement(z.a,{style:{textTransform:"capitalize"},id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(t){t.preventDefault();var a={title:d,class_mapping:E,month:B,year:F,type:"attendance",school_id:J};e.putAttendance(c,a,$,ee)},disableElevation:!0},"Create")),r.a.createElement(en.a,{item:!0,sm:9,xs:12,className:t.textAlignLeft}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))})),QE=Object(Jt.a)((function(e){return{head:{backgroundColor:"#7B72AF",color:e.palette.common.white,textAlign:"center"},body:{fontSize:14,textAlign:"center"}}}))(Ed.a),XE=Object(Jt.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#FFFFFF"},"&:nth-of-type(even)":{backgroundColor:"#FFFFFF"}}}}))(jd.a),ZE=Object(dt.a)({table:{border:"1px solid #707070"},border:{borderLeft:"1px solid #FFFFFF"},columnBorder:{borderLeft:"1px solid #707070"},message:{fontFamily:"Avenir Book",fontSize:14}});function $E(e){var t=ZE(),a=e.report||[];return console.log("rows :>> ",a),r.a.createElement(vd.a,{className:t.table,component:Od.a},r.a.createElement(hd.a,{"aria-label":"customized table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(QE,null,"Subject"),r.a.createElement(QE,{align:"center",className:t.border},"Percentage of Attendance"))),r.a.createElement(xd.a,null,a.length?a.map((function(e,n){return r.a.createElement(XE,{key:e.name},r.a.createElement(QE,{component:"th",scope:"row",style:{padding:a.length===n+1?"16px 7px 16px":"16px 7px 0"}},e.subject_name),r.a.createElement(QE,{align:"center",className:t.columnBorder,style:{padding:a.length===n+1?"16px 7px 16px":"16px 7px 0"}},e.percentage_subject))})):e.loading?"":r.a.createElement(QE,{component:"th",scope:"row",colSpan:2,style:{padding:"16px 5px 16px 5px"}},r.a.createElement(m.a,{className:t.message},"No report available yet!")))))}var ev=Object(I.a)((function(e){return{card:{marginBottom:"20px",padding:"0 20px 20px",margin:"0 20px","& .MuiCardContent-root":{padding:"20px 0"},"& .MuiTableCell-root":{fontFamily:"Avenir Medium",fontSize:14,borderBottom:"none"},"& .MuiPaper-elevation1":{boxShadow:"none"}},sectionContainer:{flexWrap:"wrap",marginBottom:"60px",height:"100vh",overflow:"auto"},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},backImg:{cursor:"pointer"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",color:"#1C1C1E"},circularProgress:{textAlign:"center",marginTop:"8px"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#2C2C2E",paddingBottom:"12px",textAlign:"center"},downloadBtn:{cursor:"pointer"},rowDiv:{display:"flex",justifyContent:"space-between"},headText:{fontFamily:"Avenir Medium",fontSize:14,color:"#1C1C1E"},text:{width:"85%",marginBottom:"12px"},font:{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E"}}}));var tv=Object(i.c)((function(e){var t=e.Report,a=t.getReportById,n=t.getReportByIdLoading,r=t.downloadReportLoading,o=(e.auth.userInfo||{}).user_classes||{};return{reportLoading:r,data:a,loading:n,selectedRole:e.auth.selectedRole,school_id:o.school_id}}),{getReportById:bE,downloadReport:xE})((function(e){var t=ev(),a=Object(s.i)().id,o=Object(s.g)(),c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)({}),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)([]),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)({}),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(1),A=Object(S.a)(T,2),_=A[0],I=A[1],B=1==g.month?"January":2==g.month?"February":3==g.month?"March":4==g.month?"April":5==g.month?"May":6==g.month?"June":7==g.month?"July":8==g.month?"August":9==g.month?"September":10==g.month?"October":11==g.month?"November":12==g.month?"December":"",D=function(e){e&&(console.log("result :>> ",e),w(!1),O(e.data.report),f(e.data),E([].concat(Object(Na.a)(x),Object(Na.a)(e.data.report.data))))},R=function(t){w(!0),e.getReportById(a,"attendance",t,D)};return Object(n.useEffect)((function(){R(1)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),j.last_page>_&&t&&!k){var a=_+1;R(a),w(!0),I(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.headingDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){o.push({pathname:"/attendance-report"})}}),r.a.createElement(m.a,{style:{fontSize:18},className:"".concat(t.themeColor," ").concat(t.titleText)},"Attendance Report Details"),l?r.a.createElement("div",{className:t.downloadBtn},r.a.createElement(kr.a,{color:"primary",size:20})):r.a.createElement("img",{src:yi.a,className:t.downloadBtn,onClick:function(){var e=localStorage.getItem("srmToken");oa()({url:"".concat("/schoolReportImport","/").concat(a,"?get_type=attendance&get_report=sheet"),method:"GET",params:{},responseType:"blob",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){d(!1),console.log("response :>> ",e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","attendance.xlsx"),document.body.appendChild(a),a.click()})).catch((function(){d(!1)}))}})),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement("span",null,r.a.createElement(m.a,{className:t.title},g.title)))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"Class:"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},x.length?x[0].class:"")),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"For:"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},B," ",g.year))),r.a.createElement($E,{report:x,loading:k}),k?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"")))})),av=Object(I.a)((function(e){return{message:{textAlign:"center",fontSize:14,fontFamily:"Avenir Book",padding:"20px"},card:{margin:"20px 20px 0 20px"},Del_img:{cursor:"pointer",marginLeft:"20px"},downloadBtn:{width:"19px",height:"19px",transform:"translateY(4px)",cursor:"pointer",marginLeft:"20px"},infoBtn:{width:"25px",height:"23px",transform:"translateY(4px)",cursor:"pointer",marginLeft:"5px",marginTop:"-4px"},cardContent:{padding:"20px !important",overflow:"auto"},textAlignRight:{textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Book"},imgDiv:{display:"flex",justifyContent:"flex-end",transform:"translateY(5px)",color:"#AEAEB2"},circularProgress:{display:"flex",justifyContent:"center",margin:"8px"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#1C1C1E",paddingBottom:"12px",cursor:"pointer","&:hover":{textDecoration:"underline"}},iconContainer:{display:"flex",justifyContent:"flex-end"},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)},popoverMessage:{display:"flex",flexDirection:"column",padding:"12px 12px 0 12px"},popoverLabel:{fontFamily:"Avenir Medium",fontSize:14,color:"#000000"},popoverText:{fontFamily:"Avenir Book",fontSize:14,color:"#000000",marginBottom:"12px"}}}));var nv=Object(i.c)((function(e){var t=e.Report,a=t.deleteReportLoading,n=t.downloadReportLoading,r=(e.auth.userInfo||{}).user_classes||{};return{reportLoading:n,deleteLoading:a,selectedRole:e.auth.selectedRole,school_id:r.school_id}}),{deleteReport:hE,downloadReport:xE})((function(e){var t=av(),a=Object(n.useState)(!1),o=Object(S.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),d=Object(S.a)(l,2),u=d[0],p=d[1],g=Object(n.useState)({}),f=Object(S.a)(g,2),b=f[0],h=f[1],x=r.a.useState(null),E=Object(S.a)(x,2),v=E[0],y=E[1],j=Object(n.useState)(!1),O=Object(S.a)(j,2),C=O[0],N=O[1],k=Object(s.g)(),w=e.data,T=e.loading;e.reportLoading,Object(n.useEffect)((function(){C&&e.fetchPayment(1)}),[C]);var A=function(){ua.open("",!0,"Report deleted successfully"),e.setPaymentData([]),e.setInfo({}),e.setLoader(!0),N(Math.random()),i(!1)},_=function(e){console.log("error",e),e&&ua.open("",!1,e.message)},I=function(){y(null)},B=Boolean(v);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{open:c,handleClose:function(){i(!1)},onhandleDelete:function(){e.deleteReport(u,A,_)},loading:e.deleteLoading}),r.a.createElement(Rb.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:B,anchorEl:v,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:I,disableRestoreFocus:!0},r.a.createElement("div",{className:t.popoverMessage},r.a.createElement(m.a,{className:t.popoverLabel},"From Date:"),r.a.createElement(m.a,{className:t.popoverText},ea(b.from_date).format("DD MMMM YYYY")),r.a.createElement(m.a,{className:t.popoverLabel},"To Date:"),r.a.createElement(m.a,{className:t.popoverText},ea(b.to_date).format("DD MMMM YYYY")))),w.length||T?"":r.a.createElement(m.a,{className:t.message},"No payment report available yet!"),w.map((function(e){return r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:8},r.a.createElement("span",{onClick:function(){return k.push("/payment-report/details/".concat(e.id))}},e.title?r.a.createElement(m.a,{className:t.title},e.title):r.a.createElement(m.a,{className:t.title},"N/A"))),r.a.createElement(en.a,{item:!0,xs:4},r.a.createElement(m.a,{className:"".concat(t.textAlignRight)},ea(e.created_at).format("DD MMM, hh:mm A")))),r.a.createElement(en.a,{container:!0,className:t.iconContainer},r.a.createElement("div",{className:"".concat(t.imgDiv)},r.a.createElement("img",{src:Db.a,className:t.infoBtn,onMouseEnter:function(t){y(t.currentTarget),function(e){h(e)}(e)},onMouseLeave:I}),r.a.createElement("img",{src:yi.a,className:t.downloadBtn,onClick:function(){return function(e){var t=localStorage.getItem("srmToken");oa()({url:"".concat("/schoolReportImport","/").concat(e,"?get_type=payment&get_report=sheet"),method:"GET",params:{},responseType:"blob",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log("response :>> ",e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","payment.xlsx"),document.body.appendChild(a),a.click()})).catch((function(){}))}(e.id)}}),r.a.createElement("div",{className:t.Del_img,onClick:function(){return function(e){i(!0),p(e)}(e.id)}},r.a.createElement(Ic.a,{fontSize:"medium"}))))))})),T?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"")})),rv=Object(dt.a)((function(e){return{sectionContainer:{height:"100%",width:"100%",overflow:"auto",paddingBottom:"80px"},header:{display:"flex",justifyContent:"center",flexDirection:"column"},addNew:{color:e.palette.common.deluge,display:"flex",marginRight:"15px",marginTop:"15px",justifyContent:"flex-end","& .new":{float:"right",fontSize:"14px",padding:"5px 5px 0 5px"},"& img":{margin:"5px 5px 0 5px",height:"20px",cursor:"pointer"}},cursor:{cursor:"pointer"},titleText:{fontFamily:"Avenir Medium",fontSize:18,color:"#1C1C1E"}}}));var ov=Object(i.c)((function(e){var t=e.Report.postReportLoading,a=(e.auth.userInfo||{}).user_classes||{};return{loading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{postReport:gE,getReport:fE})((function(e){var t=rv(),a=Object(s.g)(),o=Object(n.useState)([]),c=Object(S.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)({}),u=Object(S.a)(d,2),p=u[0],g=u[1],f=Object(n.useState)(!0),b=Object(S.a)(f,2),h=b[0],x=b[1],E=Object(n.useState)(1),v=Object(S.a)(E,2),y=v[0],j=v[1],O=(e.selectedRole,e.loading),C=function(e){a.push("/payment-report/edit/".concat(e.data.id))},N=function(e){x(!1),console.log("result :>> ",e),e&&(l([].concat(Object(Na.a)(i),Object(Na.a)(e.data.payment.data))),g(e.data.payment))},k=function(e){x(!1)},w=function(t){e.getReport("payment",t,N,k)};return Object(n.useEffect)((function(){w(1)}),[]),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Tr,{open:O}):r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),p.last_page>y&&t&&!h){var a=y+1;w(a),x(!0),j(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.header},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},r.a.createElement(m.a,{className:"".concat(t.themeColor," ").concat(t.titleText)},"Payment Report"))),r.a.createElement("div",{className:t.addNew},r.a.createElement("div",{className:t.cursor,onClick:function(){e.postReport(C)}},r.a.createElement("img",{src:Ac.a,alt:"add"}),r.a.createElement(m.a,{className:"new"},"New"))),r.a.createElement(nv,{data:i,loading:h,setPaymentData:l,setInfo:g,setLoader:x,fetchPayment:w})))})),cv=Object(dt.a)((function(e){var t,a;return{errorColor:{color:"red",textAlign:"center",padding:"10px 0"},formStyle:{margin:"20px",backgroundColor:"white",justifyContent:"center",textAlign:"right",borderRadius:"5px",paddingTop:"20px"},formDiv:{height:"100vh",overflow:"auto"},margin:(a={marginTop:"30px"},Object(C.a)(a,e.breakpoints.down("xs"),{marginTop:"10px"}),Object(C.a)(a,"& .publishBtn",(t={borderRadius:"3px",width:"inherit",margin:0},Object(C.a)(t,"width",130),Object(C.a)(t,"height",40),Object(C.a)(t,e.breakpoints.down("xs"),{marginTop:"10px",marginRight:0,width:"100%"}),t)),Object(C.a)(a,"& .publishLaterBtn",{backgroundColor:"".concat(e.palette.common.white),border:"1px solid ".concat(e.palette.common.adornment),marginRight:"5px"}),a),sideMargins:{marginLeft:"20px",marginRight:"20px"},sideMarginsFromDate:{marginLeft:"20px"},backImg:{float:"left",cursor:"pointer",position:"absolute",left:"20px"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",fontize:18,color:"#1C1C1E"},inputBorder:{height:"50px"},fieldStyle:{width:"100%",margin:"auto",fontFamily:"Avenir Book",fontSize:" 1rem","& .MuiInput-underline:before":{borderBottom:"2px solid #eaeaea"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #7B72AF",transitionProperty:"border-bottom-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"& .MuiFormLabel-root":{fontFamily:"Avenir Book",fontSize:14,color:"#AEAEB2"}},datePicker:Object(C.a)({width:"100%"},e.breakpoints.down("xs"),{width:"100%"}),textAlignLeft:{textAlign:"left",color:"rgba(0, 0, 0, 0.54)"},textArea:{width:"100%",border:"1px solid rgb(200,200,200"},radioBtn:{display:"flex",flexDirection:"row",fontFamily:"Avenir",fontSize:14},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},publishBtns:{display:"flex",justifyContent:"flex-end","& .MuiButton-root":{textTransform:"capitalize"}},renderOption:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"13px",paddingBottom:"8px"},optionContainer:{width:"100%"},dateContainer:{display:"flex",justifyContent:"space-between"},dateWidth:{width:"50%"},chips:{display:"flex",flexWrap:"wrap"},className:{fontWeight:"300",fontSize:"15px",color:"#8E8E93"}}}));var iv=Object(i.c)((function(e){var t=e.Report.putPaymentLoading,a=(e.auth.userInfo||{}).user_classes||{};return{loading:t,selectedRole:e.auth.selectedRole,school_id:a.school_id}}),{putPayment:function(e,t,a,n){return{type:ba,subtypes:pE.PUT_PAYMENT,onSuccessCallback:a,onFailCallback:n,promise:function(){return function(e,t){return ga.put("".concat("/schoolReport","/").concat(e,"?get_type=payment"),t)}(e,t)}}}})((function(e){var t=cv(),a=Object(s.g)(),o=Object(s.h)(),c=Object(s.i)().id,i=Object(n.useState)("school"),l=Object(S.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(""),g=Object(S.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)([]),x=Object(S.a)(h,2),E=x[0],v=x[1],y=Object(n.useState)([]),j=Object(S.a)(y,2),O=j[0],C=j[1],k=Object(n.useState)([]),w=Object(S.a)(k,2),T=w[0],A=w[1],_=Object(n.useState)(!0),I=Object(S.a)(_,2),B=I[0],D=I[1],R=Object(n.useState)(null),L=Object(S.a)(R,2),F=L[0],P=L[1],U=Object(n.useState)(null),Y=Object(S.a)(U,2),H=Y[0],G=Y[1],V=Object(n.useState)(!1),K=Object(S.a)(V,2),q=K[0],J=K[1],Q=Object(n.useState)([]),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)([]),te=Object(S.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),oe=Object(S.a)(re,2),ce=oe[0],ie=oe[1],le=Object(n.useState)(!1),se=Object(S.a)(le,2),de=se[0],me=se[1],ue=q&&0===ce.length,pe=e.school_id,ge=e.loading,fe=localStorage.getItem("srmToken");Object(n.useEffect)((function(){var e=function(){var e=Object(Ca.a)(Sa.a.mark((function e(){var t,a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l.fetchClasses(fe);case 2:t=e.sent,D(!1),console.log("classesResponse",t),a={},t.data.data.forEach((function(e){a[e.id]=e.class_name})),A(Object(N.a)({},a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.pathname!=="/payment-report/edit/".concat(c)&&o.pathname!=="/payment-report/edit/".concat(c)||e()}),[]);var be=["All"].concat(Object(Na.a)(Object.values(T)));Object(n.useEffect)((function(){!function(){var e=[];E.find((function(e){return"All"===e}))?e=Object(Na.a)(Object.keys(T)):E.forEach((function(t){e.push(parseInt(Object.keys(T).find((function(e){return T[e]===t}))))})),C(e)}()}),[E]);var he=function(){var e=Object(Ca.a)(Sa.a.mark((function e(t){var a;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.value||t.target.value.length%3!==0){e.next=11;break}return e.prev=1,e.next=4,sf.searchUser(t.target.value,fe);case 4:a=e.sent,ie(a.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=[];Z.length&&Z.map((function(t){e.push(t.id)})),ne(e)}),[Z]);var xe=function(){ua.open("",!0,"Payment report created successfully"),a.push("/payment-report")},Ee=function(e){console.log("error",e),e&&ua.open("",!1,e.message)};return B?r.a.createElement(Tr,{open:B}):r.a.createElement("div",{className:t.formDiv},r.a.createElement("div",{className:t.headingDiv,style:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){a.push("/payment-report")}}),r.a.createElement(m.a,{variant:"h5",className:"".concat(t.themeColor," ").concat(t.titleText),style:{fontSize:18}},"Create Payment Report")),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{style:{width:"50%"},className:"".concat(t.fieldStyle)},r.a.createElement(Gr.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:function(e){u(e.target.value),me(!1)}},r.a.createElement(M.a,{value:"school"},"School Level"),r.a.createElement(M.a,{value:"class"},"Class Level"),r.a.createElement(M.a,{value:"student"},"Student Level")))),r.a.createElement("form",{className:t.formStyle},de?r.a.createElement("div",null,r.a.createElement(m.a,{className:"".concat(t.errorColor)},de)):"",r.a.createElement(mr.a,{className:" ".concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Xo.a,{id:"title",name:"title",className:t.inputBorder,value:f,onChange:function(e){b(e.target.value),me(!1)},required:!0,label:"Title"}))),"student"===d?r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(zc.a,{multiple:!0,open:q,onOpen:function(){J(!0)},onClose:function(){J(!1)},onBlur:function(){return ie([])},value:Z,id:"tags-standard",options:ce,loading:ue,onChange:function(e,t){console.log("value :>> ",t),$(t),me(!1)},onInputChange:he,getOptionLabel:function(e){return e.username},renderInput:function(e){return r.a.createElement(Xo.a,Object.assign({},e,{variant:"standard",label:"Search users"}))},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Pc.a,Object.assign({variant:"outlined",label:e.fullName,size:"small"},t({index:a})))}))},renderOption:function(e){return console.log("option :>> ",e),r.a.createElement("div",{className:t.optionContainer},r.a.createElement(m.a,{className:t.optionTitle},"".concat(e.firstname," ").concat(e.lastname," - ").concat(e.roles[0].name)),e.user_classes&&e.user_classes.classes_data&&r.a.createElement(m.a,null,r.a.createElement("span",{className:t.className},"Class: ",e.user_classes.classes_data.class_name)),r.a.createElement(m.a,null,r.a.createElement("span",{className:t.className}," ","Username: ",e.username)))}}))):"","class"===d?r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(dr.a,{className:t.fieldStyle},r.a.createElement(Wr.a,null,"Select Class"),r.a.createElement(Gr.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:E,multiple:!0,onChange:function(e){v(e.target.value),me(!1)},input:r.a.createElement(Qt.a,{id:"select-multiple-chip"}),MenuProps:{PaperProps:{style:{maxHeight:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.map((function(e){return r.a.createElement(Pc.a,{onDelete:function(){return function(e){v(E.filter((function(t){return t!==e})))}(e)},onMouseDown:function(e){e.stopPropagation()},key:e,label:e,className:t.chip})})))}},be.map((function(e){return r.a.createElement(M.a,{key:e,value:e},e)}))))):"",r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(mr.a,{style:{width:"50%"},className:"".concat(t.margin," ").concat(t.sideMarginsFromDate)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"fromDate",label:"From Date",variant:"dialog",maxDate:new Date,format:"MM/dd/yyyy",value:F,onChange:function(e){P(e),me(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker}))))),r.a.createElement(mr.a,{style:{width:"50%"},className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(Ti.a,{utils:wi.a},r.a.createElement(en.a,{container:!0,className:t.fieldStyle},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement($i.a,{id:"endDate",label:"To Date",variant:"dialog",maxDate:new Date,format:"MM/dd/yyyy",value:H,onChange:function(e){G(e),me(!1)},InputProps:{endAdornment:r.a.createElement(sr.a,{position:"end"},r.a.createElement(W.a,null,r.a.createElement(Ii.a,null)))},className:t.datePicker})))))),r.a.createElement(mr.a,{className:"".concat(t.margin," ").concat(t.sideMargins)},r.a.createElement(en.a,{container:!0,className:t.fieldStyle,direction:"row-reverse"},r.a.createElement(en.a,{item:!0,sm:3,xs:12,className:t.publishBtns},ge?r.a.createElement(kr.a,null):r.a.createElement(z.a,{style:{textTransform:"capitalize"},id:"publishBtn",variant:"contained",className:"".concat(t.fieldStyle," ","publishBtn"),color:"primary",type:"submit",onClick:function(t){t.preventDefault();var a={title:f,from_date:ea(F).format("YYYY-MM-DD"),to_date:ea(H).format("YYYY-MM-DD"),type:"payment",payment_level:"school",school_id:pe},n={title:f,from_date:ea(F).format("YYYY-MM-DD"),to_date:ea(H).format("YYYY-MM-DD"),type:"payment",payment_level:"class",class_mapping:O,school_id:pe},r={title:f,from_date:ea(F).format("YYYY-MM-DD"),to_date:ea(H).format("YYYY-MM-DD"),type:"payment",payment_level:"student",inviduals_user:ae,school_id:pe};if(function(){if("school"===d)if(f)if(F)if(H){if(!(H.getTime()<F.getTime()))return!0;me("End date should be greater then from date")}else me("A Mandatory field isn't filled!");else me("A Mandatory field isn't filled!");else me("A Mandatory field isn't filled!");else if("class"===d)if(f)if(F)if(H)if(H.getTime()<F.getTime())me("End date should be greater then from date");else{if(E.length)return!0;me("A Mandatory field isn't filled!")}else me("A Mandatory field isn't filled!");else me("A Mandatory field isn't filled!");else me("A Mandatory field isn't filled!");else if("student"===d)if(f)if(F)if(H)if(H.getTime()<F.getTime())me("End date should be greater then from date");else{if(Z.length)return!0;me("A Mandatory field isn't filled!")}else me("A Mandatory field isn't filled!");else me("A Mandatory field isn't filled!");else me("A Mandatory field isn't filled!")}()){var o="school"===d?a:"class"===d?n:r;e.putPayment(c,o,xe,Ee)}},disableElevation:!0},"Create")),r.a.createElement(en.a,{item:!0,sm:9,xs:12,className:t.textAlignLeft}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))})),lv=Object(Jt.a)((function(e){return{head:{backgroundColor:"#7B72AF",color:e.palette.common.white,textAlign:"center"},body:{fontSize:14,textAlign:"center"}}}))(Ed.a),sv=Object(Jt.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#FFFFFF"},"&:nth-of-type(even)":{backgroundColor:"#FFFFFF"}}}}))(jd.a),dv=Object(dt.a)({table:{border:"1px solid #707070"},border:{borderLeft:"1px solid #FFFFFF",borderRight:"1px solid #FFFFFF"},columnBorder:{borderLeft:"1px solid #707070",borderRight:"1px solid #707070"},message:{fontFamily:"Avenir Book",fontSize:14}});function mv(e){var t=dv(),a=e.report||[];return r.a.createElement(vd.a,{className:t.table,component:Od.a},r.a.createElement(hd.a,{"aria-label":"customized table"},r.a.createElement(yd.a,null,r.a.createElement(jd.a,null,r.a.createElement(lv,null,"Date"),r.a.createElement(lv,{align:"center",className:t.border},"Student Name"),r.a.createElement(lv,{align:"center"},"Parent Name"),r.a.createElement(lv,{className:t.border},"Class"),r.a.createElement(lv,{align:"center",className:t.border},"Payment"),r.a.createElement(lv,{align:"center"},"Status"))),r.a.createElement(xd.a,null,a.length?a.map((function(e,n){return r.a.createElement(sv,{key:e.name},r.a.createElement(lv,{component:"th",scope:"row",style:{padding:a.length===n+1?"16px 5px 16px 5px":"16px 5px 0 5px"}},e.date),r.a.createElement(lv,{align:"center",className:t.columnBorder,style:{padding:a.length===n+1?"16px 5px 16px 5px":"16px 5px 0 5px"}},e.student_name),r.a.createElement(lv,{align:"center",style:{padding:a.length===n+1?"16px 5px 16px 5px":"16px 5px 0 5px"}},e.parent_name),r.a.createElement(lv,{component:"th",scope:"row",className:t.columnBorder,style:{padding:a.length===n+1?"16px 5px 16px 5px":"16px 5px 0 5px"}},e.student_class),r.a.createElement(lv,{align:"center",className:t.columnBorder,style:{padding:a.length===n+1?"16px 5px 16px 5px":"16px 5px 0 5px"}},"\u20b9 ",e.payment/100),r.a.createElement(lv,{align:"center",style:{padding:a.length===n+1?"16px 5px 16px 5px":"16px 5px 0 5px"}},e.status))})):e.loading?"":r.a.createElement(lv,{component:"th",scope:"row",colSpan:6,style:{padding:"16px 5px 16px 5px"}},r.a.createElement(m.a,{className:t.message},"No report available yet!")))))}var uv=Object(I.a)((function(e){return{card:{marginBottom:"20px",padding:"0 20px 20px",margin:"0 20px","& .MuiCardContent-root":{padding:"20px 0"},"& .MuiTableCell-root":{fontFamily:"Avenir Medium",fontSize:14,borderBottom:"none"},"& .MuiPaper-elevation1":{boxShadow:"none"}},sectionContainer:{flexWrap:"wrap",marginBottom:"60px",height:"100vh",overflow:"auto"},headingDiv:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},backImg:{cursor:"pointer"},themeColor:{color:"".concat(e.palette.common.deluge),padding:0,margin:0,fontFamily:"Avenir",fontSize:14},titleText:{fontFamily:"Avenir Medium",color:"#1C1C1E"},textAlignRight:{fontStyle:"normal",textAlign:"right",color:"#AEAEB2",fontSize:14,fontFamily:"Avenir Roman"},imgDiv:{display:"flex",justifyContent:"flex-end",width:"100%"},labelText:{fontStyle:"normal",color:"#1C1C1E",fontSize:14,fontFamily:"Avenir Book",lineHeight:"19px"},span:{textTransform:"uppercase"},circularProgress:{textAlign:"center",marginTop:"8px"},title:{fontFamily:"Avenir Heavy",fontSize:14,color:"#2C2C2E",paddingBottom:"12px",textAlign:"center"},downloadBtn:{cursor:"pointer"},rowDiv:{display:"flex",justifyContent:"space-between"},headText:{fontFamily:"Avenir Medium",fontSize:14,color:"#1C1C1E"},text:{width:"85%",marginBottom:"12px"},font:{fontFamily:"Avenir Book",fontSize:14,color:"#1C1C1E"}}}));var pv=Object(i.c)((function(e){var t=e.Report,a=t.getReportById,n=t.getReportByIdLoading,r=t.downloadReportLoading,o=(e.auth.userInfo||{}).user_classes||{};return{reportLoading:r,data:a,loading:n,selectedRole:e.auth.selectedRole,school_id:o.school_id}}),{getReportById:bE,downloadReport:xE})((function(e){var t=uv(),a=Object(s.i)().id,o=Object(s.g)(),c=Object(n.useState)(!1),i=Object(S.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)({}),p=Object(S.a)(u,2),g=p[0],f=p[1],b=Object(n.useState)([]),h=Object(S.a)(b,2),x=h[0],E=h[1],v=Object(n.useState)({}),y=Object(S.a)(v,2),j=y[0],O=y[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],w=N[1],T=Object(n.useState)(1),A=Object(S.a)(T,2),_=A[0],I=A[1];console.log("report :>> ",x);var B=function(e){e&&(console.log("result :>> ",e),w(!1),O(e.data.report),f(e.data),E([].concat(Object(Na.a)(x),Object(Na.a)(e.data.report.data))))},D=function(t){w(!0),e.getReportById(a,"payment",t,B)};return Object(n.useEffect)((function(){D(1)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onScroll:function(e){var t=e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20;if(console.log("bottom :>> ",t),j.last_page>_&&t&&!k){var a=_+1;D(a),w(!0),I(a)}},className:t.sectionContainer},r.a.createElement("div",{className:t.headingDiv},r.a.createElement("img",{src:Yc.a,alt:"Back",className:t.backImg,onClick:function(){o.push({pathname:"/payment-report"})}}),r.a.createElement(m.a,{style:{fontSize:18},className:"".concat(t.themeColor," ").concat(t.titleText)},"Payment Report Details"),l?r.a.createElement("div",{className:t.downloadBtn},r.a.createElement(kr.a,{color:"primary",size:20})):r.a.createElement("img",{src:yi.a,className:t.downloadBtn,onClick:function(){var e=localStorage.getItem("srmToken");oa()({url:"".concat("/schoolReportImport","/").concat(a,"?get_type=payment&get_report=sheet"),method:"GET",params:{},responseType:"blob",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){d(!1),console.log("response :>> ",e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","payment.xlsx"),document.body.appendChild(a),a.click()})).catch((function(){d(!1)}))}})),r.a.createElement(it.a,{className:t.card},r.a.createElement(lt.a,{className:t.cardContent},r.a.createElement(en.a,{container:!0},r.a.createElement(en.a,{item:!0,xs:12},r.a.createElement("span",null,r.a.createElement(m.a,{className:t.title},g.title)))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"From Date:"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},ea(g.from_date).format("DD MMMM YYYY"))),r.a.createElement("div",{className:t.rowDiv},r.a.createElement(m.a,{className:t.headText},"To Date:"),r.a.createElement("div",{className:"".concat(t.text," ").concat(t.font)},ea(g.to_date).format("DD MMMM YYYY")))),r.a.createElement(mv,{report:x,loading:k}),k?r.a.createElement("div",{className:t.circularProgress},r.a.createElement(kr.a,{color:"primary",size:30})):"")))}));var gv=Object(s.j)(Object(i.c)((function(e){return{isAuthenticated:null!==e.auth.token,selectedRole:e.auth.selectedRole}}),(function(e){return{onAutoSignup:function(t){return e(function(e){return{type:"AUTH_CHECK_STATE",isAuthenticated:e}}(t))}}}))((function(e){var t=e.onAutoSignup;return Object(n.useEffect)((function(){t(e.isAuthenticated)}),[t,e.isAuthenticated]),e.isAuthenticated&&Wm().then((function(e){console.log(e)})).catch((function(e){console.log(e)})),r.a.createElement(d.a,{theme:O},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:Lr}),r.a.createElement(s.b,{path:"/login",exact:!0,component:Lr}),r.a.createElement(s.b,{path:"/register",exact:!0,component:Kr}),r.a.createElement(s.b,{path:"/changepwd",exact:!0,component:Qr}),r.a.createElement(s.b,{path:"/otp",exact:!0,component:Zr}),r.a.createElement(s.b,{path:"/changepwdotp",component:no}),r.a.createElement(s.b,{path:"/roleselection",component:Nt}),r.a.createElement(s.b,{component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(lr,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:cn,exact:!0,component:Ec}),r.a.createElement(s.b,{path:ln,exact:!0,component:Wi}),r.a.createElement(s.b,{path:"".concat(sn,"/:id"),exact:!0,component:Wi}),r.a.createElement(s.b,{path:"".concat(ln,"/:id"),exact:!0,component:Um}),r.a.createElement(s.b,{path:"".concat(mn,"/:id"),exact:!0,component:Jl}),r.a.createElement(s.b,{path:dn,exact:!0,component:function(){return r.a.createElement(m.a,null,"announcement")}}),r.a.createElement(s.b,{path:un,exact:!0,component:Gl}),r.a.createElement(s.b,{path:"".concat(un).concat(nn),exact:!0,component:Bx}),r.a.createElement(s.b,{path:"".concat(un).concat(rn),exact:!0,component:Rx}),r.a.createElement(s.b,{path:"".concat(un,"/:id"),exact:!0,component:Yx}),r.a.createElement(s.b,{path:"".concat(gn,"/:id"),exact:!0,component:Gl}),r.a.createElement(s.b,{path:Un,exact:!0,component:jx}),r.a.createElement(s.b,{path:"".concat(Un).concat(pn,"/:id"),exact:!0,component:Nx}),r.a.createElement(s.b,{path:fn,exact:!0,component:Fg}),r.a.createElement(s.b,{path:bn,exact:!0,component:Pf}),r.a.createElement(s.b,{path:hn,exact:!0,component:function(){return r.a.createElement(m.a,null,"Events Home")}}),r.a.createElement(s.b,{path:mn,exact:!0,component:il}),r.a.createElement(s.b,{path:"".concat(xn,"/:id"),exact:!0,component:il}),r.a.createElement(s.b,{path:En,exact:!0,component:rf}),r.a.createElement(s.b,{path:"".concat(vn,"/:id"),exact:!0,component:rf}),r.a.createElement(s.b,{path:yn,exact:!0,component:Al}),r.a.createElement(s.b,{path:jn,exact:!0,component:Ws}),r.a.createElement(s.b,{path:On,exact:!0,component:Id}),r.a.createElement(s.b,{path:Sn,exact:!0,component:ed}),r.a.createElement(s.b,{path:"/create-payment",exact:!0,component:Vx}),r.a.createElement(s.b,{path:"/assignment-report",exact:!0,component:jE}),r.a.createElement(s.b,{path:"/assignment-report/edit/:id",exact:!0,component:SE}),r.a.createElement(s.b,{path:"/assignment-report/details/:id",exact:!0,component:AE}),r.a.createElement(s.b,{path:"/news-report",exact:!0,component:DE}),r.a.createElement(s.b,{path:"/news-report/edit/:id",exact:!0,component:FE}),r.a.createElement(s.b,{path:"/news-report/details/:id",exact:!0,component:HE}),r.a.createElement(s.b,{path:"/attendance-report",exact:!0,component:KE}),r.a.createElement(s.b,{path:"/attendance-report/edit/:id",exact:!0,component:JE}),r.a.createElement(s.b,{path:"/attendance-report/details/:id",exact:!0,component:tv}),r.a.createElement(s.b,{path:"/payment-report",exact:!0,component:ov}),r.a.createElement(s.b,{path:"/payment-report/edit/:id",exact:!0,component:iv}),r.a.createElement(s.b,{path:"/payment-report/details/:id",exact:!0,component:pv}),r.a.createElement(s.b,{path:"/view-payment/tab/:selectedTab",exact:!0,component:ud}),r.a.createElement(s.b,{path:"/create-payment/payment-details/:id",exact:!0,component:oE}),r.a.createElement(s.b,{path:"/create-payment/payment/:id",exact:!0,component:iE}),r.a.createElement(s.b,{path:"/create-payment/edit/:id",exact:!0,component:Qx}),r.a.createElement(s.b,{path:"".concat(Cn,"/tab/:selectedTab"),exact:!0,component:ud}),r.a.createElement(s.b,{path:"".concat(Cn,"/tab/:selectedTab/:id"),exact:!0,component:Td}),r.a.createElement(s.b,{path:on,exact:!0,component:cb}),r.a.createElement(s.b,{path:Nn,exact:!0,component:yp}),r.a.createElement(s.b,{path:"/student-leaves",exact:!0,component:yp}),r.a.createElement(s.b,{path:kn,exact:!0,component:Bp}),r.a.createElement(s.b,{path:wn,exact:!0,component:pu}),r.a.createElement(s.b,{path:"".concat(Tn,"/:id"),exact:!0,component:hu}),r.a.createElement(s.b,{path:"".concat(An,"/:id"),exact:!0,component:hu}),r.a.createElement(s.b,{path:_n,exact:!0,component:Pm}),r.a.createElement(s.b,{path:"/students-profile",exact:!0,component:Pm}),r.a.createElement(s.b,{path:In,exact:!0,component:_u}),r.a.createElement(s.b,{path:Bn,exact:!0,component:Ru}),r.a.createElement(s.b,{path:"".concat(Bn,"/:id"),exact:!0,component:Ru}),r.a.createElement(s.b,{path:"".concat(In,"/:id"),exact:!0,component:Ku}),r.a.createElement(s.b,{path:Dn,exact:!0,component:cf}),r.a.createElement(s.b,{path:Rn,exact:!0,component:lf}),r.a.createElement(s.b,{path:Ln,exact:!0,component:Rf}),r.a.createElement(s.b,{path:Fn,exact:!0,component:Ff}),r.a.createElement(s.b,{path:"".concat(Dn,"/:id"),exact:!0,component:cf}),r.a.createElement(s.b,{path:Mn,exact:!0,component:gb}),r.a.createElement(s.b,{path:Pn,exact:!0,component:wb}),r.a.createElement(s.b,{path:"/student-profile/:id",exact:!0,component:sE}),r.a.createElement(s.b,{path:"/student-leave/:id",exact:!0,component:mE}),r.a.createElement(s.b,{path:"/diary-entry",exact:!0,component:Jb}),r.a.createElement(s.b,{path:"/diary/:id/tab/:selectedTab",exact:!0,component:Hb}),r.a.createElement(s.b,{path:"/diary/tab/:selectedTab/diary-details/:id",exact:!0,component:hx}),r.a.createElement(s.b,{path:"/diary/:student_id/edit/:id",exact:!0,component:fx}),r.a.createElement(s.b,{path:"/holiday-calender",exact:!0,component:sh}),r.a.createElement(s.b,{path:"/miscellaneous",exact:!0,component:Oh}),r.a.createElement(s.b,{path:"/miscellaneous/:id",exact:!0,component:ax}),r.a.createElement(s.b,{path:"/miscellaneous/:id/edit",exact:!0,component:ex}),r.a.createElement(s.b,{path:"/multiple-student",exact:!0,component:kh}),r.a.createElement(s.b,{path:"/multiple-student/:student_id/tab/:selectedTab/details/:id",exact:!0,component:mx}),r.a.createElement(s.b,{path:"/multiple-student/edit/:id",exact:!0,component:rx}),r.a.createElement(s.b,{path:"/diary/diary-details/:id",exact:!0,component:hx}),r.a.createElement(s.b,{path:"/dishes",exact:!0,component:Ph}),r.a.createElement(s.b,{path:"/menu",exact:!0,component:Qh}),r.a.createElement(s.b,{path:"/menu/:id",exact:!0,component:Zh}),r.a.createElement(s.b,{path:"/lunch",exact:!0,component:Qh}),r.a.createElement(s.b,{path:"/lunch/:id",exact:!0,component:Zh}),r.a.createElement(s.b,{path:"/library",exact:!0,component:th}),"teacher"===e.selectedRole||"admin"===e.selectedRole?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{path:"".concat(zn,"/tab/:selectedTab"),exact:!0,component:Hb}),r.a.createElement(s.b,{path:"/individual-diary",exact:!0,component:Jb}),r.a.createElement(s.b,{path:"/diary/:id/tab/:selectedTab",exact:!0,component:Hb}),r.a.createElement(s.b,{path:"/student-profile",exact:!0,component:sE}),r.a.createElement(s.b,{path:"/student-leave",exact:!0,component:mE}),r.a.createElement(s.b,{path:"/diary/:student_id/tab/:selectedTab/diary-details/:id",exact:!0,component:hx}),r.a.createElement(s.b,{path:"/diary/:student_id/edit/:id",exact:!0,component:fx}),r.a.createElement(s.b,{path:"/library/:studentId",exact:!0,component:th}),r.a.createElement(s.b,{path:"/library/:studentId/edit/:id",exact:!0,component:oh})):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{path:"/individual-diary",exact:!0,component:Jb}),"parent"===e.selectedRole?r.a.createElement(s.b,{path:"/diary/tab/:selectedTab",exact:!0,component:Hb}):r.a.createElement(s.b,{path:"/diary",exact:!0,component:Kb}),r.a.createElement(s.b,{path:"/diary/tab/:selectedTab/diary-details/:id",exact:!0,component:hx}),r.a.createElement(s.b,{path:"/diary/edit/:id",exact:!0,component:fx})))))}})))}))),fv=a(569),bv=a(132),hv=function(e,t){return Object(N.a)(Object(N.a)({},e),t)},xv={token:null,userInfo:{userId:null,userPhoneNo:null,userName:null,userPic:null,roles:null},selectedRole:null,error:null,loading:!1,redirectUrl:null,changeRole:!1,schoolName:null,schoolLogo:null},Ev=function(e){return hv(e,{error:null,loading:!0})},vv=function(e,t){return hv(e,{token:t.authData.token,userInfo:t.authData.userInfo,redirectUrl:t.authData.redirectUrl,error:null,loading:!1,selectedRole:t.authData.selectedRole})},yv=function(e,t){return hv(e,{error:t.error,loading:!1})},jv=function(e){return hv(e,{token:null,userInfo:null,selectedRole:null,redirectUrl:null})},Ov=function(e,t){return hv(e,{selectedRole:t.selectedRole,changeRole:!1})},Sv=function(e){return hv(e,{changeRole:!0})},Cv=function(e,t){var a=Object(N.a)({},e.userInfo);return a.thumbnail=t.thumbnail,localStorage.setItem("srmUserInfo",JSON.stringify(a)),hv(e,{userInfo:a})},Nv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Ev(e);case"AUTH_SUCCESS":return vv(e,t);case"AUTH_FAIL":return yv(e,t);case"AUTH_LOGOUT":return jv(e);case"AUTH_CHANGE_PROFILE":return Cv(e,t);case"AUTH_ROLE_SELECTION":return Ov(e,t);case"AUTH_INITIATE_ROLE_SELECTION":return Sv(e);default:return e}},kv={attendence:[],attendenceLoading:{},classes:[],classesLoading:!1,students:[],studentsLoading:!1,subjects:[],subjectsLoading:!1,postAttendanceLoading:!1,singleClassLoading:!1,importLoading:!1,exportLoading:!1,weekly_timetable_subjects:[],weeklyTimeTableSubjectsLoading:!1,add_subjects_or_time:[],addSubjectsOrTimeLoading:!1,get_week_filter_using_all:{},getWeekFilterUsingAllLoading:!1,publishWeeklyTimeTableLoading:!1,add_dish_in_dishes:[],addDishInDishesLoading:!1,deleteRowWeeklyTimeTableLoading:!1,deleteDishInDishesLoading:!1,show_dish_list_in_dishes:[],showDishListInDishesLoading:!1,update_dish_in_dishes:[],updateDishInDishesLoading:!1,lunchMenuSearch:[],lunchMenuSearchLoading:!1,lunchMenuGetByDish:[],lunchMenuGetByDishLoading:!1,lunchMenuGetByWeek:[],lunchMenuGetByWeekLoading:!1,lunchMenuPublishNow:[],lunchMenuPublishNowLoading:!1,getLunchMenuId:[],getLunchMenuIdLoading:!1,lunchMenuAll:[],lunchMenuAllLoading:!1,menuDishDetails:[],menuDishDetailsLoading:!1,deleteMenuLoading:!1,removeLunchImageLoading:!1,holidayAll:[],holidayAllLoading:!1,getByMonth:[],getByMonthLoading:!1,holidayByMonth:[],holidayByMonthLoading:!1,miscellaneous:[],miscellaneousLoading:!1,updateMiscellaneous:[],updateMiscellaneousLoading:!1,getMiscellaneous:[],getMiscellaneousLoading:!1,getAllMiscellaneous:[],getAllMiscellaneousLoading:!1,postDiaryMultiple:[],postDiaryMultipleLoading:!1,putDiaryMultiple:[],putDiaryMultipleLoading:!1,schoolGrade:[],schoolGradeLoading:!1,getDiaryMultiple:[],getDiaryMultipleLoading:!1,diarySeenUnseen:[],diarySeenUnseenLoading:!1,diaryDeleteLoading:!1,individualDiaryPost:[],individualDiaryPostLoading:!1,individualDiaryPut:[],individualDiaryPutLoading:!1,byTeacherDiary:[],byTeacherDiaryLoading:!1,forTeacherDiary:[],forTeacherDiaryLoading:!1,getDetailsById:[],getDetailsByIdLoading:!1,classStudentList:[],classStudentListLoading:!1,individualDiaryPutForParent:[],individualDiaryPutForParentLoading:!1,getLibraryInfo:[],getLibraryInfoLoading:!1,postLibrary:[],postLibraryLoading:!1,putLibrary:[],putLibraryLoading:!1,studentSideData:[],studentSideDataInfo:null,studentSideDataLoading:!1,hasMore:!0,putReturnLibrary:[],putReturnLibraryaLoading:!1,searchBook:[],searchBookLoading:!1,putAcknowledgement:[],putAcknowledgementLoading:!1,diaryProfile:[],diaryProfileLoading:!1};function wv(e,t){var a={};return e.map((function(e){e.week_timetable_id===t&&(a=e)})),a}function Tv(e,t,a){var n=[],r="published",o=e.Monday,c=void 0===o?[]:o,i=e.Tuesday,l=void 0===i?[]:i,s=e.Wednesday,d=void 0===s?[]:s,m=e.Thursday,u=void 0===m?[]:m,p=e.Friday,g=void 0===p?[]:p,f=e.Saturday,b=void 0===f?[]:f;return c.map((function(e){var a=e.week_timetable_id,o=e.week_time_table;if("draft"===o.status?r="draft":"active"===o.status&&(r="active"),!o||!o.start_time||!o.end_time)return t;var c={Monday:e,start_time:o.start_time,end_time:o.end_time,status:o.status,id:a};c.Tuesday=wv(l,a),c.Wednesday=wv(d,a),c.Thursday=wv(u,a),c.Friday=wv(g,a),c.Saturday=wv(b,a),n.push(c)})),t[a]={data:n,status:r},t}var Av=function(e,t){return console.log("state,action :>> ",e,t),t.payload.data},_v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pp.GET_ATTENDENCE.START:return Object(N.a)(Object(N.a)({},e),{},{attendenceLoading:!0});case Pp.GET_ATTENDENCE.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{attendence:t.payload.data,attendenceLoading:!1});case Pp.GET_ATTENDENCE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{attendenceLoading:!1});case Pp.GET_CLASSES.START:return Object(N.a)(Object(N.a)({},e),{},{classesLoading:!0});case Pp.GET_CLASSES.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{classes:t.payload.data,classesLoading:!1});case Pp.GET_CLASSES.FAIL:return Object(N.a)(Object(N.a)({},e),{},{classesLoading:!1});case Pp.LUNCH_MENU_GET_BY_DISH.START:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuGetByDishLoading:!0});case Pp.LUNCH_MENU_GET_BY_DISH.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuGetByDish:t.payload.data,lunchMenuGetByDishLoading:!1});case Pp.LUNCH_MENU_GET_BY_DISH.FAIL:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuGetByDishLoading:!1});case Pp.LUNCH_MENU_GET_BY_WEEK.START:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuGetByWeekLoading:!0});case Pp.LUNCH_MENU_GET_BY_WEEK.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuGetByWeek:t.payload.data,lunchMenuGetByWeekLoading:!1});case Pp.LUNCH_MENU_GET_BY_WEEK.FAIL:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuGetByWeekLoading:!1});case Pp.GET_WEEK_FILTER_USING_ALL.START:return Object(N.a)(Object(N.a)({},e),{},{getWeekFilterUsingAllLoading:!0});case Pp.GET_WEEK_FILTER_USING_ALL.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{get_week_filter_using_all:Tv(t.payload.data.week_timetable,e.get_week_filter_using_all,t.data.classId),getWeekFilterUsingAllLoading:!1});case Pp.GET_WEEK_FILTER_USING_ALL.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getWeekFilterUsingAllLoading:!1});case Pp.GET_WEEKLY_TIMETABLE_SUBJECTS.START:return Object(N.a)(Object(N.a)({},e),{},{weeklyTimeTableSubjectsLoading:!0});case Pp.GET_WEEKLY_TIMETABLE_SUBJECTS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{weekly_timetable_subjects:t.payload.data,weeklyTimeTableSubjectsLoading:!1});case Pp.GET_WEEKLY_TIMETABLE_SUBJECTS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{weeklyTimeTableSubjectsLoading:!1});case Pp.POST_ADD_SUBJECTS_OR_TIME.START:return Object(N.a)(Object(N.a)({},e),{},{addSubjectsOrTimeLoading:!0});case Pp.POST_ADD_SUBJECTS_OR_TIME.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{add_subjects_or_time:t.payload.data,addSubjectsOrTimeLoading:!1});case Pp.POST_ADD_SUBJECTS_OR_TIME.FAIL:return Object(N.a)(Object(N.a)({},e),{},{addSubjectsOrTimeLoading:!1});case Pp.SCHOOL_GRADE.START:return Object(N.a)(Object(N.a)({},e),{},{schoolGradeLoading:!0});case Pp.SCHOOL_GRADE.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{schoolGrade:t.payload.data,schoolGradeLoading:!1});case Pp.SCHOOL_GRADE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{schoolGradeLoading:!1});case Pp.DIARY_MULTIPLE_SEEN_UNSEEN.START:return Object(N.a)(Object(N.a)({},e),{},{diarySeenUnseenLoading:!0});case Pp.DIARY_MULTIPLE_SEEN_UNSEEN.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{diarySeenUnseen:t.payload.data,diarySeenUnseenLoading:!1});case Pp.DIARY_MULTIPLE_SEEN_UNSEEN.FAIL:return Object(N.a)(Object(N.a)({},e),{},{diarySeenUnseenLoading:!1});case Pp.GET_DIARY_MULTIPLE.START:return Object(N.a)(Object(N.a)({},e),{},{getDiaryMultipleLoading:!0});case Pp.GET_DIARY_MULTIPLE.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getDiaryMultiple:t.payload.data,getDiaryMultipleLoading:!1});case Pp.GET_DIARY_MULTIPLE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getDiaryMultipleLoading:!1});case Pp.POST_DIARY_MULTIPLE.START:return Object(N.a)(Object(N.a)({},e),{},{postDiaryMultipleLoading:!0});case Pp.POST_DIARY_MULTIPLE.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{postDiaryMultiple:t.payload.data,postDiaryMultipleLoading:!1});case Pp.POST_DIARY_MULTIPLE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postDiaryMultipleLoading:!1});case Pp.PUT_DIARY_MULTIPLE.START:return Object(N.a)(Object(N.a)({},e),{},{putDiaryMultipleLoading:!0});case Pp.PUT_DIARY_MULTIPLE.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putDiaryMultiple:t.payload.data,putDiaryMultipleLoading:!1});case Pp.PUT_DIARY_MULTIPLE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putDiaryMultipleLoading:!1});case Pp.PUT_ACKNOWLEDGEMENT.START:return Object(N.a)(Object(N.a)({},e),{},{putAcknowledgementLoading:!0});case Pp.PUT_ACKNOWLEDGEMENT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putAcknowledgement:t.payload.data,putAcknowledgementLoading:!1});case Pp.PUT_ACKNOWLEDGEMENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putAcknowledgementLoading:!1});case Pp.PUT_LIBRARY.START:return Object(N.a)(Object(N.a)({},e),{},{putLibraryLoading:!0});case Pp.PUT_LIBRARY.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putLibrary:t.payload.data,putLibraryLoading:!1});case Pp.PUT_LIBRARY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putLibraryLoading:!1});case Pp.PUT_RETURN_LIBRARY.START:return Object(N.a)(Object(N.a)({},e),{},{putReturnLibraryLoading:!0});case Pp.PUT_RETURN_LIBRARY.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putReturnLibrary:t.payload.data,putReturnLibraryLoading:!1});case Pp.PUT_RETURN_LIBRARY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putReturnLibraryLoading:!1});case Pp.STUDENT_SIDE_DATA.START:return Object(N.a)(Object(N.a)({},e),{},{studentSideDataLoading:!0});case Pp.STUDENT_SIDE_DATA.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{studentSideData:Av(e,t),studentSideDataInfo:t.payload.data,studentSideDataLoading:!1,hasMore:!1});case Pp.STUDENT_SIDE_DATA.FAIL:return Object(N.a)(Object(N.a)({},e),{},{studentSideDataLoading:!1});case Pp.MENU_DISH_DETAILS.START:return Object(N.a)(Object(N.a)({},e),{},{menuDishDetailsLoading:!0});case Pp.MENU_DISH_DETAILS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{menuDishDetails:t.payload.data,menuDishDetailsLoading:!1});case Pp.MENU_DISH_DETAILS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{menuDishDetailsLoading:!1});case Pp.GET_SINGLE_CLASS.START:return Object(N.a)(Object(N.a)({},e),{},{singleClassLoading:!0});case Pp.GET_SINGLE_CLASS.SUCCESS:case Pp.GET_SINGLE_CLASS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{singleClassLoading:!1});case Pp.GET_STUDENTS.START:return Object(N.a)(Object(N.a)({},e),{},{studentsLoading:!0});case Pp.GET_STUDENTS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{students:t.payload.data,studentsLoading:!1});case Pp.GET_STUDENTS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{studentsLoading:!1});case Pp.INDIVIDUAL_DIARY_POST.START:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPostLoading:!0});case Pp.INDIVIDUAL_DIARY_POST.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPost:t.payload.data,individualDiaryPostLoading:!1});case Pp.INDIVIDUAL_DIARY_POST.FAIL:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPostLoading:!1});case Pp.INDIVIDUAL_DIARY_PUT.START:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPutLoading:!0});case Pp.INDIVIDUAL_DIARY_PUT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPut:t.payload.data,individualDiaryPutLoading:!1});case Pp.INDIVIDUAL_DIARY_PUT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPutLoading:!1});case Pp.INDIVIDUAL_DIARY_PUT_FOR_PARENT.START:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPutForParentLoading:!0});case Pp.INDIVIDUAL_DIARY_PUT_FOR_PARENT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPutForParent:t.payload.data,individualDiaryPutForParentLoading:!1});case Pp.INDIVIDUAL_DIARY_PUT_FOR_PARENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{individualDiaryPutForParentLoading:!1});case Pp.GET_LIBRARY_INFO.START:return Object(N.a)(Object(N.a)({},e),{},{getLibraryInfoLoading:!0});case Pp.GET_LIBRARY_INFO.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getLibraryInfo:t.payload.data,getLibraryInfoLoading:!1});case Pp.GET_LIBRARY_INFO.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getLibraryInfoLoading:!1});case Pp.GET_LIBRARY_INFO_BY_ID.START:return Object(N.a)(Object(N.a)({},e),{},{getLibraryInfoByIdLoading:!0});case Pp.GET_LIBRARY_INFO_BY_ID.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getLibraryInfoById:t.payload.data,getLibraryInfoByIdLoading:!1});case Pp.GET_LIBRARY_INFO_BY_ID.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getLibraryInfoByIdLoading:!1});case Pp.SEARCH_BOOK.START:return Object(N.a)(Object(N.a)({},e),{},{searchBookLoading:!0});case Pp.SEARCH_BOOK.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{searchBook:t.payload.data,searchBookLoading:!1});case Pp.SEARCH_BOOK.FAIL:return Object(N.a)(Object(N.a)({},e),{},{searchBookLoading:!1});case Pp.POST_LIBRARY.START:return Object(N.a)(Object(N.a)({},e),{},{postLibraryLoading:!0});case Pp.POST_LIBRARY.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{postLibrary:t.payload.data,postLibraryLoading:!1});case Pp.POST_LIBRARY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postLibraryLoading:!1});case Pp.BY_ME_TEACHER_DIARY.START:return Object(N.a)(Object(N.a)({},e),{},{byTeacherDiaryLoading:!0});case Pp.BY_ME_TEACHER_DIARY.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{byTeacherDiary:t.payload.data,byTeacherDiaryLoading:!1});case Pp.BY_ME_TEACHER_DIARY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{byTeacherDiaryLoading:!1});case Pp.FOR_ME_TEACHER_DIARY.START:return Object(N.a)(Object(N.a)({},e),{},{forTeacherDiaryLoading:!0});case Pp.FOR_ME_TEACHER_DIARY.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{forTeacherDiary:t.payload.data,forTeacherDiaryLoading:!1});case Pp.FOR_ME_TEACHER_DIARY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{forTeacherDiaryLoading:!1});case Pp.GET_DETAILS_BY_ID.START:return Object(N.a)(Object(N.a)({},e),{},{getDetailsByIdLoading:!0});case Pp.GET_DETAILS_BY_ID.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getDetailsById:t.payload.data,getDetailsByIdLoading:!1});case Pp.GET_DETAILS_BY_ID.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getDetailsByIdLoading:!1});case Pp.CLASS_STUDENT_LIST.START:return Object(N.a)(Object(N.a)({},e),{},{classStudentListLoading:!0});case Pp.CLASS_STUDENT_LIST.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{classStudentList:t.payload.data,classStudentListLoading:!1});case Pp.CLASS_STUDENT_LIST.FAIL:return Object(N.a)(Object(N.a)({},e),{},{classStudentListLoading:!1});case Pp.GET_SUBJECTS.START:return Object(N.a)(Object(N.a)({},e),{},{subjectsLoading:!0});case Pp.GET_SUBJECTS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{subjects:t.payload.data?t.payload.data.data:[],subjectsLoading:!1});case Pp.GET_SUBJECTS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{subjectsLoading:!1});case Pp.POST_ATTENDANCE.START:return Object(N.a)(Object(N.a)({},e),{},{postAttendanceLoading:!0});case Pp.POST_ATTENDANCE.SUCCESS:case Pp.POST_ATTENDANCE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postAttendanceLoading:!1});case Pp.DELETE_ROW_WEEKLY_TIME_TABLE.START:return Object(N.a)(Object(N.a)({},e),{},{deleteRowWeeklyTimeTableLoading:!0});case Pp.DELETE_ROW_WEEKLY_TIME_TABLE.SUCCESS:case Pp.DELETE_ROW_WEEKLY_TIME_TABLE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{deleteRowWeeklyTimeTableLoading:!1});case Pp.DELETE_DIARY_MULTIPLE.START:return Object(N.a)(Object(N.a)({},e),{},{diaryDeleteLoading:!0});case Pp.DELETE_DIARY_MULTIPLE.SUCCESS:case Pp.DELETE_DIARY_MULTIPLE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{diaryDeleteLoading:!1});case Pp.DELETE_MENU_IN_LIST.START:return Object(N.a)(Object(N.a)({},e),{},{deleteMenuLoading:!0});case Pp.DELETE_MENU_IN_LIST.SUCCESS:case Pp.DELETE_MENU_IN_LIST.FAIL:return Object(N.a)(Object(N.a)({},e),{},{deleteMenuLoading:!1});case Pp.PUBLISH_WEEKLY_TIME_TABLE.START:return Object(N.a)(Object(N.a)({},e),{},{publishWeeklyTimeTableLoading:!0});case Pp.PUBLISH_WEEKLY_TIME_TABLE.SUCCESS:case Pp.PUBLISH_WEEKLY_TIME_TABLE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{publishWeeklyTimeTableLoading:!1});case Pp.IMPORT_ATTENDANCE.START:return Object(N.a)(Object(N.a)({},e),{},{importLoading:!0});case Pp.IMPORT_ATTENDANCE.SUCCESS:case Pp.IMPORT_ATTENDANCE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{importLoading:!1});case Pp.EXPORT_ATTENDANCE.START:return Object(N.a)(Object(N.a)({},e),{},{exportLoading:!0});case Pp.EXPORT_ATTENDANCE.SUCCESS:case Pp.EXPORT_ATTENDANCE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{exportLoading:!1});case Pp.ADD_DISH_IN_DISHES.START:return Object(N.a)(Object(N.a)({},e),{},{addDishInDishesLoading:!0});case Pp.ADD_DISH_IN_DISHES.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{add_dish_in_dishes:t.payload.data,addDishInDishesLoading:!1});case Pp.ADD_DISH_IN_DISHES.FAIL:return Object(N.a)(Object(N.a)({},e),{},{addDishInDishesLoading:!1});case Pp.LUNCH_MENU_PUBLISH_NOW.START:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuPublishNowLoading:!0});case Pp.LUNCH_MENU_PUBLISH_NOW.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuPublishNow:t.payload.data,lunchMenuPublishNowLoading:!1});case Pp.LUNCH_MENU_PUBLISH_NOW.FAIL:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuPublishNowLoading:!1});case Pp.GET_LUNCH_MENU_ID.START:return Object(N.a)(Object(N.a)({},e),{},{getLunchMenuIdLoading:!0});case Pp.GET_LUNCH_MENU_ID.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getLunchMenuId:t.payload,getLunchMenuIdLoading:!1});case Pp.GET_LUNCH_MENU_ID.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getLunchMenuIdLoading:!1});case Pp.SHOW_DISH_LIST_IN_DISHES.START:return Object(N.a)(Object(N.a)({},e),{},{showDishListInDishesLoading:!0});case Pp.SHOW_DISH_LIST_IN_DISHES.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{show_dish_list_in_dishes:t.payload.data,showDishListInDishesLoading:!1});case Pp.SHOW_DISH_LIST_IN_DISHES.FAIL:return Object(N.a)(Object(N.a)({},e),{},{showDishListInDishesLoading:!1});case Pp.LUNCH_MENU_ALL.START:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuAllLoading:!0});case Pp.LUNCH_MENU_ALL.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuAll:t.payload.data,lunchMenuAllLoading:!1});case Pp.LUNCH_MENU_ALL.FAIL:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuAllLoading:!1});case Pp.LUNCH_MENU_SEARCH.START:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuSearchLoading:!0});case Pp.LUNCH_MENU_SEARCH.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuSearch:t.payload.data,lunchMenuSearchLoading:!1});case Pp.LUNCH_MENU_SEARCH.FAIL:return Object(N.a)(Object(N.a)({},e),{},{lunchMenuSearchLoading:!1});case Pp.UPDATE_DISH_IN_DISHES.START:return Object(N.a)(Object(N.a)({},e),{},{updateDishInDishesLoading:!0});case Pp.UPDATE_DISH_IN_DISHES.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{update_dish_in_dishes:t.payload.data,updateDishInDishesLoading:!1});case Pp.UPDATE_DISH_IN_DISHES.FAIL:return Object(N.a)(Object(N.a)({},e),{},{updateDishInDishesLoading:!1});case Pp.UPDATE_MISCELLANEOUS.START:return Object(N.a)(Object(N.a)({},e),{},{updateMiscellaneousLoading:!0});case Pp.UPDATE_MISCELLANEOUS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{updateMiscellaneous:t.payload.data,updateMiscellaneousLoading:!1});case Pp.UPDATE_MISCELLANEOUS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{updateMiscellaneousLoading:!1});case Pp.GET_MISCELLANEOUS.START:return Object(N.a)(Object(N.a)({},e),{},{getMiscellaneousLoading:!0});case Pp.GET_MISCELLANEOUS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getMiscellaneous:t.payload.data,getMiscellaneousLoading:!1});case Pp.GET_MISCELLANEOUS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getMiscellaneousLoading:!1});case Pp.GET_ALL_MISCELLANEOUS.START:return Object(N.a)(Object(N.a)({},e),{},{getAllMiscellaneousLoading:!0});case Pp.GET_ALL_MISCELLANEOUS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getAllMiscellaneous:t.payload.data,getAllMiscellaneousLoading:!1});case Pp.GET_ALL_MISCELLANEOUS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getAllMiscellaneousLoading:!1});case Pp.HOLIDAY_ALL.START:return Object(N.a)(Object(N.a)({},e),{},{holidayAllLoading:!0});case Pp.HOLIDAY_ALL.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{holidayAll:t.payload.data,holidayAllLoading:!1});case Pp.HOLIDAY_ALL.FAIL:return Object(N.a)(Object(N.a)({},e),{},{holidayAllLoading:!1});case Pp.GET_BY_MONTH.START:return Object(N.a)(Object(N.a)({},e),{},{getByMonthLoading:!0});case Pp.GET_BY_MONTH.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getByMonth:t.payload.data,getByMonthLoading:!1});case Pp.GET_BY_MONTH.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getByMonthLoading:!1});case Pp.HOLIDAY_BY_MONTH.START:return Object(N.a)(Object(N.a)({},e),{},{holidayByMonthLoading:!0});case Pp.HOLIDAY_BY_MONTH.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{holidayByMonth:t.payload.data,holidayByMonthLoading:!1});case Pp.HOLIDAY_BY_MONTH.FAIL:return Object(N.a)(Object(N.a)({},e),{},{holidayByMonthLoading:!1});case Pp.MISCELLANEOUS.START:return Object(N.a)(Object(N.a)({},e),{},{miscellaneousLoading:!0});case Pp.MISCELLANEOUS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{miscellaneous:t.payload.data,miscellaneousLoading:!1});case Pp.MISCELLANEOUS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{miscellaneousLoading:!1});case Pp.DELETE_DISH_IN_DISHES.START:return Object(N.a)(Object(N.a)({},e),{},{deleteDishInDishesLoading:!0});case Pp.DELETE_DISH_IN_DISHES.SUCCESS:case Pp.DELETE_DISH_IN_DISHES.FAIL:return Object(N.a)(Object(N.a)({},e),{},{deleteDishInDishesLoading:!1});case Pp.REMOVE_LUNCH_IMAGE.START:return Object(N.a)(Object(N.a)({},e),{},{removeLunchImageLoading:!0});case Pp.REMOVE_LUNCH_IMAGE.SUCCESS:case Pp.REMOVE_LUNCH_IMAGE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{removeLunchImageLoading:!1});case Pp.DIARY_PROFILE.START:return Object(N.a)(Object(N.a)({},e),{},{diaryProfileLoading:!0});case Pp.DIARY_PROFILE.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{diaryProfile:t.payload.data,diaryProfileLoading:!1});case Pp.DIARY_PROFILE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{diaryProfileLoading:!1});default:return e}},Iv={notificationCount:0},Bv=function(e,t){return hv(e,{notificationCount:t})},Dv=function(e){return hv(e,{notificationCount:e.notificationCount+1})},Rv=function(e){return hv(e,{notificationCount:e.notificationCount-1})},Lv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION_COUNT":return Bv(e,t.count);case"ADD_NOTIFICATION_COUNT":return Dv(e);case"SUB_NOTIFICATION_COUNT":return Rv(e);default:return e}},Fv={postPayment:[],postPaymentLoading:!1,getPayment:null,getPaymentLoading:!1,hasMore:!0,getPaymentInfo:[],getPaymentById:[],getPaymentByIdLoading:!1,putPayment:[],putPaymentLoading:!1,getComments:[],getCommentsLoading:!1,postComments:[],postCommentsLoading:!1,paidUsers:[],paidUsersLoading:!1,unpaidUsers:[],unpaidUsersLoading:!1,paymentById:[],paymentByIdLoading:!1,postPay:[],postPayLoading:!1,createOrder:[],createOrderLoading:!1,deleteLoading:!1},Mv=function(e,t){return console.log("state,action :>> ",e,t),t.payload.data},Pv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pd.POST_PAYMENT.START:return Object(N.a)(Object(N.a)({},e),{},{postPaymentLoading:!0});case pd.POST_PAYMENT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{postPayment:t.payload.data,postPaymentLoading:!1});case pd.POST_PAYMENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postPaymentLoading:!1});case pd.GET_PAYMENT.START:return Object(N.a)(Object(N.a)({},e),{},{getPaymentLoading:!0});case pd.GET_PAYMENT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getPayment:Mv(e,t),getPaymentInfo:t.payload.data,getPaymentLoading:!1,hasMore:!1});case pd.GET_PAYMENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getPaymentLoading:!1});case pd.GET_PAYMENT_BY_ID.START:return Object(N.a)(Object(N.a)({},e),{},{getPaymentByIdLoading:!0});case pd.GET_PAYMENT_BY_ID.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getPaymentById:t.payload.data,getPaymentByIdLoading:!1});case pd.GET_PAYMENT_BY_ID.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getPaymentByIdLoading:!1});case pd.PUT_PAYMENT.START:return Object(N.a)(Object(N.a)({},e),{},{putPaymentLoading:!0});case pd.PUT_PAYMENT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putPayment:t.payload.data,putPaymentLoading:!1});case pd.PUT_PAYMENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putPaymentLoading:!1});case pd.GET_COMMENTS.START:return Object(N.a)(Object(N.a)({},e),{},{getCommentsLoading:!0});case pd.GET_COMMENTS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getComments:t.payload.data,getCommentsLoading:!1});case pd.GET_COMMENTS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getCommentsLoading:!1});case pd.POST_COMMENTS.START:return Object(N.a)(Object(N.a)({},e),{},{postCommentsLoading:!0});case pd.POST_COMMENTS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{postComments:t.payload.data,postCommentsLoading:!1});case pd.POST_COMMENTS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postCommentsLoading:!1});case pd.PAID_USERS.START:return Object(N.a)(Object(N.a)({},e),{},{paidUsersLoading:!0});case pd.PAID_USERS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{paidUsers:t.payload.data,paidUsersLoading:!1});case pd.PAID_USERS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{paidUsersLoading:!1});case pd.UNPAID_USERS.START:return Object(N.a)(Object(N.a)({},e),{},{unpaidUsersLoading:!0});case pd.UNPAID_USERS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{unpaidUsers:t.payload.data,unpaidUsersLoading:!1});case pd.UNPAID_USERS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{unpaidUsersLoading:!1});case pd.PAYMENT_BY_ID.START:return Object(N.a)(Object(N.a)({},e),{},{paymentByIdLoading:!0});case pd.PAYMENT_BY_ID.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{paymentById:t.payload.data,paymentByIdLoading:!1});case pd.PAYMENT_BY_ID.FAIL:return Object(N.a)(Object(N.a)({},e),{},{paymentByIdLoading:!1});case pd.POST_PAY.START:return Object(N.a)(Object(N.a)({},e),{},{postPayLoading:!0});case pd.POST_PAY.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{postPay:t.payload.data,postPayLoading:!1});case pd.POST_PAY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postPayLoading:!1});case pd.CREATE_ORDER.START:return Object(N.a)(Object(N.a)({},e),{},{createOrderLoading:!0});case pd.CREATE_ORDER.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{createOrder:t.payload.data,createOrderLoading:!1});case pd.CREATE_ORDER.FAIL:return Object(N.a)(Object(N.a)({},e),{},{createOrderLoading:!1});case pd.REMOVE_PAYMENT.START:return Object(N.a)(Object(N.a)({},e),{},{deleteLoading:!0});case pd.REMOVE_PAYMENT.SUCCESS:case pd.REMOVE_PAYMENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{deleteLoading:!1});default:return e}},zv={supports:[],supportsListInfo:{},supportLoading:!1,supportPaginationLoading:!1,categories:[],categoryLoading:!1,postSupportLoading:!1,singleSupportLoading:!1,singleCategoryLoading:!1,updateSupportLoading:!1,postCommentLoading:!1,supportHistoryLoading:!1};function Uv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.payload.data?t.payload.data.data:[],n=a;return t.data.data&&(n=[].concat(Object(Na.a)(e),Object(Na.a)(a))),n}var Yv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.GET_SUPPORTS.START:return Object(N.a)(Object(N.a)({},e),{},{supportLoading:!0,supportPaginationLoading:!!t.data.data});case Ou.GET_SUPPORTS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{supportsListInfo:t.payload.data,supports:Uv(e.photos,t),supportLoading:!1,supportPaginationLoading:!1});case Ou.GET_SUPPORTS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{supportLoading:!1,supportPaginationLoading:!1});case Ou.GET_CATEGORY.START:return Object(N.a)(Object(N.a)({},e),{},{categoryLoading:!0});case Ou.GET_CATEGORY.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{categories:t.payload.data,categoryLoading:!1});case Ou.GET_CATEGORY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{categoryLoading:!1});case Ou.POST_SUPPORTS.START:return Object(N.a)(Object(N.a)({},e),{},{postSupportLoading:t.data.loading});case Ou.POST_SUPPORTS.SUCCESS:case Ou.POST_SUPPORTS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postSupportLoading:!1});case Ou.GET_SINGLE_SUPPORT.START:return Object(N.a)(Object(N.a)({},e),{},{singleSupportLoading:!0});case Ou.GET_SINGLE_SUPPORT.SUCCESS:case Ou.GET_SINGLE_SUPPORT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{singleSupportLoading:!1});case Ou.GET_SINGLE_CATEGORY.START:return Object(N.a)(Object(N.a)({},e),{},{singleCategoryLoading:!0});case Ou.GET_SINGLE_CATEGORY.SUCCESS:case Ou.GET_SINGLE_CATEGORY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{singleCategoryLoading:!1});case Ou.UPDATE_SUPPORT.START:return Object(N.a)(Object(N.a)({},e),{},{updateSupportLoading:t.data.loading});case Ou.UPDATE_SUPPORT.SUCCESS:case Ou.UPDATE_SUPPORT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{updateSupportLoading:!1});case Ou.POST_COMMENT.START:return Object(N.a)(Object(N.a)({},e),{},{postCommentLoading:!0});case Ou.POST_COMMENT.SUCCESS:case Ou.POST_COMMENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postCommentLoading:!1});case Ou.GET_SUPPORT_HISTORY.START:return Object(N.a)(Object(N.a)({},e),{},{supportHistoryLoading:!0});case Ou.GET_SUPPORT_HISTORY.SUCCESS:case Ou.GET_SUPPORT_HISTORY.FAIL:return Object(N.a)(Object(N.a)({},e),{},{supportHistoryLoading:!1});default:return e}},Hv={contacts:[],contactsLoading:!1,chatUsers:[],chatUsersLoading:!1,singleChatUser:null},Wv=function(e,t){var a=e.school_chat_message;return a.find((function(e){return e.id===t.id}))||a.push(t),Object(N.a)(Object(N.a)({},e),{},{school_chat_message:a})},Gv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ha.GET_CONTACTS.START:return Object(N.a)(Object(N.a)({},e),{},{contactsLoading:t.data.loading});case ha.GET_CONTACTS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{contacts:t.payload.data,contactsLoading:!1});case ha.GET_CONTACTS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{contactsLoading:!1});case ha.GET_CHAT_USERS.START:return Object(N.a)(Object(N.a)({},e),{},{chatUsersLoading:t.data.loading});case ha.GET_CHAT_USERS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{chatUsers:t.payload.data,chatUsersLoading:!1});case ha.GET_CHAT_USERS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{chatUsersLoading:!1});case ha.CREATE_CHATROOM.START:return Object(N.a)(Object(N.a)({},e),{},{chatUsersLoading:t.data.loading});case ha.CREATE_CHATROOM.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{chatUsers:t.payload.data,chatUsersLoading:!1});case ha.CREATE_CHATROOM.FAIL:return Object(N.a)(Object(N.a)({},e),{},{chatUsersLoading:!1});case ha.SEND_CHAT.START:return Object(N.a)(Object(N.a)({},e),{},{chatUsersLoading:t.data.loading});case ha.SEND_CHAT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{chatUsers:t.payload.data,chatUsersLoading:!1});case ha.SEND_CHAT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{chatUsersLoading:!1});case ha.SET_CHAT_USER:return Object(N.a)(Object(N.a)({},e),{},{singleChatUser:t.data});case ha.UPDATE_CHAT:return Object(N.a)(Object(N.a)({},e),{},{singleChatUser:Wv(e.singleChatUser,t.data)});default:return e}},Vv={postReport:[],postReportLoading:!1,putAssignment:[],putAssignmentLoading:!1,putNews:[],putNewsLoading:!1,putAttendance:[],putAttendanceLoading:!1,putPayment:[],putPaymentLoading:!1,getReportById:[],getReportByIdLoading:!1,deleteReportLoading:!1,downloadReport:[],downloadReportLoading:!1},Kv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pE.POST_REPORT.START:return Object(N.a)(Object(N.a)({},e),{},{postReportLoading:!0});case pE.POST_REPORT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{postReport:t.payload.data,postReportLoading:!1});case pE.POST_REPORT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{postReportLoading:!1});case pE.PUT_ASSIGNMENT.START:return Object(N.a)(Object(N.a)({},e),{},{putAssignmentLoading:!0});case pE.PUT_ASSIGNMENT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putAssignment:t.payload.data,putAssignmentLoading:!1});case pE.PUT_ASSIGNMENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putAssignmentLoading:!1});case pE.PUT_NEWS.START:return Object(N.a)(Object(N.a)({},e),{},{putNewsLoading:!0});case pE.PUT_NEWS.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putNews:t.payload.data,putNewsLoading:!1});case pE.PUT_NEWS.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putNewsLoading:!1});case pE.PUT_ATTENDANCE.START:return Object(N.a)(Object(N.a)({},e),{},{putAttendanceLoading:!0});case pE.PUT_ATTENDANCE.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putAttendance:t.payload.data,putAttendanceLoading:!1});case pE.PUT_ATTENDANCE.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putAttendanceLoading:!1});case pE.PUT_PAYMENT.START:return Object(N.a)(Object(N.a)({},e),{},{putPaymentLoading:!0});case pE.PUT_PAYMENT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{putPayment:t.payload.data,putPaymentLoading:!1});case pE.PUT_PAYMENT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{putPaymentLoading:!1});case pE.GET_REPORT.START:return Object(N.a)(Object(N.a)({},e),{},{getReportLoading:!0});case pE.GET_REPORT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getReport:t.payload.data,getReportLoading:!1});case pE.GET_REPORT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getReportLoading:!1});case pE.GET_REPORT_BY_ID.START:return Object(N.a)(Object(N.a)({},e),{},{getReportByIdLoading:!0});case pE.GET_REPORT_BY_ID.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{getReportById:t.payload.data,getReportByIdLoading:!1});case pE.GET_REPORT_BY_ID.FAIL:return Object(N.a)(Object(N.a)({},e),{},{getReportByIdLoading:!1});case pE.DELETE_REPORT.START:return Object(N.a)(Object(N.a)({},e),{},{deleteReportLoading:!0});case pE.DELETE_REPORT.SUCCESS:case pE.DELETE_REPORT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{deleteReportLoading:!1});case pE.DOWNLOAD_REPORT.START:return Object(N.a)(Object(N.a)({},e),{},{downloadReportLoading:!0});case pE.DOWNLOAD_REPORT.SUCCESS:return Object(N.a)(Object(N.a)({},e),{},{downloadReport:t.payload.data,downloadReportLoading:!1});case pE.DOWNLOAD_REPORT.FAIL:return Object(N.a)(Object(N.a)({},e),{},{downloadReportLoading:!1});default:return e}},qv=function(e){return Object(bv.c)({auth:Nv,notification:Lv,Attendence:_v,Payment:Pv,Supports:Yv,Report:Kv,Chat:Gv,router:Object(l.b)(e)})},Jv=a(568),Qv=a(478),Xv=a(103),Zv=a(42),$v=a(95),ey=Sa.a.mark(cy),ty=Sa.a.mark(iy),ay=Sa.a.mark(ly),ny=Sa.a.mark(sy),ry=Sa.a.mark(dy),oy=Sa.a.mark(my);function cy(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zv.a)([Object(Zv.f)("AUTH_INITIATE_LOGOUT",sy),Object(Zv.g)("AUTH_USER",iy),Object(Zv.f)("AUTH_CHECK_STATE",ly),Object(Zv.f)("AUTH_CHECK_TIMEOUT",dy),Object(Zv.f)("AUTH_ROLE_SELECTION",my)]);case 2:case"end":return e.stop()}}),ey)}function iy(e){var t,a,n,r,o,c,i,l,s;return Sa.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(Zv.e)({type:"AUTH_START"});case 2:return t={username:e.userName,password:e.password},d.prev=3,a="",d.next=8,qr.login(t);case 8:a=d.sent;case 9:if(200!==a.status){d.next=66;break}return d.next=12,Wm();case 12:if(n=d.sent,null===a.data.user_device_tokens||!n){d.next=22;break}if(a.data.user_device_tokens.find((function(e){return e===n}))){d.next=20;break}return r=[].concat(Object(Na.a)(a.data.user_device_tokens),[n]),d.next=19,qr.addDeviceToken(a.data.access_token,r,a.data.user.id);case 19:d.sent;case 20:d.next=27;break;case 22:if(!n){d.next=27;break}return o=[n],d.next=26,qr.addDeviceToken(a.data.access_token,o,a.data.user.id);case 26:d.sent;case 27:return d.next=29,new Date(a.data.expires_at);case 29:return c=d.sent,d.next=32,localStorage.setItem("srmToken",a.data.access_token);case 32:return d.next=34,localStorage.setItem("schoolName",a.data.school_details.name);case 34:return d.next=36,localStorage.setItem("schoolLogo",a.data.school_details.logo);case 36:return d.next=38,localStorage.setItem("srmUserInfo",JSON.stringify(a.data.user));case 38:return d.next=40,localStorage.setItem("srmExpirationDate",c);case 40:return d.next=42,localStorage.setItem("srmSelectedRole",JSON.stringify(a.data.user.roles[0].name));case 42:for(i=a.data.user.roles,l=!1,s=0;s<i.length;s++)"parent"===i[s].name&&(l=!0);if(!l){d.next=52;break}return d.next=48,localStorage.setItem("srmChild_dict",JSON.stringify(a.data.studentDetails));case 48:return d.next=50,localStorage.setItem("srmSelected_Child",0);case 50:return d.next=52,localStorage.setItem("srmSelected_Child_token",a.data.studentDetails[0].access_token);case 52:return ga.setAuthorizationToken(a.data.access_token),d.next=55,Object(Zv.e)($e({token:a.data.access_token,userInfo:a.data.user,redirectUrl:cn,selectedRole:a.data.user.roles[0].name}));case 55:if(!(a.data.user.roles.length>1)){d.next=58;break}return d.next=58,Object(Zv.e)({type:"AUTH_INITIATE_ROLE_SELECTION"});case 58:return d.next=60,Object(Zv.e)(nt(a.data.expires_at,!0));case 60:return d.next=62,Object(Zv.e)({type:"START_NOTIFICATION_COUNT"});case 62:return d.next=64,Object(Zv.e)(Object($v.d)(cn));case 64:d.next=68;break;case 66:return d.next=68,Object(Zv.e)(et("Invalid Credentials"));case 68:d.next=77;break;case 70:return d.prev=70,d.t0=d.catch(3),console.log(d.t0),d.next=75,Object(Zv.b)([localStorage,localStorage.clear]);case 75:return d.next=77,Object(Zv.e)(et("Invalid Credentials"));case 77:case"end":return d.stop()}}),ty,null,[[3,70]])}function ly(e){var t,a,n,r;return Sa.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,localStorage.getItem("srmToken");case 2:if(t=o.sent,ga.setAuthorizationToken(t),t){o.next=9;break}return o.next=7,Object(Zv.e)(at(e.isAuthenticated));case 7:o.next=37;break;case 9:return o.next=11,new Date(localStorage.getItem("srmExpirationDate"));case 11:if(!(o.sent<=new Date)){o.next=17;break}return o.next=15,Object(Zv.e)(at(e.isAuthenticated));case 15:o.next=37;break;case 17:return o.next=19,JSON.parse(localStorage.getItem("srmUserInfo"));case 19:return a=o.sent,o.next=22,JSON.parse(localStorage.getItem("srmSelectedRole"));case 22:return n=o.sent,o.next=25,Object(Zv.e)($e({token:t,userInfo:a,redirectUrl:cn,selectedRole:n}));case 25:return o.next=27,Object(Zv.e)({type:"START_NOTIFICATION_COUNT"});case 27:return o.next=29,localStorage.getItem("srmCurrentRoute");case 29:if(null!=(r=o.sent)){o.next=35;break}return o.next=33,Object(Zv.e)(Object($v.d)(cn));case 33:o.next=37;break;case 35:return o.next=37,Object(Zv.e)(Object($v.d)(r));case 37:case"end":return o.stop()}}),ay)}function sy(e){return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Zv.b)([localStorage,localStorage.clear]);case 2:if(!e.isAuthenticated){t.next=5;break}return t.next=5,Object(Zv.e)(Object($v.d)("/login"));case 5:return t.next=7,Object(Zv.e)({type:"AUTH_LOGOUT"});case 7:case"end":return t.stop()}}),ny)}function dy(e){return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Zv.c)(ea(e.expirationDate).diff(ea()));case 2:return t.next=4,Object(Zv.e)(at(e.isAuthenticated));case 4:case"end":return t.stop()}}),ry)}function my(e){return Sa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.setItem("srmSelectedRole",JSON.stringify(e.selectedRole));case 2:return t.next=4,Object(Zv.e)({type:"AUTH_ROLE_SELECTION_SUCCESS",selectedRole:e.selectedRole});case 4:return t.next=6,Object(Zv.e)(Object($v.d)(cn));case 6:case"end":return t.stop()}}),oy)}var uy=Sa.a.mark(gy),py=Sa.a.mark(fy);function gy(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zv.f)("START_NOTIFICATION_COUNT",fy);case 2:case"end":return e.stop()}}),uy)}function fy(e){var t,a,n,r,o,c;return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("srmToken");case 2:return t=e.sent,e.next=5,JSON.parse(localStorage.getItem("srmSelectedRole"));case 5:if(a=e.sent,n=null,r=null,o={current_role:a},"parent"!==a){e.next=17;break}return e.next=12,localStorage.getItem("srmSelected_Child");case 12:return n=e.sent,e.next=15,JSON.parse(localStorage.getItem("srmChild_dict"));case 15:r=e.sent,o=Object(N.a)(Object(N.a)({},o),{},{student_id:r[n].userDetails.id||null});case 17:return e.prev=17,e.next=20,vc.fetchNotificationCount(t,o);case 20:if(200!==(c=e.sent).status){e.next=24;break}return e.next=24,Object(Zv.e)({type:"SET_NOTIFICATION_COUNT",count:c.data.data.unread_notification_count});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(17),console.log(e.t0);case 29:case"end":return e.stop()}}),py,null,[[17,26]])}var by=a(361),hy=a.n(by),xy=function(e){var t=Object.keys(e),a="";return t.length&&t.map((function(t){a+="non_field_errors"==t?e[t]:"".concat(t,": ").concat(e[t]," \n")})),a},Ey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};"ECONNABORTED"===e.code&&(t.networkError=!0);var a=e.response,n=void 0===a?{}:a;if(n){var r=n.data,o=void 0===r?{}:r;t.status=n.status||o.http_status_code,o.message&&(t.message="object"===typeof o.message?xy(o.message):o.message)}return t.message||(t.message="Something Went Wrong!"),t},vy=Sa.a.mark(jy),yy=Sa.a.mark(Oy);function jy(e){var t,a,n,r,o,c,i,l,s,d,m,u,p;return Sa.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return t=e.promise,a=e.onSuccessCallback,n=e.placeholderData,r=e.onFailCallback,o=e.subtypes,c=o.START,i=o.SUCCESS,l=o.FAIL,s=e.data,d=void 0===s?{}:s,g.next=5,Object(Zv.e)({type:c,data:d});case 5:return g.prev=5,g.next=8,Object(Zv.b)(t);case 8:return m=g.sent,g.next=11,m.data;case 11:return u=g.sent,g.next=14,Object(Zv.e)({type:i,payload:n||u,data:d});case 14:a&&hy.a.isFunction(a)&&a(u),g.next=23;break;case 17:return g.prev=17,g.t0=g.catch(5),p=Ey(g.t0)||{},g.next=22,Object(Zv.e)({type:l,errors:g.t0,data:d,error:p});case 22:r&&hy.a.isFunction(r)&&r(p,g.t0);case 23:case"end":return g.stop()}}),vy,null,[[5,17]])}function Oy(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zv.f)(ba,jy);case 2:case"end":return e.stop()}}),yy)}var Sy=Sa.a.mark(Cy);function Cy(){return Sa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zv.d)(cy);case 2:return e.next=4,Object(Zv.d)(gy);case 4:return e.next=6,Object(Zv.d)(Oy);case 6:case"end":return e.stop()}}),Sy)}var Ny=bv.d,ky=Object(Jv.a)(),wy=Object(Xv.a)(),Ty=Object(bv.e)(qv(wy),Ny(Object(bv.a)(Object(Qv.a)(wy),ky)));ky.run(Cy);var Ay=Ty,_y=r.a.createElement(i.a,{store:Ay},r.a.createElement(fv.a,null,r.a.createElement(l.a,{history:wy},r.a.createElement(gv,null),r.a.createElement(pa,null))));c.a.render(_y,document.getElementById("root"))}},[[603,1,2]]]);
//# sourceMappingURL=main.f5663042.chunk.js.map